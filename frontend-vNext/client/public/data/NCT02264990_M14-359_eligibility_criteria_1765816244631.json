{
  "protocolId": "NCT02264990_M14-359",
  "criteria": [
    {
      "criterionId": "INC_1",
      "originalCriterionId": "1",
      "originalText": "Subject must be \u2265 18 years of age.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 6,
        "textSnippet": "Diagnosis and Main Criteria for Inclusion/Exclusion: \nDiagnosis: Metastatic or advanced non-squamous Non-Small Cell Lung Cancer\nMain Inclusion: \n1. Subject must be \u2265 18 years of age.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "This is a single, simple criterion establishing a minimum age requirement. It is represented as one atomic node with a numeric constraint.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Age >= 18 years",
            "omopTable": "observation",
            "numericConstraintStructured": {
              "value": 18,
              "operator": ">=",
              "unit": "years",
              "parameter": "age"
            },
            "strategy": "Standard requirement for adult participants in a clinical trial."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Age >= 18 years",
          "omopTable": "observation",
          "strategy": "Standard requirement for adult participants in a clinical trial.",
          "numericConstraintStructured": {
            "value": 18,
            "operator": ">=",
            "unit": "years",
            "parameter": "age"
          },
          "omopConcepts": [
            {
              "concept_id": 3022304,
              "concept_code": "30525-0",
              "concept_name": "Age",
              "vocabulary_id": "LOINC",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 40757636,
              "concept_code": "54505-3",
              "concept_name": "Language",
              "vocabulary_id": "LOINC",
              "domain_id": "Observation",
              "concept_class_id": "Survey",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3053159,
              "concept_code": "46251-5",
              "concept_name": "Age group",
              "vocabulary_id": "LOINC",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 1617423,
              "concept_code": "97795-9",
              "concept_name": "Fracture age",
              "vocabulary_id": "LOINC",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4027958,
              "concept_code": "227411006",
              "concept_name": "Sage",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Substance",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Age >= 18 years",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18"
        }
      ]
    },
    {
      "criterionId": "INC_2",
      "originalCriterionId": "2",
      "originalText": "Life expectancy > 12 weeks (as per Investigator's clinical assessment).",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 6,
        "textSnippet": "1. Subject must be \u2265 18 years of age.\n2. Life expectancy > 12 weeks (as per Investigator's clinical assessment).",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "This criterion is a single, atomic condition representing a clinical prognosis. It is modeled as a numeric constraint on the 'Life expectancy' parameter, as determined by the investigator.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Life expectancy > 12 weeks",
            "omopTable": "observation",
            "numericConstraintStructured": {
              "value": 12,
              "operator": ">",
              "unit": "weeks",
              "parameter": "Life expectancy"
            },
            "strategy": "This is a clinical assessment of prognosis made by the investigator. In an EHR, this might be recorded in a specific assessment form or inferred from clinical notes."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Life expectancy > 12 weeks",
          "omopTable": "observation",
          "strategy": "This is a clinical assessment of prognosis made by the investigator. In an EHR, this might be recorded in a specific assessment form or inferred from clinical notes.",
          "numericConstraintStructured": {
            "value": 12,
            "operator": ">",
            "unit": "weeks",
            "parameter": "Life expectancy"
          },
          "omopConcepts": [
            {
              "concept_id": 44804302,
              "concept_code": "719871000000108",
              "concept_name": "Life expectancy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Qualifier Value",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 44804299,
              "concept_code": "719841000000102",
              "concept_name": "Healthy life expectancy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Qualifier Value",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37154801,
              "concept_code": "1413121000000106",
              "concept_name": "Limited life expectancy of more than one year",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 35624656,
              "concept_code": "767503006",
              "concept_name": "Limited life expectancy of approximately one year",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44804302, 44804299, 37154801, 35624656)",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Life expectancy > 12 weeks",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44804302, 44804299, 37154801, 35624656)"
        }
      ]
    },
    {
      "criterionId": "INC_3",
      "originalCriterionId": "3",
      "originalText": "Subject must have cytologically or histologically confirmed advanced or metastatic non-squamous NSCLC. Subjects with mixed histology tumors will be eligible if the tumor is predominant non-squamous histology and does not include tumor with small cell histology. Subjects must have a pathologist's report confirming non-squamous NSCLC available for collection by the sponsor. Subjects with EGFR mutation (exon 19 deletion or L858R mutation in exon 21) and/or ALK gene rearrangement must have progressed after first line monotherapy treatment with targeted therapy.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 6,
        "textSnippet": "2. Life expectancy > 12 weeks (as per Investigator's clinical assessment).\n3. Subject must have cytologically or histologically confirmed advanced or metastatic non-squamous \nNSCLC. Subjects with mixed histology tumors will be eligible if the tumor is predominant \nnon-squamous histology and does not include tumor with small cell histology. Subjects must have a \npathologist's report confirming non-squamous NSCLC available for collection by the sponsor. \nSubjects with EGFR mutation (exon 19 del...",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion is decomposed into three main AND conditions: 1) A complex diagnosis/histology block, 2) a documentation requirement, and 3) a conditional rule for EGFR/ALK-positive patients. The conditional rule is modeled as (NOT Biomarker_Positive) OR (Biomarker_Positive_AND_Progressed_On_Therapy) to cover all patient subgroups.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1a1",
                    "nodeType": "atomic",
                    "atomicText": "Subject has a diagnosis of advanced non-small cell lung cancer",
                    "omopTable": "condition_occurrence",
                    "strategy": "Confirm patient has advanced stage NSCLC."
                  },
                  {
                    "nodeId": "1a2",
                    "nodeType": "atomic",
                    "atomicText": "Subject has a diagnosis of metastatic non-small cell lung cancer",
                    "omopTable": "condition_occurrence",
                    "strategy": "Confirm patient has metastatic stage NSCLC."
                  }
                ]
              },
              {
                "nodeId": "1b",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1b1",
                    "nodeType": "atomic",
                    "atomicText": "Tumor histology is confirmed as non-squamous NSCLC",
                    "omopTable": "observation",
                    "strategy": "Identifies patients with pure non-squamous histology."
                  },
                  {
                    "nodeId": "1b2",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "1b2a",
                        "nodeType": "atomic",
                        "atomicText": "Tumor histology is mixed",
                        "omopTable": "observation",
                        "strategy": "Identifies the sub-population with mixed histology tumors."
                      },
                      {
                        "nodeId": "1b2b",
                        "nodeType": "atomic",
                        "atomicText": "Tumor is of predominant non-squamous histology",
                        "omopTable": "observation",
                        "strategy": "Ensures that even in mixed tumors, the non-squamous component is dominant."
                      }
                    ]
                  }
                ]
              },
              {
                "nodeId": "1c",
                "nodeType": "operator",
                "operator": "NOT",
                "operands": [
                  {
                    "nodeId": "1c1",
                    "nodeType": "atomic",
                    "atomicText": "Tumor includes a small cell histology component",
                    "omopTable": "observation",
                    "strategy": "Excludes any patient with a small cell lung cancer component, which has a different treatment paradigm."
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Pathologist's report confirming non-squamous NSCLC is available for collection",
            "omopTable": "observation",
            "strategy": "A documentation requirement to ensure the diagnosis and histology can be source-verified by the sponsor."
          },
          {
            "nodeId": "3",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "3a",
                "nodeType": "operator",
                "operator": "NOT",
                "operands": [
                  {
                    "nodeId": "3a1",
                    "nodeType": "operator",
                    "operator": "OR",
                    "operands": [
                      {
                        "nodeId": "3a1a",
                        "nodeType": "operator",
                        "operator": "OR",
                        "operands": [
                          {
                            "nodeId": "3a1a1",
                            "nodeType": "atomic",
                            "atomicText": "Subject has EGFR exon 19 deletion mutation",
                            "omopTable": "measurement",
                            "strategy": "Identifies patients with a specific activating EGFR mutation."
                          },
                          {
                            "nodeId": "3a1a2",
                            "nodeType": "atomic",
                            "atomicText": "Subject has EGFR L858R mutation in exon 21",
                            "omopTable": "measurement",
                            "strategy": "Identifies patients with another specific activating EGFR mutation."
                          }
                        ]
                      },
                      {
                        "nodeId": "3a1b",
                        "nodeType": "atomic",
                        "atomicText": "Subject has ALK gene rearrangement",
                        "omopTable": "measurement",
                        "strategy": "Identifies patients with an ALK gene rearrangement."
                      }
                    ]
                  }
                ]
              },
              {
                "nodeId": "3b",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "3b1",
                    "nodeType": "atomic",
                    "atomicText": "Subject received first-line monotherapy with targeted therapy",
                    "omopTable": "drug_exposure",
                    "strategy": "Confirms the patient has received the standard-of-care targeted therapy for their mutation."
                  },
                  {
                    "nodeId": "3b2",
                    "nodeType": "temporal",
                    "temporalConstraint": {
                      "operator": "AFTER",
                      "anchor": "first line monotherapy treatment with targeted therapy"
                    },
                    "operand": {
                      "nodeId": "3b2a",
                      "nodeType": "atomic",
                      "atomicText": "Subject has experienced disease progression",
                      "omopTable": "condition_occurrence",
                      "strategy": "Confirms that the patient's disease has progressed, making them eligible for a subsequent line of therapy."
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a1",
          "atomicText": "Subject has a diagnosis of advanced non-small cell lung cancer",
          "omopTable": "condition_occurrence",
          "strategy": "Confirm patient has advanced stage NSCLC.",
          "omopConcepts": [
            {
              "concept_id": 4115276,
              "concept_code": "254637007",
              "concept_name": "Non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 2617997,
                  "concept_code": "G9063",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage i (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-approv...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617998,
                  "concept_code": "G9064",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage ii (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-appro...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617999,
                  "concept_code": "G9065",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage iii a (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-ap...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618000,
                  "concept_code": "G9066",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; stage iii b- iv at diagnosis, metastatic, locally recurrent, or progressive (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618001,
                  "concept_code": "G9067",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease unknown, staging in progress, or not listed (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 44505008,
                  "concept_code": "8046/3-C34.9",
                  "concept_name": "Non-small cell carcinoma of lung, NOS",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Condition",
                  "concept_class_id": "ICDO Condition"
                },
                {
                  "concept_id": 42542211,
                  "concept_code": "642",
                  "concept_name": "Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 1525049,
                  "concept_code": "52958",
                  "concept_name": "ERBB2 Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777605,
                  "concept_code": "NSCLC",
                  "concept_name": "Non-Small Cell Lung Cancer (NSCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777920,
                  "concept_code": "NSCLCPD",
                  "concept_name": "Poorly Differentiated Non-Small Cell Lung Cancer (NSCLCPD)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 37166577,
              "concept_code": "1259727001",
              "concept_name": "Primary non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37109576,
              "concept_code": "723301009",
              "concept_name": "Squamous non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": [
                {
                  "concept_id": 912089,
                  "concept_code": "25316",
                  "concept_name": "Non-small cell lung cancer squamous",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 36684857,
              "concept_code": "457721000124104",
              "concept_name": "Metastatic non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": [
                {
                  "concept_id": 912012,
                  "concept_code": "13094",
                  "concept_name": "MET Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            }
          ]
        },
        {
          "atomicId": "1a2",
          "atomicText": "Subject has a diagnosis of metastatic non-small cell lung cancer",
          "omopTable": "condition_occurrence",
          "strategy": "Confirm patient has metastatic stage NSCLC.",
          "omopConcepts": [
            {
              "concept_id": 4115276,
              "concept_code": "254637007",
              "concept_name": "Non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 2617997,
                  "concept_code": "G9063",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage i (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-approv...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617998,
                  "concept_code": "G9064",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage ii (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-appro...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617999,
                  "concept_code": "G9065",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage iii a (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-ap...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618000,
                  "concept_code": "G9066",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; stage iii b- iv at diagnosis, metastatic, locally recurrent, or progressive (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618001,
                  "concept_code": "G9067",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease unknown, staging in progress, or not listed (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 44505008,
                  "concept_code": "8046/3-C34.9",
                  "concept_name": "Non-small cell carcinoma of lung, NOS",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Condition",
                  "concept_class_id": "ICDO Condition"
                },
                {
                  "concept_id": 42542211,
                  "concept_code": "642",
                  "concept_name": "Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 1525049,
                  "concept_code": "52958",
                  "concept_name": "ERBB2 Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777605,
                  "concept_code": "NSCLC",
                  "concept_name": "Non-Small Cell Lung Cancer (NSCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777920,
                  "concept_code": "NSCLCPD",
                  "concept_name": "Poorly Differentiated Non-Small Cell Lung Cancer (NSCLCPD)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 36684857,
              "concept_code": "457721000124104",
              "concept_name": "Metastatic non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 912012,
                  "concept_code": "13094",
                  "concept_name": "MET Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 1567620,
              "concept_code": "C78.0",
              "concept_name": "Secondary malignant neoplasm of lung",
              "vocabulary_id": "ICD10CM",
              "domain_id": "Condition",
              "concept_class_id": "4-char nonbill code",
              "standard_concept": null,
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 37166577,
              "concept_code": "1259727001",
              "concept_name": "Primary non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1b1",
          "atomicText": "Tumor histology is confirmed as non-squamous NSCLC",
          "omopTable": "observation",
          "strategy": "Identifies patients with pure non-squamous histology.",
          "omopConcepts": [
            {
              "concept_id": 4115276,
              "concept_code": "254637007",
              "concept_name": "Non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 2617997,
                  "concept_code": "G9063",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage i (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-approv...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617998,
                  "concept_code": "G9064",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage ii (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-appro...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617999,
                  "concept_code": "G9065",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage iii a (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-ap...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618000,
                  "concept_code": "G9066",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; stage iii b- iv at diagnosis, metastatic, locally recurrent, or progressive (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618001,
                  "concept_code": "G9067",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease unknown, staging in progress, or not listed (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 44505008,
                  "concept_code": "8046/3-C34.9",
                  "concept_name": "Non-small cell carcinoma of lung, NOS",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Condition",
                  "concept_class_id": "ICDO Condition"
                },
                {
                  "concept_id": 42542211,
                  "concept_code": "642",
                  "concept_name": "Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 1525049,
                  "concept_code": "52958",
                  "concept_name": "ERBB2 Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777605,
                  "concept_code": "NSCLC",
                  "concept_name": "Non-Small Cell Lung Cancer (NSCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777920,
                  "concept_code": "NSCLCPD",
                  "concept_name": "Poorly Differentiated Non-Small Cell Lung Cancer (NSCLCPD)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 4112738,
              "concept_code": "254626006",
              "concept_name": "Adenocarcinoma of lung",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 4110589,
              "concept_code": "254629004",
              "concept_name": "Large cell carcinoma of lung",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 44500971,
                  "concept_code": "8012/3-C34.9",
                  "concept_name": "Large cell carcinoma, NOS, of lung, NOS",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Condition",
                  "concept_class_id": "ICDO Condition"
                },
                {
                  "concept_id": 777925,
                  "concept_code": "LCLC",
                  "concept_name": "Large Cell Lung Carcinoma (LCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 778037,
                  "concept_code": "BLCLC",
                  "concept_name": "Basaloid Large Cell Carcinoma of the Lung (BLCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 37166577,
              "concept_code": "1259727001",
              "concept_name": "Primary non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1b2a",
          "atomicText": "Tumor histology is mixed",
          "omopTable": "observation",
          "strategy": "Identifies the sub-population with mixed histology tumors."
        },
        {
          "atomicId": "1b2b",
          "atomicText": "Tumor is of predominant non-squamous histology",
          "omopTable": "observation",
          "strategy": "Ensures that even in mixed tumors, the non-squamous component is dominant.",
          "omopConcepts": [
            {
              "concept_id": 4112738,
              "concept_code": "254626006",
              "concept_name": "Adenocarcinoma of lung",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 4110589,
              "concept_code": "254629004",
              "concept_name": "Large cell carcinoma of lung",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 44500971,
                  "concept_code": "8012/3-C34.9",
                  "concept_name": "Large cell carcinoma, NOS, of lung, NOS",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Condition",
                  "concept_class_id": "ICDO Condition"
                },
                {
                  "concept_id": 777925,
                  "concept_code": "LCLC",
                  "concept_name": "Large Cell Lung Carcinoma (LCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 778037,
                  "concept_code": "BLCLC",
                  "concept_name": "Basaloid Large Cell Carcinoma of the Lung (BLCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            }
          ]
        },
        {
          "atomicId": "1c1",
          "atomicText": "Tumor includes a small cell histology component",
          "omopTable": "observation",
          "strategy": "Excludes any patient with a small cell lung cancer component, which has a different treatment paradigm.",
          "omopConcepts": []
        },
        {
          "atomicId": "2",
          "atomicText": "Pathologist's report confirming non-squamous NSCLC is available for collection",
          "omopTable": "observation",
          "strategy": "A documentation requirement to ensure the diagnosis and histology can be source-verified by the sponsor.",
          "omopConcepts": [
            {
              "concept_id": 4115276,
              "concept_code": "254637007",
              "concept_name": "Non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 2617997,
                  "concept_code": "G9063",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage i (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-approv...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617998,
                  "concept_code": "G9064",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage ii (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-appro...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617999,
                  "concept_code": "G9065",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage iii a (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-ap...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618000,
                  "concept_code": "G9066",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; stage iii b- iv at diagnosis, metastatic, locally recurrent, or progressive (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618001,
                  "concept_code": "G9067",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease unknown, staging in progress, or not listed (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 44505008,
                  "concept_code": "8046/3-C34.9",
                  "concept_name": "Non-small cell carcinoma of lung, NOS",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Condition",
                  "concept_class_id": "ICDO Condition"
                },
                {
                  "concept_id": 42542211,
                  "concept_code": "642",
                  "concept_name": "Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 1525049,
                  "concept_code": "52958",
                  "concept_name": "ERBB2 Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777605,
                  "concept_code": "NSCLC",
                  "concept_name": "Non-Small Cell Lung Cancer (NSCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777920,
                  "concept_code": "NSCLCPD",
                  "concept_name": "Poorly Differentiated Non-Small Cell Lung Cancer (NSCLCPD)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 37166577,
              "concept_code": "1259727001",
              "concept_name": "Primary non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37109576,
              "concept_code": "723301009",
              "concept_name": "Squamous non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": [
                {
                  "concept_id": 912089,
                  "concept_code": "25316",
                  "concept_name": "Non-small cell lung cancer squamous",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 36684857,
              "concept_code": "457721000124104",
              "concept_name": "Metastatic non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": [
                {
                  "concept_id": 912012,
                  "concept_code": "13094",
                  "concept_name": "MET Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            }
          ]
        },
        {
          "atomicId": "3a1a1",
          "atomicText": "Subject has EGFR exon 19 deletion mutation",
          "omopTable": "measurement",
          "strategy": "Identifies patients with a specific activating EGFR mutation.",
          "omopConcepts": [
            {
              "concept_id": 42536048,
              "concept_code": "734625009",
              "concept_name": "Epidermal growth factor receptor inhibitor",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Disposition",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37203875,
              "concept_code": "784175006",
              "concept_name": "Human epidermal growth factor receptor 2 inhibitor",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Disposition",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37312686,
              "concept_code": "787999003",
              "concept_name": "Human epidermal growth factor receptor 2 staining method",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Qualifier Value",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3a1a2",
          "atomicText": "Subject has EGFR L858R mutation in exon 21",
          "omopTable": "measurement",
          "strategy": "Identifies patients with another specific activating EGFR mutation.",
          "omopConcepts": [
            {
              "concept_id": 42536048,
              "concept_code": "734625009",
              "concept_name": "Epidermal growth factor receptor inhibitor",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Disposition",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37203875,
              "concept_code": "784175006",
              "concept_name": "Human epidermal growth factor receptor 2 inhibitor",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Disposition",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37312686,
              "concept_code": "787999003",
              "concept_name": "Human epidermal growth factor receptor 2 staining method",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Qualifier Value",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3a1b",
          "atomicText": "Subject has ALK gene rearrangement",
          "omopTable": "measurement",
          "strategy": "Identifies patients with an ALK gene rearrangement.",
          "omopConcepts": [
            {
              "concept_id": 37312685,
              "concept_code": "788000009",
              "concept_name": "Anaplastic lymphoma kinase staining method",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Qualifier Value",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37116971,
              "concept_code": "734044003",
              "concept_name": "Anaplastic lymphoma kinase positive anaplastic large cell lymphoma",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Morph Abnormality",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 42872915,
              "concept_code": "450910000",
              "concept_name": "ALK positive large B-cell lymphoma",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Morph Abnormality",
              "standard_concept": "S",
              "match_type": "synonym",
              "source_mappings": [
                {
                  "concept_id": 44499404,
                  "concept_code": "9737/3",
                  "concept_name": "ALK positive large B-cell lymphoma",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Observation",
                  "concept_class_id": "ICDO Histology"
                }
              ]
            }
          ]
        },
        {
          "atomicId": "3b1",
          "atomicText": "Subject received first-line monotherapy with targeted therapy",
          "omopTable": "drug_exposure",
          "strategy": "Confirms the patient has received the standard-of-care targeted therapy for their mutation."
        },
        {
          "atomicId": "3b2a",
          "atomicText": "Subject has experienced disease progression",
          "omopTable": "condition_occurrence",
          "strategy": "Confirms that the patient's disease has progressed, making them eligible for a subsequent line of therapy.",
          "omopConcepts": []
        }
      ],
      "sqlTemplate": "(((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 37166577, 37109576, 36684857))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 36684857, 1567620, 37166577)))\nINTERSECT\n((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4115276, 4112738, 4110589, 37166577))\nUNION\n((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4112738, 4110589))))\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4115276, 37166577, 37109576, 36684857))\nINTERSECT\n((SELECT person_id FROM person\nEXCEPT\n(((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686))\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686)))\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (37312685, 37116971, 42872915))))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)))",
      "sqlComponents": [
        {
          "atomicId": "1a1",
          "atomicText": "Subject has a diagnosis of advanced non-small cell lung cancer",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 37166577, 37109576, 36684857)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Subject has a diagnosis of metastatic non-small cell lung cancer",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 36684857, 1567620, 37166577)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Tumor histology is confirmed as non-squamous NSCLC",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4115276, 4112738, 4110589, 37166577)"
        },
        {
          "atomicId": "1b2a",
          "atomicText": "Tumor histology is mixed",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b2b",
          "atomicText": "Tumor is of predominant non-squamous histology",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4112738, 4110589)"
        },
        {
          "atomicId": "1c1",
          "atomicText": "Tumor includes a small cell histology component",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Pathologist's report confirming non-squamous NSCLC is available for collection",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4115276, 37166577, 37109576, 36684857)"
        },
        {
          "atomicId": "3a1a1",
          "atomicText": "Subject has EGFR exon 19 deletion mutation",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686)"
        },
        {
          "atomicId": "3a1a2",
          "atomicText": "Subject has EGFR L858R mutation in exon 21",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686)"
        },
        {
          "atomicId": "3a1b",
          "atomicText": "Subject has ALK gene rearrangement",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (37312685, 37116971, 42872915)"
        },
        {
          "atomicId": "3b1",
          "atomicText": "Subject received first-line monotherapy with targeted therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3b2a",
          "atomicText": "Subject has experienced disease progression",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_4",
      "originalCriterionId": "4",
      "originalText": "Subject must have NSCLC that is not amenable to surgical resection or radiation with curative intent at time of study Screening.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 6,
        "textSnippet": "rearrangement must have progressed after first line monotherapy treatment with targeted therapy.\n4. Subject must have NSCLC that is not amenable to surgical resection or radiation with curative intent \nat time of study Screening.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion is decomposed into a primary condition (NSCLC diagnosis) AND a negated compound condition. The negated part captures that the disease is NOT amenable to either of two curative-intent treatments (surgical resection OR radiation), representing the logic as: A AND NOT (B OR C).",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Diagnosis of Non-Small Cell Lung Cancer (NSCLC)",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies the patient cohort with the required primary diagnosis."
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "2a_1",
                    "nodeType": "atomic",
                    "atomicText": "NSCLC is amenable to surgical resection",
                    "omopTable": "observation",
                    "timeConstraint": "at time of study Screening",
                    "timeFrameStructured": {
                      "value": null,
                      "unit": null,
                      "operator": "during",
                      "relativeEvent": "Screening"
                    },
                    "strategy": "Represents a clinical assessment that the patient's cancer is considered operable. If true, the patient is not eligible."
                  },
                  {
                    "nodeId": "2a_2",
                    "nodeType": "atomic",
                    "atomicText": "NSCLC is amenable to radiation with curative intent",
                    "omopTable": "observation",
                    "timeConstraint": "at time of study Screening",
                    "timeFrameStructured": {
                      "value": null,
                      "unit": null,
                      "operator": "during",
                      "relativeEvent": "Screening"
                    },
                    "strategy": "Represents a clinical assessment that the patient's cancer can be treated with curative-intent radiation. If true, the patient is not eligible."
                  }
                ]
              }
            ]
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Diagnosis of Non-Small Cell Lung Cancer (NSCLC)",
          "omopTable": "condition_occurrence",
          "strategy": "Identifies the patient cohort with the required primary diagnosis.",
          "omopConcepts": [
            {
              "concept_id": 4115276,
              "concept_code": "254637007",
              "concept_name": "Non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 2617997,
                  "concept_code": "G9063",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage i (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-approv...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617998,
                  "concept_code": "G9064",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage ii (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-appro...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2617999,
                  "concept_code": "G9065",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease initially established as stage iii a (prior to neo-adjuvant therapy, if any) with no evidence of disease progression, recurrence, or metastases (for use in a medicare-ap...",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618000,
                  "concept_code": "G9066",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; stage iii b- iv at diagnosis, metastatic, locally recurrent, or progressive (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 2618001,
                  "concept_code": "G9067",
                  "concept_name": "Oncology; disease status; limited to non-small cell lung cancer; extent of disease unknown, staging in progress, or not listed (for use in a medicare-approved demonstration project)",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Observation",
                  "concept_class_id": "HCPCS"
                },
                {
                  "concept_id": 44505008,
                  "concept_code": "8046/3-C34.9",
                  "concept_name": "Non-small cell carcinoma of lung, NOS",
                  "vocabulary_id": "ICDO3",
                  "domain_id": "Condition",
                  "concept_class_id": "ICDO Condition"
                },
                {
                  "concept_id": 42542211,
                  "concept_code": "642",
                  "concept_name": "Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 1525049,
                  "concept_code": "52958",
                  "concept_name": "ERBB2 Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777605,
                  "concept_code": "NSCLC",
                  "concept_name": "Non-Small Cell Lung Cancer (NSCLC)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                },
                {
                  "concept_id": 777920,
                  "concept_code": "NSCLCPD",
                  "concept_name": "Poorly Differentiated Non-Small Cell Lung Cancer (NSCLCPD)",
                  "vocabulary_id": "OncoTree",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 37166577,
              "concept_code": "1259727001",
              "concept_name": "Primary non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37109576,
              "concept_code": "723301009",
              "concept_name": "Squamous non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": [
                {
                  "concept_id": 912089,
                  "concept_code": "25316",
                  "concept_name": "Non-small cell lung cancer squamous",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            },
            {
              "concept_id": 36684857,
              "concept_code": "457721000124104",
              "concept_name": "Metastatic non-small cell lung cancer",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": [
                {
                  "concept_id": 912012,
                  "concept_code": "13094",
                  "concept_name": "MET Non-small cell lung cancer",
                  "vocabulary_id": "HemOnc",
                  "domain_id": "Condition",
                  "concept_class_id": "Condition"
                }
              ]
            }
          ]
        },
        {
          "atomicId": "2a_1",
          "atomicText": "NSCLC is amenable to surgical resection",
          "omopTable": "observation",
          "strategy": "Represents a clinical assessment that the patient's cancer is considered operable. If true, the patient is not eligible.",
          "timeConstraint": "at time of study Screening",
          "timeFrameStructured": {
            "value": null,
            "unit": null,
            "operator": "during",
            "relativeEvent": "Screening"
          },
          "omopConcepts": [
            {
              "concept_id": 44806861,
              "concept_code": "803271000000107",
              "concept_name": "Specimen collection by surgical resection",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2a_2",
          "atomicText": "NSCLC is amenable to radiation with curative intent",
          "omopTable": "observation",
          "strategy": "Represents a clinical assessment that the patient's cancer can be treated with curative-intent radiation. If true, the patient is not eligible.",
          "timeConstraint": "at time of study Screening",
          "timeFrameStructured": {
            "value": null,
            "unit": null,
            "operator": "during",
            "relativeEvent": "Screening"
          },
          "omopConcepts": [
            {
              "concept_id": 1242725,
              "concept_code": "1287742003",
              "concept_name": "Radiotherapy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 35225154,
                  "concept_code": "Z51.0",
                  "concept_name": "Encounter for antineoplastic radiation therapy",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Procedure",
                  "concept_class_id": "4-char billing code"
                },
                {
                  "concept_id": 44828568,
                  "concept_code": "V58.0",
                  "concept_name": "Encounter for radiotherapy",
                  "vocabulary_id": "ICD9CM",
                  "domain_id": "Procedure",
                  "concept_class_id": "4-dig billing V code"
                },
                {
                  "concept_id": 45890635,
                  "concept_code": "G6003",
                  "concept_name": "Radiation treatment delivery, single treatment area,single port or parallel opposed ports, simple blocks or no blocks: up to 5 mev",
                  "vocabulary_id": "HCPCS",
                  "domain_id": "Procedure",
                  "concept_class_id": "HCPCS"
                }
              ]
            },
            {
              "concept_id": 40218367,
              "concept_code": "G0126",
              "concept_name": "PET lung imaging of solitary pulmonary nodules, using 2-(fluorine-18)-fluoro-2-deoxy -d-glucose (FDG), following CT (71250/71260 or 71270); initial staging of pathologically diagnosed non-small cell lung cancer (Deprecated)",
              "vocabulary_id": "HCPCS",
              "domain_id": "Procedure",
              "concept_class_id": "HCPCS",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 37166577, 37109576, 36684857))\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n((SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)\nUNION\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)))",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Diagnosis of Non-Small Cell Lung Cancer (NSCLC)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 37166577, 37109576, 36684857)"
        },
        {
          "atomicId": "2a_1",
          "atomicText": "NSCLC is amenable to surgical resection",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "2a_2",
          "atomicText": "NSCLC is amenable to radiation with curative intent",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_5",
      "originalCriterionId": "5",
      "originalText": "Subjects must be current smokers (defined as having > 100 smoking events lifetime and having smoked within the past year) or former smokers (defined as having > 100 smoking events lifetime and having not smoked within the past year).",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 6,
        "textSnippet": "4. Subject must have NSCLC that is not amenable to surgical resection or radiation with curative intent \nat time of study Screening.\n5. Subjects must be current smokers (defined as having > 100 smoking events lifetime and having \nsmoked within the past year) or former smokers (defined as having > 100 smoking events lifetime \nand having not smoked within the past year).",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion is structured as an OR between two distinct groups: 'current smokers' and 'former smokers'. Each group is defined by an AND of two conditions: a lifetime smoking history and a temporal constraint on recent smoking activity.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Lifetime smoking events > 100",
                "omopTable": "observation",
                "numericConstraintStructured": {
                  "value": 100,
                  "operator": ">",
                  "unit": "events",
                  "parameter": "lifetime smoking"
                },
                "strategy": "Identifies subjects with a significant smoking history, a common requirement for both current and former smokers."
              },
              {
                "nodeId": "1b",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "WITHIN",
                  "anchor": "reference_date",
                  "value": 1,
                  "unit": "years"
                },
                "operand": {
                  "nodeId": "1b_a",
                  "nodeType": "atomic",
                  "atomicText": "Smoking event",
                  "omopTable": "observation",
                  "strategy": "Checks for evidence of smoking in the last year to define 'current smoker'."
                }
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Lifetime smoking events > 100",
                "omopTable": "observation",
                "numericConstraintStructured": {
                  "value": 100,
                  "operator": ">",
                  "unit": "events",
                  "parameter": "lifetime smoking"
                },
                "strategy": "Identifies subjects with a significant smoking history, a common requirement for both current and former smokers."
              },
              {
                "nodeId": "2b",
                "nodeType": "operator",
                "operator": "NOT",
                "operands": [
                  {
                    "nodeId": "2b_a",
                    "nodeType": "temporal",
                    "temporalConstraint": {
                      "operator": "WITHIN",
                      "anchor": "reference_date",
                      "value": 1,
                      "unit": "years"
                    },
                    "operand": {
                      "nodeId": "2b_a_a",
                      "nodeType": "atomic",
                      "atomicText": "Smoking event",
                      "omopTable": "observation",
                      "strategy": "Checks for evidence of smoking in the last year. The surrounding NOT operator uses this to define 'former smoker' (i.e., no smoking in the last year)."
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "Lifetime smoking events > 100",
          "omopTable": "observation",
          "strategy": "Identifies subjects with a significant smoking history, a common requirement for both current and former smokers.",
          "numericConstraintStructured": {
            "value": 100,
            "operator": ">",
            "unit": "events",
            "parameter": "lifetime smoking"
          },
          "omopConcepts": [
            {
              "concept_id": 40483697,
              "concept_code": "443877004",
              "concept_name": "Family history of smoking",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Context-dependent",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1b_a",
          "atomicText": "Smoking event",
          "omopTable": "observation",
          "strategy": "Checks for evidence of smoking in the last year to define 'current smoker'.",
          "omopConcepts": [
            {
              "concept_id": 40766945,
              "concept_code": "64234-8",
              "concept_name": "Current smoker",
              "vocabulary_id": "LOINC",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 37172639,
              "concept_code": "53661000146106",
              "concept_name": "Type of tobacco used",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Observable Entity",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 45765448,
              "concept_code": "702388001",
              "concept_name": "Tobacco use cessation education",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 764030,
              "concept_code": "449871000124100",
              "concept_name": "Referral to tobacco use quit line",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 764027,
              "concept_code": "449841000124108",
              "concept_name": "Referral to tobacco use cessation clinic",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2a",
          "atomicText": "Lifetime smoking events > 100",
          "omopTable": "observation",
          "strategy": "Identifies subjects with a significant smoking history, a common requirement for both current and former smokers.",
          "numericConstraintStructured": {
            "value": 100,
            "operator": ">",
            "unit": "events",
            "parameter": "lifetime smoking"
          },
          "omopConcepts": [
            {
              "concept_id": 40483697,
              "concept_code": "443877004",
              "concept_name": "Family history of smoking",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Context-dependent",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2b_a_a",
          "atomicText": "Smoking event",
          "omopTable": "observation",
          "strategy": "Checks for evidence of smoking in the last year. The surrounding NOT operator uses this to define 'former smoker' (i.e., no smoking in the last year).",
          "omopConcepts": [
            {
              "concept_id": 40766945,
              "concept_code": "64234-8",
              "concept_name": "Current smoker",
              "vocabulary_id": "LOINC",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 37172639,
              "concept_code": "53661000146106",
              "concept_name": "Type of tobacco used",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Observable Entity",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 45765448,
              "concept_code": "702388001",
              "concept_name": "Tobacco use cessation education",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 764030,
              "concept_code": "449871000124100",
              "concept_name": "Referral to tobacco use quit line",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 764027,
              "concept_code": "449841000124108",
              "concept_name": "Referral to tobacco use cessation clinic",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (40483697))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (40483697))",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "Lifetime smoking events > 100",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (40483697)"
        },
        {
          "atomicId": "1b_a",
          "atomicText": "Smoking event",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (40766945, 37172639, 45765448, 764030, 764027)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Lifetime smoking events > 100",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (40483697)"
        },
        {
          "atomicId": "2b_a_a",
          "atomicText": "Smoking event",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (40766945, 37172639, 45765448, 764030, 764027)"
        }
      ]
    },
    {
      "criterionId": "INC_6",
      "originalCriterionId": "6",
      "originalText": "Subject must have at least 1 unidimensional measurable NSCLC lesion on a CT scan as defined by RECIST (version 1.1).",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "Diagnosis and Main Criteria for Inclusion/Exclusion (Continued): \nMain Inclusion (Continued): \n6. Subject must have at least 1 unidimensional measurable NSCLC lesion on a CT scan as defined by \nRECIST (version 1.1).",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion describes a single, multi-faceted clinical finding, not a combination of independent conditions. It is best represented as a single atomic node with a numeric constraint on the count of qualifying lesions, wrapped in a root AND operator to maintain a consistent tree structure.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "At least 1 unidimensional measurable NSCLC lesion on a CT scan as defined by RECIST 1.1",
            "omopTable": "observation",
            "numericConstraintStructured": {
              "value": 1,
              "operator": ">=",
              "unit": "lesions",
              "parameter": "count of unidimensional measurable NSCLC lesions on CT per RECIST 1.1"
            },
            "strategy": "This query identifies patients by looking for specific tumor assessment records. These records must indicate a 'measurable lesion' according to RECIST 1.1 criteria, be linked to an NSCLC diagnosis, and originate from a CT scan. The query then counts these qualifying lesions to ensure there is at least one."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "At least 1 unidimensional measurable NSCLC lesion on a CT scan as defined by RECIST 1.1",
          "omopTable": "observation",
          "strategy": "This query identifies patients by looking for specific tumor assessment records. These records must indicate a 'measurable lesion' according to RECIST 1.1 criteria, be linked to an NSCLC diagnosis, and originate from a CT scan. The query then counts these qualifying lesions to ensure there is at least one.",
          "numericConstraintStructured": {
            "value": 1,
            "operator": ">=",
            "unit": "lesions",
            "parameter": "count of unidimensional measurable NSCLC lesions on CT per RECIST 1.1"
          },
          "omopConcepts": []
        }
      ],
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "At least 1 unidimensional measurable NSCLC lesion on a CT scan as defined by RECIST 1.1",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_7",
      "originalCriterionId": "7",
      "originalText": "Subject must consent to provide archived tissue or cytology sample of NSCLC lesion (primary or metastatic) for analysis if available.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "RECIST (version 1.1).\n7. Subject must consent to provide archived tissue or cytology sample of NSCLC lesion (primary or \nmetastatic) for analysis if available. ",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion is conditional: the requirement to consent only applies 'if' a sample is available. This 'A if B' logic is translated to the boolean expression '(NOT B) OR A', meaning the patient is eligible if no sample is available, OR if a sample is available and they have consented.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Archived NSCLC tissue or cytology sample is available",
                "omopTable": "observation",
                "strategy": "Checks source data or clinical trial data systems to confirm if an appropriate archived sample from an NSCLC lesion is recorded as being available for analysis."
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Subject consented to provide archived NSCLC sample for analysis",
            "omopTable": "observation",
            "strategy": "Checks for a signed informed consent form or an equivalent record in the clinical trial data system confirming the subject's consent to provide the specified sample."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "Archived NSCLC tissue or cytology sample is available",
          "omopTable": "observation",
          "strategy": "Checks source data or clinical trial data systems to confirm if an appropriate archived sample from an NSCLC lesion is recorded as being available for analysis.",
          "omopConcepts": [
            {
              "concept_id": 44786487,
              "concept_code": "G9282",
              "concept_name": "Documentation of medical reason(s) for not reporting the histological type or nsclc-nos classification with an explanation (e.g., biopsy taken for other purposes in a patient with a history of non-small cell lung cancer or other documented medical reas...",
              "vocabulary_id": "HCPCS",
              "domain_id": "Observation",
              "concept_class_id": "HCPCS",
              "standard_concept": "S",
              "match_type": "synonym",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2",
          "atomicText": "Subject consented to provide archived NSCLC sample for analysis",
          "omopTable": "observation",
          "strategy": "Checks for a signed informed consent form or an equivalent record in the clinical trial data system confirming the subject's consent to provide the specified sample.",
          "omopConcepts": [
            {
              "concept_id": 44786487,
              "concept_code": "G9282",
              "concept_name": "Documentation of medical reason(s) for not reporting the histological type or nsclc-nos classification with an explanation (e.g., biopsy taken for other purposes in a patient with a history of non-small cell lung cancer or other documented medical reas...",
              "vocabulary_id": "HCPCS",
              "domain_id": "Observation",
              "concept_class_id": "HCPCS",
              "standard_concept": "S",
              "match_type": "synonym",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44786487)))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44786487))",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "Archived NSCLC tissue or cytology sample is available",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44786487)"
        },
        {
          "atomicId": "2",
          "atomicText": "Subject consented to provide archived NSCLC sample for analysis",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44786487)"
        }
      ]
    },
    {
      "criterionId": "INC_8",
      "originalCriterionId": "8",
      "originalText": "Subject must have no history of brain metastases or evidence of CNS tumors at screening assessment. Subjects with signs or symptoms of CNS involvement will undergo MRI (or CT scan if MRI is contraindicated) to confirm absence of CNS metastases.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "7. Subject must consent to provide archived tissue or cytology sample of NSCLC lesion (primary or \nmetastatic) for analysis if available. \n8. Subject must have no history of brain metastases or evidence of CNS tumors at screening \nassessment. Subjects with signs or symptoms of CNS involvement will undergo MRI (or CT scan if \nMRI is contraindicated) to confirm absence of CNS metastases.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion 'no history of A or evidence of B' is interpreted using De Morgan's law as '(NOT A) AND (NOT B)'. This results in a root AND operator with two negated conditions: the absence of a lifetime history of brain metastases, and the absence of CNS tumors at the screening assessment.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "History of brain metastases",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with any diagnosis code indicating secondary malignant neoplasm of the brain or central nervous system at any time in their history."
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "WITHIN",
                  "anchor": "screening",
                  "value": 0,
                  "unit": "days"
                },
                "operand": {
                  "nodeId": "2a_operand",
                  "nodeType": "atomic",
                  "atomicText": "Evidence of CNS tumors",
                  "omopTable": "condition_occurrence|observation",
                  "strategy": "Identifies patients with a diagnosis or an observation (e.g., from an imaging report) of CNS tumors on the day of the screening assessment."
                }
              }
            ]
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "History of brain metastases",
          "omopTable": "condition_occurrence",
          "strategy": "Identifies patients with any diagnosis code indicating secondary malignant neoplasm of the brain or central nervous system at any time in their history.",
          "omopConcepts": [
            {
              "concept_id": 45557016,
              "concept_code": "C79.31",
              "concept_name": "Secondary malignant neoplasm of brain",
              "vocabulary_id": "ICD10CM",
              "domain_id": "Condition",
              "concept_class_id": "5-char billing code",
              "standard_concept": null,
              "match_type": "exact",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2a_operand",
          "atomicText": "Evidence of CNS tumors",
          "omopTable": "condition_occurrence|observation",
          "strategy": "Identifies patients with a diagnosis or an observation (e.g., from an imaging report) of CNS tumors on the day of the screening assessment.",
          "omopConcepts": [
            {
              "concept_id": 3654328,
              "concept_code": "830121005",
              "concept_name": "Normal central nervous system",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4082164,
              "concept_code": "277333006",
              "concept_name": "Cyst of central nervous system",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4086181,
              "concept_code": "246556002",
              "concept_name": "Central nervous system finding",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4318660,
              "concept_code": "220363002",
              "concept_name": "Central nervous system deficit",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4134439,
              "concept_code": "128126004",
              "concept_name": "Injury of central nervous system",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (45557016))",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "History of brain metastases",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (45557016)"
        },
        {
          "atomicId": "2a_operand",
          "atomicText": "Evidence of CNS tumors",
          "omopTable": "condition_occurrence|observation",
          "sql": "-- Unknown table: condition_occurrence|observation\n-- Atomic text: Evidence of CNS tumors\n-- Requires manual SQL generation"
        }
      ]
    },
    {
      "criterionId": "INC_9",
      "originalCriterionId": "9",
      "originalText": "Subject must have an Eastern Cooperative Oncology Group (ECOG) Performance Score of 0 \u2013 1.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "MRI is contraindicated) to confirm absence of CNS metastases.\n9. Subject must have an Eastern Cooperative Oncology Group (ECOG) Performance Score of 0 \u2013 1.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion is a single condition that specifies a numeric range for the ECOG performance score. This is best represented as a single atomic node with a 'numericRangeStructured' constraint.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "ECOG Performance Score of 0-1",
            "omopTable": "observation",
            "numericRangeStructured": {
              "min": 0,
              "max": 1,
              "unit": "",
              "parameter": "ECOG Performance Score"
            },
            "strategy": "The Eastern Cooperative Oncology Group (ECOG) Performance Status scale is used to assess a patient's functional status. A score of 0 or 1 indicates the patient is fully ambulatory and capable of self-care, a common requirement for trial eligibility."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "ECOG Performance Score of 0-1",
          "omopTable": "observation",
          "strategy": "The Eastern Cooperative Oncology Group (ECOG) Performance Status scale is used to assess a patient's functional status. A score of 0 or 1 indicates the patient is fully ambulatory and capable of self-care, a common requirement for trial eligibility.",
          "numericRangeStructured": {
            "min": 0,
            "max": 1,
            "unit": "",
            "parameter": "ECOG Performance Score"
          },
          "omopConcepts": [
            {
              "concept_id": 4172043,
              "concept_code": "422894000",
              "concept_name": "ECOG performance status - grade 2",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4173456,
              "concept_code": "423409001",
              "concept_name": "ECOG performance status - grade 5",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4173614,
              "concept_code": "422512005",
              "concept_name": "ECOG performance status - grade 1",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4174241,
              "concept_code": "423053003",
              "concept_name": "ECOG performance status - grade 3",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4174251,
              "concept_code": "423237006",
              "concept_name": "ECOG performance status - grade 4",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "ECOG Performance Score of 0-1",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_10",
      "originalCriterionId": "10",
      "originalText": "Subjects with fluid retention, including ascites or pleural effusion, may be allowed at the discretion of the Investigator.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "9. Subject must have an Eastern Cooperative Oncology Group (ECOG) Performance Score of 0 \u2013 1.\n10. Subjects with fluid retention, including ascites or pleural effusion, may be allowed at the discretion \nof the Investigator.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion flags patients with specific types of fluid retention for investigator review, rather than making them automatically ineligible. The expression tree models the core condition that triggers this review: the presence of either ascites or pleural effusion, connected by an OR operator.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Subject has ascites",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies patients with ascites, a specific type of fluid retention mentioned."
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Subject has pleural effusion",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies patients with pleural effusion, a specific type of fluid retention mentioned."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Subject has ascites",
          "omopTable": "condition_occurrence",
          "strategy": "Identifies patients with ascites, a specific type of fluid retention mentioned.",
          "omopConcepts": [
            {
              "concept_id": 200528,
              "concept_code": "389026000",
              "concept_name": "Ascites",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 1572207,
                  "concept_code": "R18",
                  "concept_name": "Ascites",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "3-char nonbill code"
                },
                {
                  "concept_id": 45587499,
                  "concept_code": "R18.8",
                  "concept_name": "Other ascites",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-char billing code"
                },
                {
                  "concept_id": 44822307,
                  "concept_code": "789.5",
                  "concept_name": "Ascites",
                  "vocabulary_id": "ICD9CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-dig nonbill code"
                },
                {
                  "concept_id": 44820070,
                  "concept_code": "789.59",
                  "concept_name": "Other ascites",
                  "vocabulary_id": "ICD9CM",
                  "domain_id": "Condition",
                  "concept_class_id": "5-dig billing code"
                }
              ]
            },
            {
              "concept_id": 1572207,
              "concept_code": "R18",
              "concept_name": "Ascites",
              "vocabulary_id": "ICD10CM",
              "domain_id": "Condition",
              "concept_class_id": "3-char nonbill code",
              "standard_concept": null,
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 44822307,
              "concept_code": "789.5",
              "concept_name": "Ascites",
              "vocabulary_id": "ICD9CM",
              "domain_id": "Condition",
              "concept_class_id": "4-dig nonbill code",
              "standard_concept": null,
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 4154940,
              "concept_code": "271861000",
              "concept_name": "Fluid in peritoneal cavity",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2",
          "atomicText": "Subject has pleural effusion",
          "omopTable": "condition_occurrence",
          "strategy": "Identifies patients with pleural effusion, a specific type of fluid retention mentioned.",
          "omopConcepts": [
            {
              "concept_id": 254061,
              "concept_code": "60046008",
              "concept_name": "Pleural effusion",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 1569505,
                  "concept_code": "J91",
                  "concept_name": "Pleural effusion in conditions classified elsewhere",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "3-char nonbill code"
                },
                {
                  "concept_id": 35208081,
                  "concept_code": "J90",
                  "concept_name": "Pleural effusion, not elsewhere classified",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "3-char billing code"
                },
                {
                  "concept_id": 45567276,
                  "concept_code": "J91.8",
                  "concept_name": "Pleural effusion in other conditions classified elsewhere",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-char billing code"
                },
                {
                  "concept_id": 44829017,
                  "concept_code": "511.8",
                  "concept_name": "Other specified forms of pleural effusion, except tuberculous",
                  "vocabulary_id": "ICD9CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-dig nonbill code"
                },
                {
                  "concept_id": 44831282,
                  "concept_code": "511.9",
                  "concept_name": "Unspecified pleural effusion",
                  "vocabulary_id": "ICD9CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-dig billing code"
                },
                {
                  "concept_id": 44837139,
                  "concept_code": "511.89",
                  "concept_name": "Other specified forms of effusion, except tuberculous",
                  "vocabulary_id": "ICD9CM",
                  "domain_id": "Condition",
                  "concept_class_id": "5-dig billing code"
                }
              ]
            },
            {
              "concept_id": 4195440,
              "concept_code": "79231000",
              "concept_name": "Hydrothorax",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 43021728,
              "concept_code": "462163003",
              "concept_name": "Fetal pleural effusion",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4140910,
              "concept_code": "425802001",
              "concept_name": "Bilateral pleural effusion",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 45543278,
              "concept_code": "J91.0",
              "concept_name": "Malignant pleural effusion",
              "vocabulary_id": "ICD10CM",
              "domain_id": "Condition",
              "concept_class_id": "4-char billing code",
              "standard_concept": null,
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (200528, 1572207, 44822307, 4154940))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (254061, 4195440, 43021728, 4140910, 45543278))",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Subject has ascites",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (200528, 1572207, 44822307, 4154940)"
        },
        {
          "atomicId": "2",
          "atomicText": "Subject has pleural effusion",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (254061, 4195440, 43021728, 4140910, 45543278)"
        }
      ]
    },
    {
      "criterionId": "INC_11",
      "originalCriterionId": "11",
      "originalText": "Subject must have adequate bone marrow, renal and hepatic function as follows:\n\u25cf Bone Marrow: Absolute neutrophil count (ANC) \u2265 1,500/mm\u00b3 (1.5 \u00d7 10\u2079/L); Platelets \u2265 100,000/mm\u00b3 (100 \u00d7 10\u2079/L); Hemoglobin \u2265 9.0 g/dL;\n\u25cf Renal function: Serum calculated creatinine clearance > 50 mL/min according to the Cockcroft-Gault formula; confirmation of creatinine clearance/GFR may be done by a local direct measurement method (e.g., 24 hour urine collection or radioisotope) at the investigator's discretion;\n\u25cf Hepatic function: AST and ALT \u2264 2.5 \u00d7 ULN unless liver metastases are present, then AST and ALT < 5.0 \u00d7 ULN; bilirubin \u2264 1.5 \u00d7 ULN unless Gilbert's Syndrome is present, then bilirubin \u2265 1.5 \u00d7 ULN.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": true,
      "subCriteria": [
        {
          "subId": "a",
          "text": "Bone Marrow: Absolute neutrophil count (ANC) \u2265 1,500/mm\u00b3 (1.5 \u00d7 10\u2079/L); Platelets \u2265 100,000/mm\u00b3 (100 \u00d7 10\u2079/L); Hemoglobin \u2265 9.0 g/dL;"
        },
        {
          "subId": "b",
          "text": "Renal function: Serum calculated creatinine clearance > 50 mL/min according to the Cockcroft-Gault formula; confirmation of creatinine clearance/GFR may be done by a local direct measurement method (e.g., 24 hour urine collection or radioisotope) at the investigator's discretion;"
        },
        {
          "subId": "c",
          "text": "Hepatic function: AST and ALT \u2264 2.5 \u00d7 ULN unless liver metastases are present, then AST and ALT < 5.0 \u00d7 ULN; bilirubin \u2264 1.5 \u00d7 ULN unless Gilbert's Syndrome is present, then bilirubin \u2265 1.5 \u00d7 ULN."
        }
      ],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "10. Subjects with fluid retention, including ascites or pleural effusion, may be allowed at the discretion \nof the Investigator.\n11. Subject must have adequate bone marrow, renal and hepatic function as follows:\n! Bone Marrow: Absolute neutrophil count (ANC) \u2265 1,500/mm3 (1.5 \u00d7 109\n/L);\n! Platelets \u2265 100,000/mm3 (100 \u00d7 109\n/L); Hemoglobin \u2265 9.0 g/dL; \n! Renal function: serum calculated creatinine clearance > 50 mL/min according to the \nCockcroft-Gault formula; confirmation of creatinine cleara...",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion is decomposed into a top-level AND of three main organ systems: Bone Marrow, Renal, and Hepatic. The Hepatic function contains complex conditional logic ('unless' clauses), which are modeled as OR groups of mutually exclusive scenarios (e.g., patient with liver metastases vs. patient without).",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Absolute neutrophil count (ANC) >= 1,500/mm\u00b3",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 1500,
                  "operator": ">=",
                  "unit": "/mm^3",
                  "parameter": "Absolute neutrophil count"
                },
                "strategy": "Check for adequate neutrophil count as part of bone marrow function."
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Platelets >= 100,000/mm\u00b3",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 100000,
                  "operator": ">=",
                  "unit": "/mm^3",
                  "parameter": "Platelet count"
                },
                "strategy": "Check for adequate platelet count as part of bone marrow function."
              },
              {
                "nodeId": "1c",
                "nodeType": "atomic",
                "atomicText": "Hemoglobin >= 9.0 g/dL",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 9.0,
                  "operator": ">=",
                  "unit": "g/dL",
                  "parameter": "Hemoglobin"
                },
                "strategy": "Check for adequate hemoglobin level as part of bone marrow function."
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Calculated creatinine clearance > 50 mL/min (Cockcroft-Gault)",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 50,
                  "operator": ">",
                  "unit": "mL/min",
                  "parameter": "Creatinine clearance, Cockcroft-Gault"
                },
                "strategy": "Check renal function via calculated creatinine clearance. This is the primary method."
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Direct measurement of GFR or creatinine clearance > 50 mL/min",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 50,
                  "operator": ">",
                  "unit": "mL/min",
                  "parameter": "Glomerular filtration rate"
                },
                "strategy": "Allows for an alternative direct measurement of renal function (e.g., 24-hour urine) at investigator discretion."
              }
            ]
          },
          {
            "nodeId": "3",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "3a",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "3a1",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "3a1a",
                        "nodeType": "operator",
                        "operator": "NOT",
                        "operands": [
                          {
                            "nodeId": "3a1a_child",
                            "nodeType": "atomic",
                            "atomicText": "Liver metastases are present",
                            "omopTable": "condition_occurrence",
                            "strategy": "Condition for patients without liver metastases."
                          }
                        ]
                      },
                      {
                        "nodeId": "3a1b",
                        "nodeType": "atomic",
                        "atomicText": "AST <= 2.5 x ULN",
                        "omopTable": "measurement",
                        "valueConstraint": "Value is <= 2.5 times the Upper Limit of Normal for the specific lab.",
                        "strategy": "AST limit for patients without liver metastases."
                      },
                      {
                        "nodeId": "3a1c",
                        "nodeType": "atomic",
                        "atomicText": "ALT <= 2.5 x ULN",
                        "omopTable": "measurement",
                        "valueConstraint": "Value is <= 2.5 times the Upper Limit of Normal for the specific lab.",
                        "strategy": "ALT limit for patients without liver metastases."
                      }
                    ]
                  },
                  {
                    "nodeId": "3a2",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "3a2a",
                        "nodeType": "atomic",
                        "atomicText": "Liver metastases are present",
                        "omopTable": "condition_occurrence",
                        "strategy": "Condition for patients with liver metastases."
                      },
                      {
                        "nodeId": "3a2b",
                        "nodeType": "atomic",
                        "atomicText": "AST < 5.0 x ULN",
                        "omopTable": "measurement",
                        "valueConstraint": "Value is < 5.0 times the Upper Limit of Normal for the specific lab.",
                        "strategy": "Higher allowed AST limit for patients with liver metastases."
                      },
                      {
                        "nodeId": "3a2c",
                        "nodeType": "atomic",
                        "atomicText": "ALT < 5.0 x ULN",
                        "omopTable": "measurement",
                        "valueConstraint": "Value is < 5.0 times the Upper Limit of Normal for the specific lab.",
                        "strategy": "Higher allowed ALT limit for patients with liver metastases."
                      }
                    ]
                  }
                ]
              },
              {
                "nodeId": "3b",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "3b1",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "3b1a",
                        "nodeType": "operator",
                        "operator": "NOT",
                        "operands": [
                          {
                            "nodeId": "3b1a_child",
                            "nodeType": "atomic",
                            "atomicText": "Gilbert's Syndrome is present",
                            "omopTable": "condition_occurrence",
                            "strategy": "Condition for patients without Gilbert's Syndrome."
                          }
                        ]
                      },
                      {
                        "nodeId": "3b1b",
                        "nodeType": "atomic",
                        "atomicText": "Bilirubin <= 1.5 x ULN",
                        "omopTable": "measurement",
                        "valueConstraint": "Value is <= 1.5 times the Upper Limit of Normal for the specific lab.",
                        "strategy": "Bilirubin limit for patients without Gilbert's Syndrome."
                      }
                    ]
                  },
                  {
                    "nodeId": "3b2",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "3b2a",
                        "nodeType": "atomic",
                        "atomicText": "Gilbert's Syndrome is present",
                        "omopTable": "condition_occurrence",
                        "strategy": "Condition for patients with Gilbert's Syndrome."
                      },
                      {
                        "nodeId": "3b2b",
                        "nodeType": "atomic",
                        "atomicText": "Bilirubin >= 1.5 x ULN",
                        "omopTable": "measurement",
                        "valueConstraint": "Value is >= 1.5 times the Upper Limit of Normal for the specific lab.",
                        "strategy": "Specific bilirubin requirement for patients with Gilbert's Syndrome, as written in the criterion."
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "Absolute neutrophil count (ANC) >= 1,500/mm\u00b3",
          "omopTable": "measurement",
          "strategy": "Check for adequate neutrophil count as part of bone marrow function.",
          "numericConstraintStructured": {
            "value": 1500,
            "operator": ">=",
            "unit": "/mm^3",
            "parameter": "Absolute neutrophil count"
          },
          "omopConcepts": [
            {
              "concept_id": 3019275,
              "concept_code": "21858-6",
              "concept_name": "Grade Cancer",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3009007,
              "concept_code": "21968-3",
              "concept_name": "Surgery Cancer",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 21490581,
              "concept_code": "60826-5",
              "concept_name": "Lung compliance",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3035700,
              "concept_code": "21890-9",
              "concept_name": "Extension Cancer",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3964979,
              "concept_code": "103208-5",
              "concept_name": "Distance traveled",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1b",
          "atomicText": "Platelets >= 100,000/mm\u00b3",
          "omopTable": "measurement",
          "strategy": "Check for adequate platelet count as part of bone marrow function.",
          "numericConstraintStructured": {
            "value": 100000,
            "operator": ">=",
            "unit": "/mm^3",
            "parameter": "Platelet count"
          },
          "omopConcepts": [
            {
              "concept_id": 4267147,
              "concept_code": "61928009",
              "concept_name": "Platelet count",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 4260199,
              "concept_code": "409682002",
              "concept_name": "Serial platelet counts",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37208696,
              "concept_code": "1108041000000107",
              "concept_name": "Platelet count in blood",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Observable Entity",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4273307,
              "concept_code": "365632008",
              "concept_name": "Platelet count - finding",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1c",
          "atomicText": "Hemoglobin >= 9.0 g/dL",
          "omopTable": "measurement",
          "strategy": "Check for adequate hemoglobin level as part of bone marrow function.",
          "numericConstraintStructured": {
            "value": 9.0,
            "operator": ">=",
            "unit": "g/dL",
            "parameter": "Hemoglobin"
          },
          "omopConcepts": [
            {
              "concept_id": 1989112,
              "concept_code": "98907-9",
              "concept_name": "Hemoglobinopathy panel",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3003344,
              "concept_code": "725-2",
              "concept_name": "Hemoglobin [Presence] in Urine",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3005872,
              "concept_code": "717-9",
              "concept_name": "Hemoglobin [Presence] in Blood",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3010418,
              "concept_code": "4621-9",
              "concept_name": "Hemoglobin S [Presence] in Blood",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3015745,
              "concept_code": "4579-9",
              "concept_name": "Hemoglobin F [Presence] in Blood",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2a",
          "atomicText": "Calculated creatinine clearance > 50 mL/min (Cockcroft-Gault)",
          "omopTable": "measurement",
          "strategy": "Check renal function via calculated creatinine clearance. This is the primary method.",
          "numericConstraintStructured": {
            "value": 50,
            "operator": ">",
            "unit": "mL/min",
            "parameter": "Creatinine clearance, Cockcroft-Gault"
          },
          "omopConcepts": [
            {
              "concept_id": 3044460,
              "concept_code": "44789-6",
              "concept_name": "Amylase and Creatinine clearance panel - Urine and Serum or Plasma",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37393360,
              "concept_code": "1015981000000103",
              "concept_name": "Creatinine clearance test",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Observable Entity",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37205200,
              "concept_code": "784580008",
              "concept_name": "Estimated creatinine clearance",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37170901,
              "concept_code": "30391000237104",
              "concept_name": "CCCR (calcium/creatinine clearance ratio)",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Observable Entity",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3655422,
              "concept_code": "863930006",
              "concept_name": "Creatinine clearance below reference range",
              "vocabulary_id": "SNOMED",
              "domain_id": "Measurement",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "2b",
          "atomicText": "Direct measurement of GFR or creatinine clearance > 50 mL/min",
          "omopTable": "measurement",
          "strategy": "Allows for an alternative direct measurement of renal function (e.g., 24-hour urine) at investigator discretion.",
          "numericConstraintStructured": {
            "value": 50,
            "operator": ">",
            "unit": "mL/min",
            "parameter": "Glomerular filtration rate"
          },
          "omopConcepts": [
            {
              "concept_id": 3045262,
              "concept_code": "45066-8",
              "concept_name": "Creatinine and Glomerular filtration rate.predicted panel - Serum, Plasma or Blood",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 36031320,
              "concept_code": "96591-3",
              "concept_name": "Glomerular filtration rate/1.73 sq M.predicted among blacks [Volume Rate/Area] in DBS",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 36031846,
              "concept_code": "96592-1",
              "concept_name": "Glomerular filtration rate/1.73 sq M.predicted among non-blacks [Volume Rate/Area] in DBS",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 40771922,
              "concept_code": "69405-9",
              "concept_name": "Glomerular filtration rate/1.73 sq M.predicted [Volume Rate/Area] in Serum, Plasma or Blood",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 36304157,
              "concept_code": "87430-5",
              "concept_name": "Cystatin C and Glomerular filtration rate by Cystatin C-based formula panel - Serum or Plasma",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3a1a_child",
          "atomicText": "Liver metastases are present",
          "omopTable": "condition_occurrence",
          "strategy": "Condition for patients without liver metastases.",
          "omopConcepts": []
        },
        {
          "atomicId": "3a1b",
          "atomicText": "AST <= 2.5 x ULN",
          "omopTable": "measurement",
          "strategy": "AST limit for patients without liver metastases.",
          "valueConstraint": "Value is <= 2.5 times the Upper Limit of Normal for the specific lab.",
          "omopConcepts": [
            {
              "concept_id": 3046412,
              "concept_code": "43822-6",
              "concept_name": "Aspartate aminotransferase [Presence] in Body fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3010587,
              "concept_code": "27344-1",
              "concept_name": "Aspartate aminotransferase [Presence] in Serum or Plasma",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 36031681,
              "concept_code": "96587-1",
              "concept_name": "Aspartate aminotransferase [Enzymatic activity/volume] in DBS",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3012169,
              "concept_code": "14413-9",
              "concept_name": "Aspartate aminotransferase [Enzymatic activity/volume] in Urine",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3003792,
              "concept_code": "1919-0",
              "concept_name": "Aspartate aminotransferase [Enzymatic activity/volume] in Body fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3a1c",
          "atomicText": "ALT <= 2.5 x ULN",
          "omopTable": "measurement",
          "strategy": "ALT limit for patients without liver metastases.",
          "valueConstraint": "Value is <= 2.5 times the Upper Limit of Normal for the specific lab.",
          "omopConcepts": [
            {
              "concept_id": 36032251,
              "concept_code": "96586-3",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in DBS",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 46235106,
              "concept_code": "76625-3",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in Blood",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3000784,
              "concept_code": "25302-1",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in Body fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 1761617,
              "concept_code": "100738-4",
              "concept_name": "Alanine aminotransferase.macromolecular [Presence] in Serum or Plasma",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 40757623,
              "concept_code": "54492-4",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in Pleural fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3a2a",
          "atomicText": "Liver metastases are present",
          "omopTable": "condition_occurrence",
          "strategy": "Condition for patients with liver metastases.",
          "omopConcepts": []
        },
        {
          "atomicId": "3a2b",
          "atomicText": "AST < 5.0 x ULN",
          "omopTable": "measurement",
          "strategy": "Higher allowed AST limit for patients with liver metastases.",
          "valueConstraint": "Value is < 5.0 times the Upper Limit of Normal for the specific lab.",
          "omopConcepts": [
            {
              "concept_id": 3046412,
              "concept_code": "43822-6",
              "concept_name": "Aspartate aminotransferase [Presence] in Body fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3010587,
              "concept_code": "27344-1",
              "concept_name": "Aspartate aminotransferase [Presence] in Serum or Plasma",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 36031681,
              "concept_code": "96587-1",
              "concept_name": "Aspartate aminotransferase [Enzymatic activity/volume] in DBS",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3012169,
              "concept_code": "14413-9",
              "concept_name": "Aspartate aminotransferase [Enzymatic activity/volume] in Urine",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3003792,
              "concept_code": "1919-0",
              "concept_name": "Aspartate aminotransferase [Enzymatic activity/volume] in Body fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3a2c",
          "atomicText": "ALT < 5.0 x ULN",
          "omopTable": "measurement",
          "strategy": "Higher allowed ALT limit for patients with liver metastases.",
          "valueConstraint": "Value is < 5.0 times the Upper Limit of Normal for the specific lab.",
          "omopConcepts": [
            {
              "concept_id": 36032251,
              "concept_code": "96586-3",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in DBS",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 46235106,
              "concept_code": "76625-3",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in Blood",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3000784,
              "concept_code": "25302-1",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in Body fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 1761617,
              "concept_code": "100738-4",
              "concept_name": "Alanine aminotransferase.macromolecular [Presence] in Serum or Plasma",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 40757623,
              "concept_code": "54492-4",
              "concept_name": "Alanine aminotransferase [Enzymatic activity/volume] in Pleural fluid",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3b1a_child",
          "atomicText": "Gilbert's Syndrome is present",
          "omopTable": "condition_occurrence",
          "strategy": "Condition for patients without Gilbert's Syndrome.",
          "omopConcepts": [
            {
              "concept_id": 4099740,
              "concept_code": "27503000",
              "concept_name": "Gilbert's syndrome",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 35207075,
                  "concept_code": "E80.4",
                  "concept_name": "Gilbert syndrome",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-char billing code"
                }
              ]
            },
            {
              "concept_id": 4048614,
              "concept_code": "206456003",
              "concept_name": "Neonatal jaundice due to Gilbert's syndrome",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3b1b",
          "atomicText": "Bilirubin <= 1.5 x ULN",
          "omopTable": "measurement",
          "strategy": "Bilirubin limit for patients without Gilbert's Syndrome.",
          "valueConstraint": "Value is <= 1.5 times the Upper Limit of Normal for the specific lab.",
          "omopConcepts": [
            {
              "concept_id": 40762034,
              "concept_code": "58941-6",
              "concept_name": "Bilirubin [Mass/volume] in Skin",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 43534072,
              "concept_code": "72898-0",
              "concept_name": "Bilirubin [Moles/volume] in Skin",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3011258,
              "concept_code": "1977-8",
              "concept_name": "Bilirubin.total [Presence] in Urine",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3024733,
              "concept_code": "1976-0",
              "concept_name": "Bilirubin.total [Presence] in Stool",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 40757570,
              "concept_code": "54439-5",
              "concept_name": "Calcium bilirubinate/Total in Stone",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3b2a",
          "atomicText": "Gilbert's Syndrome is present",
          "omopTable": "condition_occurrence",
          "strategy": "Condition for patients with Gilbert's Syndrome.",
          "omopConcepts": [
            {
              "concept_id": 4099740,
              "concept_code": "27503000",
              "concept_name": "Gilbert's syndrome",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": [
                {
                  "concept_id": 35207075,
                  "concept_code": "E80.4",
                  "concept_name": "Gilbert syndrome",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-char billing code"
                }
              ]
            },
            {
              "concept_id": 4048614,
              "concept_code": "206456003",
              "concept_name": "Neonatal jaundice due to Gilbert's syndrome",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "3b2b",
          "atomicText": "Bilirubin >= 1.5 x ULN",
          "omopTable": "measurement",
          "strategy": "Specific bilirubin requirement for patients with Gilbert's Syndrome, as written in the criterion.",
          "valueConstraint": "Value is >= 1.5 times the Upper Limit of Normal for the specific lab.",
          "omopConcepts": [
            {
              "concept_id": 40762034,
              "concept_code": "58941-6",
              "concept_name": "Bilirubin [Mass/volume] in Skin",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 43534072,
              "concept_code": "72898-0",
              "concept_name": "Bilirubin [Moles/volume] in Skin",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3011258,
              "concept_code": "1977-8",
              "concept_name": "Bilirubin.total [Presence] in Urine",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 3024733,
              "concept_code": "1976-0",
              "concept_name": "Bilirubin.total [Presence] in Stool",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 40757570,
              "concept_code": "54439-5",
              "concept_name": "Calcium bilirubinate/Total in Stone",
              "vocabulary_id": "LOINC",
              "domain_id": "Measurement",
              "concept_class_id": "Lab Test",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3019275, 3009007, 21490581, 3035700, 3964979)\n  AND m.value_as_number >= 1500)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (4267147, 4260199, 37208696, 4273307)\n  AND m.value_as_number >= 100000)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (1989112, 3003344, 3005872, 3010418, 3015745)\n  AND m.value_as_number >= 9.0))\nINTERSECT\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3044460, 37393360, 37205200, 37170901, 3655422)\n  AND m.value_as_number > 50)\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3045262, 36031320, 36031846, 40771922, 36304157)\n  AND m.value_as_number > 50))\nINTERSECT\n((((SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3046412, 3010587, 36031681, 3012169, 3003792))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (36032251, 46235106, 3000784, 1761617, 40757623)))\nUNION\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3046412, 3010587, 36031681, 3012169, 3003792))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (36032251, 46235106, 3000784, 1761617, 40757623))))\nINTERSECT\n(((SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4099740, 4048614)))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (40762034, 43534072, 3011258, 3024733, 40757570)))\nUNION\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4099740, 4048614))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (40762034, 43534072, 3011258, 3024733, 40757570)))))",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "Absolute neutrophil count (ANC) >= 1,500/mm\u00b3",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3019275, 3009007, 21490581, 3035700, 3964979)\n  AND m.value_as_number >= 1500"
        },
        {
          "atomicId": "1b",
          "atomicText": "Platelets >= 100,000/mm\u00b3",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (4267147, 4260199, 37208696, 4273307)\n  AND m.value_as_number >= 100000"
        },
        {
          "atomicId": "1c",
          "atomicText": "Hemoglobin >= 9.0 g/dL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (1989112, 3003344, 3005872, 3010418, 3015745)\n  AND m.value_as_number >= 9.0"
        },
        {
          "atomicId": "2a",
          "atomicText": "Calculated creatinine clearance > 50 mL/min (Cockcroft-Gault)",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3044460, 37393360, 37205200, 37170901, 3655422)\n  AND m.value_as_number > 50"
        },
        {
          "atomicId": "2b",
          "atomicText": "Direct measurement of GFR or creatinine clearance > 50 mL/min",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3045262, 36031320, 36031846, 40771922, 36304157)\n  AND m.value_as_number > 50"
        },
        {
          "atomicId": "3a1a_child",
          "atomicText": "Liver metastases are present",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3a1b",
          "atomicText": "AST <= 2.5 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3046412, 3010587, 36031681, 3012169, 3003792)"
        },
        {
          "atomicId": "3a1c",
          "atomicText": "ALT <= 2.5 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (36032251, 46235106, 3000784, 1761617, 40757623)"
        },
        {
          "atomicId": "3a2a",
          "atomicText": "Liver metastases are present",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3a2b",
          "atomicText": "AST < 5.0 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (3046412, 3010587, 36031681, 3012169, 3003792)"
        },
        {
          "atomicId": "3a2c",
          "atomicText": "ALT < 5.0 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (36032251, 46235106, 3000784, 1761617, 40757623)"
        },
        {
          "atomicId": "3b1a_child",
          "atomicText": "Gilbert's Syndrome is present",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4099740, 4048614)"
        },
        {
          "atomicId": "3b1b",
          "atomicText": "Bilirubin <= 1.5 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (40762034, 43534072, 3011258, 3024733, 40757570)"
        },
        {
          "atomicId": "3b2a",
          "atomicText": "Gilbert's Syndrome is present",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4099740, 4048614)"
        },
        {
          "atomicId": "3b2b",
          "atomicText": "Bilirubin >= 1.5 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (40762034, 43534072, 3011258, 3024733, 40757570)"
        }
      ]
    },
    {
      "criterionId": "INC_12",
      "originalCriterionId": "12",
      "originalText": "Female subjects of childbearing potential (i.e., those who are not postmenopausal for at least 1 year or surgically sterile by bilateral tubal ligation, bilateral oophorectomy or hysterectomy) and their male partners should practice at least one of the methods of birth control listed below during study and for at least 6 months after treatment with paclitaxel chemotherapy. Male subjects and their female partners of childbearing potential should practice at least one of the methods of birth control listed below during study and for at least 6 months after treatment with chemotherapy.\n\u25cf total abstinence from sexual intercourse (if it is the subject's preferred and usual lifestyle; for beginning a minimum one complete menstrual cycle prior to study drug administration and to extend 6 months after treatment);\n\u25cf vasectomized subject or partner(s); vasectomy (males);\n\u25cf intrauterine device (females);\n\u25cf double-barrier method (condoms, contraceptive sponge, diaphragm or vaginal ring with spermicidal jellies or creams; both males and females);\n\u25cf hormonal contraceptives (oral, parenteral or transdermal) for at least 90 days prior to study drug administration (females). If hormonal contraceptives are used, the subject and her partner should also use a single-barrier method.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": true,
      "subCriteria": [
        {
          "subId": "a",
          "text": "total abstinence from sexual intercourse (if it is the subject's preferred and usual lifestyle; for beginning a minimum one complete menstrual cycle prior to study drug administration and to extend 6 months after treatment);"
        },
        {
          "subId": "b",
          "text": "vasectomized subject or partner(s); vasectomy (males);"
        },
        {
          "subId": "c",
          "text": "intrauterine device (females);"
        },
        {
          "subId": "d",
          "text": "double-barrier method (condoms, contraceptive sponge, diaphragm or vaginal ring with spermicidal jellies or creams; both males and females);"
        },
        {
          "subId": "e",
          "text": "hormonal contraceptives (oral, parenteral or transdermal) for at least 90 days prior to study drug administration (females). If hormonal contraceptives are used, the subject and her partner should also use a single-barrier method."
        }
      ],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "bilirubin \u2265 1.5 \u00d7 ULN.\n12. Female subjects of childbearing potential (i.e., those who are not postmenopausal for at least 1 year \nor surgically sterile by bilateral tubal ligation, bilateral oophorectomy or hysterectomy) and their \nmale partners should practice at least one of the methods of birth control listed below during study \nand for at least 6 months after treatment with paclitaxel chemotherapy. Male subjects and their \nfemale partners of childbearing potential should practice at least...",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion is a conditional requirement: if a subject or their partner is of childbearing potential, they must agree to use an approved contraception method. This is modeled as `(NOT Requires_Contraception) OR (Agrees_To_Use_Contraception)`, where each part is a nested boolean structure.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1a_1",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "1a_1a",
                        "nodeType": "atomic",
                        "atomicText": "Subject is female",
                        "omopTable": "observation",
                        "strategy": "Identify subject's gender from patient demographics or observation records."
                      },
                      {
                        "nodeId": "1a_1b",
                        "nodeType": "operator",
                        "operator": "NOT",
                        "operands": [
                          {
                            "nodeId": "1a_1b_1",
                            "nodeType": "operator",
                            "operator": "OR",
                            "operands": [
                              {
                                "nodeId": "1a_1b_1a",
                                "nodeType": "atomic",
                                "atomicText": "Postmenopausal for at least 1 year",
                                "omopTable": "observation",
                                "timeConstraint": "for at least 1 year",
                                "strategy": "Check for postmenopausal status in medical history or observation, confirmed for at least one year."
                              },
                              {
                                "nodeId": "1a_1b_1b",
                                "nodeType": "atomic",
                                "atomicText": "History of bilateral tubal ligation",
                                "omopTable": "procedure_occurrence",
                                "strategy": "Check for surgical sterilization procedure in medical history."
                              },
                              {
                                "nodeId": "1a_1b_1c",
                                "nodeType": "atomic",
                                "atomicText": "History of bilateral oophorectomy",
                                "omopTable": "procedure_occurrence",
                                "strategy": "Check for surgical sterilization procedure in medical history."
                              },
                              {
                                "nodeId": "1a_1b_1d",
                                "nodeType": "atomic",
                                "atomicText": "History of hysterectomy",
                                "omopTable": "procedure_occurrence",
                                "strategy": "Check for surgical sterilization procedure in medical history."
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "nodeId": "1a_2",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "1a_2a",
                        "nodeType": "atomic",
                        "atomicText": "Subject is male",
                        "omopTable": "observation",
                        "strategy": "Identify subject's gender from patient demographics or observation records."
                      },
                      {
                        "nodeId": "1a_2b",
                        "nodeType": "atomic",
                        "atomicText": "Partner is a female of childbearing potential",
                        "omopTable": "observation",
                        "strategy": "Check for partner's childbearing potential status in medical history or observation."
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Agrees to use an approved method of contraception",
            "omopTable": "observation",
            "strategy": "Check for consent or agreement documented in patient records or consent forms."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a_1a",
          "atomicText": "Subject is female",
          "omopTable": "observation",
          "strategy": "Identify subject's gender from patient demographics or observation records.",
          "omopConcepts": [
            {
              "concept_id": 4015271,
              "concept_code": "169839008",
              "concept_name": "Baby female",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4009882,
              "concept_code": "102508009",
              "concept_name": "Well female child",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4010345,
              "concept_code": "102514002",
              "concept_name": "Well female adult",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4010845,
              "concept_code": "102517009",
              "concept_name": "Well female elder",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4014457,
              "concept_code": "169841009",
              "concept_name": "Two female babies",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1a_1b_1a",
          "atomicText": "Postmenopausal for at least 1 year",
          "omopTable": "observation",
          "strategy": "Check for postmenopausal status in medical history or observation, confirmed for at least one year.",
          "timeConstraint": "for at least 1 year",
          "omopConcepts": [
            {
              "concept_id": 195321,
              "concept_code": "76742009",
              "concept_name": "Postmenopausal bleeding",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": [
                {
                  "concept_id": 35209490,
                  "concept_code": "N95.0",
                  "concept_name": "Postmenopausal bleeding",
                  "vocabulary_id": "ICD10CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-char billing code"
                },
                {
                  "concept_id": 44819839,
                  "concept_code": "627.1",
                  "concept_name": "Postmenopausal bleeding",
                  "vocabulary_id": "ICD9CM",
                  "domain_id": "Condition",
                  "concept_class_id": "4-dig billing code"
                }
              ]
            },
            {
              "concept_id": 4296644,
              "concept_code": "403574001",
              "concept_name": "Postmenopausal pruritus",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4301021,
              "concept_code": "403389006",
              "concept_name": "Postmenopausal flushing",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 37166876,
              "concept_code": "1260298008",
              "concept_name": "Postmenopausal depression",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 42536667,
              "concept_code": "735614005",
              "concept_name": "Postmenopausal osteopenia",
              "vocabulary_id": "SNOMED",
              "domain_id": "Condition",
              "concept_class_id": "Disorder",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1a_1b_1b",
          "atomicText": "History of bilateral tubal ligation",
          "omopTable": "procedure_occurrence",
          "strategy": "Check for surgical sterilization procedure in medical history.",
          "omopConcepts": [
            {
              "concept_id": 42536952,
              "concept_code": "736018001",
              "concept_name": "Elective upper segment cesarean section with bilateral tubal ligation",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 42536960,
              "concept_code": "736026009",
              "concept_name": "Elective lower segment cesarean section with bilateral tubal ligation",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 42536954,
              "concept_code": "736020003",
              "concept_name": "Emergency upper segment cesarean section with bilateral tubal ligation",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 42537021,
              "concept_code": "736118004",
              "concept_name": "Emergency lower segment cesarean section with bilateral tubal ligation",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4117038,
              "concept_code": "287664005",
              "concept_name": "Ligation of bilateral fallopian tubes",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "synonym",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1a_1b_1c",
          "atomicText": "History of bilateral oophorectomy",
          "omopTable": "procedure_occurrence",
          "strategy": "Check for surgical sterilization procedure in medical history.",
          "omopConcepts": [
            {
              "concept_id": 43531553,
              "concept_code": "609275002",
              "concept_name": "Laparoscopic bilateral oophorectomy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4297990,
              "concept_code": "76876009",
              "concept_name": "Excision of bilateral ovaries",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "synonym",
              "source_mappings": []
            },
            {
              "concept_id": 43021519,
              "concept_code": "473239006",
              "concept_name": "Excision of bilateral ovaries for malignant neoplasm of ovary",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "synonym",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1a_1b_1d",
          "atomicText": "History of hysterectomy",
          "omopTable": "procedure_occurrence",
          "strategy": "Check for surgical sterilization procedure in medical history.",
          "omopConcepts": [
            {
              "concept_id": 4127886,
              "concept_code": "236886002",
              "concept_name": "Hysterectomy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 4023403,
              "concept_code": "116140006",
              "concept_name": "Total hysterectomy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4021530,
              "concept_code": "116142003",
              "concept_name": "Radical hysterectomy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4138738,
              "concept_code": "265056007",
              "concept_name": "Vaginal hysterectomy",
              "vocabulary_id": "SNOMED",
              "domain_id": "Procedure",
              "concept_class_id": "Procedure",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1a_2a",
          "atomicText": "Subject is male",
          "omopTable": "observation",
          "strategy": "Identify subject's gender from patient demographics or observation records.",
          "omopConcepts": [
            {
              "concept_id": 4135840,
              "concept_code": "31792003",
              "concept_name": "Maleo",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Organism",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4015423,
              "concept_code": "169838000",
              "concept_name": "Baby male",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4198781,
              "concept_code": "433198003",
              "concept_name": "Thermales",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Organism",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4015271,
              "concept_code": "169839008",
              "concept_name": "Baby female",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            },
            {
              "concept_id": 4140373,
              "concept_code": "32951002",
              "concept_name": "Feminized male",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        },
        {
          "atomicId": "1a_2b",
          "atomicText": "Partner is a female of childbearing potential",
          "omopTable": "observation",
          "strategy": "Check for partner's childbearing potential status in medical history or observation."
        },
        {
          "atomicId": "2",
          "atomicText": "Agrees to use an approved method of contraception",
          "omopTable": "observation",
          "strategy": "Check for consent or agreement documented in patient records or consent forms.",
          "omopConcepts": [
            {
              "concept_id": 44804204,
              "concept_code": "719481000000107",
              "concept_name": "Family planning",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Qualifier Value",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            },
            {
              "concept_id": 4309686,
              "concept_code": "423728007",
              "concept_name": "Inconsistent use of contraception methods",
              "vocabulary_id": "SNOMED",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Finding",
              "standard_concept": "S",
              "match_type": "pattern",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "(SELECT person_id FROM person\nEXCEPT\n(((SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8532  -- FEMALE)\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n((SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (42536952, 42536960, 42536954, 42537021, 4117038))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (43531553, 4297990, 43021519))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (4127886, 4023403, 4021530, 4138738)))))\nUNION\n((SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)\nINTERSECT\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8532  -- FEMALE))))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44804204, 4309686))",
      "sqlComponents": [
        {
          "atomicId": "1a_1a",
          "atomicText": "Subject is female",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8532  -- FEMALE"
        },
        {
          "atomicId": "1a_1b_1a",
          "atomicText": "Postmenopausal for at least 1 year",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "1a_1b_1b",
          "atomicText": "History of bilateral tubal ligation",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (42536952, 42536960, 42536954, 42537021, 4117038)"
        },
        {
          "atomicId": "1a_1b_1c",
          "atomicText": "History of bilateral oophorectomy",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (43531553, 4297990, 43021519)"
        },
        {
          "atomicId": "1a_1b_1d",
          "atomicText": "History of hysterectomy",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (4127886, 4023403, 4021530, 4138738)"
        },
        {
          "atomicId": "1a_2a",
          "atomicText": "Subject is male",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "1a_2b",
          "atomicText": "Partner is a female of childbearing potential",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8532  -- FEMALE"
        },
        {
          "atomicId": "2",
          "atomicText": "Agrees to use an approved method of contraception",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (44804204, 4309686)"
        }
      ]
    },
    {
      "criterionId": "INC_13",
      "originalCriterionId": "13",
      "originalText": "Subject must be capable of understanding and complying with parameters as outlined in the protocol and able to sign and date the informed consent approved by an Independent Ethics Committee (IEC)/Institutional Review Board (IRB), prior to the initiation of any screening or study-specific procedures.",
      "type": "Inclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 7,
        "textSnippet": "should also use a single-barrier method.\n13. Subject must be capable of understanding and complying with parameters as outlined in the protocol \nand able to sign and date the informed consent approved by an Independent Ethics Committee \n(IEC)/Institutional Review Board (IRB), prior to the initiation of any screening or study-specific \nprocedures.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion is decomposed into three main requirements connected by an 'AND' operator. The first two conditions assess the subject's capability to understand and comply, while the third is the action of signing the consent, which is constrained to occur before any study procedures.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Subject is capable of understanding the protocol",
            "omopTable": "observation",
            "strategy": "Assesses patient's cognitive ability to comprehend the study requirements, typically documented by site staff."
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Subject is capable of complying with the protocol",
            "omopTable": "observation",
            "strategy": "Assesses patient's physical and mental ability to adhere to all study-related procedures, documented by site staff."
          },
          {
            "nodeId": "3",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "BEFORE",
              "anchor": "screening"
            },
            "operand": {
              "nodeId": "3a",
              "nodeType": "atomic",
              "atomicText": "Informed consent signed and dated",
              "omopTable": "procedure_occurrence",
              "strategy": "Verifies the documented event of the patient signing and dating the IRB/IEC-approved informed consent form. This action must precede any screening or study-specific activities."
            }
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Subject is capable of understanding the protocol",
          "omopTable": "observation",
          "strategy": "Assesses patient's cognitive ability to comprehend the study requirements, typically documented by site staff.",
          "omopConcepts": []
        },
        {
          "atomicId": "2",
          "atomicText": "Subject is capable of complying with the protocol",
          "omopTable": "observation",
          "strategy": "Assesses patient's physical and mental ability to adhere to all study-related procedures, documented by site staff.",
          "omopConcepts": []
        },
        {
          "atomicId": "3a",
          "atomicText": "Informed consent signed and dated",
          "omopTable": "procedure_occurrence",
          "strategy": "Verifies the documented event of the patient signing and dating the IRB/IEC-approved informed consent form. This action must precede any screening or study-specific activities.",
          "omopConcepts": [
            {
              "concept_id": 3018196,
              "concept_code": "19826-7",
              "concept_name": "Informed consent obtained",
              "vocabulary_id": "LOINC",
              "domain_id": "Observation",
              "concept_class_id": "Clinical Observation",
              "standard_concept": "S",
              "match_type": "exact",
              "source_mappings": []
            }
          ]
        }
      ],
      "sqlTemplate": "(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Subject is capable of understanding the protocol",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Subject is capable of complying with the protocol",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3a",
          "atomicText": "Informed consent signed and dated",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (3018196)"
        }
      ]
    },
    {
      "criterionId": "EXC_1",
      "originalCriterionId": "1",
      "originalText": "Subject has a known hypersensitivity to paclitaxel or to other drugs formulated with polyethoxylated castor oil (Cremophor).",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "Diagnosis and Main Criteria for Inclusion/Exclusion (Continued): \nMain Exclusion: \n1. Subject has a known hypersensitivity to paclitaxel or to other drugs formulated with polyethoxylated \ncastor oil (Cremophor).",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion is a simple disjunction (OR) of two conditions. A subject meets the criterion if they have a known hypersensitivity to the specific drug paclitaxel, or if they have a known hypersensitivity to a class of drugs defined by the excipient 'polyethoxylated castor oil' (Cremophor).",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Known hypersensitivity to paclitaxel",
            "omopTable": "condition_occurrence",
            "strategy": "Identify patients with a recorded condition indicating an allergy or hypersensitivity to paclitaxel."
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Known hypersensitivity to other drugs formulated with polyethoxylated castor oil (Cremophor)",
            "omopTable": "condition_occurrence",
            "strategy": "Identify patients with a recorded allergy or hypersensitivity to drugs known to contain polyethoxylated castor oil (e.g., cyclosporine, teniposide). This requires a predefined list of such drugs to check against patient allergy records."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Known hypersensitivity to paclitaxel",
          "omopTable": "condition_occurrence",
          "strategy": "Identify patients with a recorded condition indicating an allergy or hypersensitivity to paclitaxel."
        },
        {
          "atomicId": "2",
          "atomicText": "Known hypersensitivity to other drugs formulated with polyethoxylated castor oil (Cremophor)",
          "omopTable": "condition_occurrence",
          "strategy": "Identify patients with a recorded allergy or hypersensitivity to drugs known to contain polyethoxylated castor oil (e.g., cyclosporine, teniposide). This requires a predefined list of such drugs to check against patient allergy records."
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Known hypersensitivity to paclitaxel",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Known hypersensitivity to other drugs formulated with polyethoxylated castor oil (Cremophor)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_2",
      "originalCriterionId": "2",
      "originalText": "Subject has a known hypersensitivity to platinum compounds.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "castor oil (Cremophor).\n2. Subject has a known hypersensitivity to platinum compounds.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "This criterion represents a single, non-negated condition. It is decomposed into a single atomic node representing a documented hypersensitivity.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Known hypersensitivity to platinum compounds",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies patients with a documented allergy or adverse reaction to platinum-based drugs (e.g., cisplatin, carboplatin, oxaliplatin). This would typically be recorded as a condition or in an allergy table."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Known hypersensitivity to platinum compounds",
          "omopTable": "condition_occurrence",
          "strategy": "Identifies patients with a documented allergy or adverse reaction to platinum-based drugs (e.g., cisplatin, carboplatin, oxaliplatin). This would typically be recorded as a condition or in an allergy table."
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Known hypersensitivity to platinum compounds",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_3",
      "originalCriterionId": "3",
      "originalText": "Subjects with peripheral neuropathy \u2265 grade 2.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "2. Subject has a known hypersensitivity to platinum compounds.\n3. Subjects with peripheral neuropathy \u2265 grade 2.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion is a single atomic condition that identifies a specific diagnosis (peripheral neuropathy) with a minimum severity level (grade >= 2). It is represented as one atomic node with a numeric constraint, wrapped in a root AND operator for structural consistency.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Peripheral neuropathy with grade >= 2",
            "omopTable": "observation",
            "numericConstraintStructured": {
              "value": 2,
              "operator": ">=",
              "unit": "grade",
              "parameter": "Peripheral neuropathy grade"
            },
            "strategy": "This identifies patients with a clinically significant level of peripheral neuropathy. This is often an exclusion criterion for trials involving neurotoxic agents to avoid exacerbating the condition. The grade is typically assessed using a standardized scale like CTCAE."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Peripheral neuropathy with grade >= 2",
          "omopTable": "observation",
          "strategy": "This identifies patients with a clinically significant level of peripheral neuropathy. This is often an exclusion criterion for trials involving neurotoxic agents to avoid exacerbating the condition. The grade is typically assessed using a standardized scale like CTCAE.",
          "numericConstraintStructured": {
            "value": 2,
            "operator": ">=",
            "unit": "grade",
            "parameter": "Peripheral neuropathy grade"
          }
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4301699, 4318869, 4032347, 4311708, 42535434)\n)",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Peripheral neuropathy with grade >= 2",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4301699, 4318869, 4032347, 4311708, 42535434)"
        }
      ]
    },
    {
      "criterionId": "EXC_4",
      "originalCriterionId": "4",
      "originalText": "Subjects with squamous NSCLC, or those with an untreated EGFR mutation (exon 19 deletion or L858R mutation in exon 21) and/or ALK gene rearrangement. Subjects' EGFR mutation and ALK gene rearrangement status must be known prior to study entry.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "3. Subjects with peripheral neuropathy \u2265 grade 2.\n4. Subjects with squamous NSCLC, or those with an untreated EGFR mutation (exon 19 deletion or \nL858R mutation in exon 21) and/or ALK gene rearrangement. Subjects' EGFR mutation and ALK \ngene rearrangement status must be known prior to study entry. ",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion is decomposed into two main branches connected by a top-level AND. The first branch represents the primary eligibility (squamous histology OR specific untreated biomarker status), and the second branch represents the universal requirement that EGFR and ALK status must be known for all subjects prior to entry.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Diagnosis of squamous Non-Small Cell Lung Cancer (NSCLC)",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with the specific histological subtype of NSCLC."
              },
              {
                "nodeId": "1b",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1b_1",
                    "nodeType": "operator",
                    "operator": "AND",
                    "operands": [
                      {
                        "nodeId": "1b_1a",
                        "nodeType": "operator",
                        "operator": "OR",
                        "operands": [
                          {
                            "nodeId": "1b_1a_1",
                            "nodeType": "atomic",
                            "atomicText": "EGFR exon 19 deletion mutation is present",
                            "omopTable": "measurement",
                            "strategy": "Confirms the presence of a specific sensitizing EGFR mutation."
                          },
                          {
                            "nodeId": "1b_1a_2",
                            "nodeType": "atomic",
                            "atomicText": "EGFR L858R mutation in exon 21 is present",
                            "omopTable": "measurement",
                            "strategy": "Confirms the presence of a specific sensitizing EGFR mutation."
                          }
                        ]
                      },
                      {
                        "nodeId": "1b_1b",
                        "nodeType": "operator",
                        "operator": "NOT",
                        "operands": [
                          {
                            "nodeId": "1b_1b_1",
                            "nodeType": "atomic",
                            "atomicText": "Prior treatment targeting EGFR mutation",
                            "omopTable": "drug_exposure",
                            "strategy": "Ensures the patient is treatment-naive for their identified EGFR mutation."
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "nodeId": "1b_2",
                    "nodeType": "atomic",
                    "atomicText": "ALK gene rearrangement is present",
                    "omopTable": "measurement",
                    "strategy": "Identifies patients with a positive ALK gene rearrangement."
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "BEFORE",
                  "anchor": "study_entry"
                },
                "operand": {
                  "nodeId": "2a_1",
                  "nodeType": "atomic",
                  "atomicText": "EGFR mutation status is known",
                  "omopTable": "observation",
                  "strategy": "Ensures a test result for EGFR mutation status is documented in the patient's record before study entry."
                }
              },
              {
                "nodeId": "2b",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "BEFORE",
                  "anchor": "study_entry"
                },
                "operand": {
                  "nodeId": "2b_1",
                  "nodeType": "atomic",
                  "atomicText": "ALK gene rearrangement status is known",
                  "omopTable": "observation",
                  "strategy": "Ensures a test result for ALK rearrangement status is documented in the patient's record before study entry."
                }
              }
            ]
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "Diagnosis of squamous Non-Small Cell Lung Cancer (NSCLC)",
          "omopTable": "condition_occurrence",
          "strategy": "Identifies patients with the specific histological subtype of NSCLC."
        },
        {
          "atomicId": "1b_1a_1",
          "atomicText": "EGFR exon 19 deletion mutation is present",
          "omopTable": "measurement",
          "strategy": "Confirms the presence of a specific sensitizing EGFR mutation."
        },
        {
          "atomicId": "1b_1a_2",
          "atomicText": "EGFR L858R mutation in exon 21 is present",
          "omopTable": "measurement",
          "strategy": "Confirms the presence of a specific sensitizing EGFR mutation."
        },
        {
          "atomicId": "1b_1b_1",
          "atomicText": "Prior treatment targeting EGFR mutation",
          "omopTable": "drug_exposure",
          "strategy": "Ensures the patient is treatment-naive for their identified EGFR mutation."
        },
        {
          "atomicId": "1b_2",
          "atomicText": "ALK gene rearrangement is present",
          "omopTable": "measurement",
          "strategy": "Identifies patients with a positive ALK gene rearrangement."
        },
        {
          "atomicId": "2a_1",
          "atomicText": "EGFR mutation status is known",
          "omopTable": "observation",
          "strategy": "Ensures a test result for EGFR mutation status is documented in the patient's record before study entry."
        },
        {
          "atomicId": "2b_1",
          "atomicText": "ALK gene rearrangement status is known",
          "omopTable": "observation",
          "strategy": "Ensures a test result for ALK rearrangement status is documented in the patient's record before study entry."
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 37109576, 4110705, 37166577))\nUNION\n((((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686))\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686)))\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (37312685, 37116971, 42872915)))\n)",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "Diagnosis of squamous Non-Small Cell Lung Cancer (NSCLC)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4115276, 37109576, 4110705, 37166577)"
        },
        {
          "atomicId": "1b_1a_1",
          "atomicText": "EGFR exon 19 deletion mutation is present",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686)"
        },
        {
          "atomicId": "1b_1a_2",
          "atomicText": "EGFR L858R mutation in exon 21 is present",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (42536048, 37203875, 37312686)"
        },
        {
          "atomicId": "1b_1b_1",
          "atomicText": "Prior treatment targeting EGFR mutation",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b_2",
          "atomicText": "ALK gene rearrangement is present",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (37312685, 37116971, 42872915)"
        },
        {
          "atomicId": "2a_1",
          "atomicText": "EGFR mutation status is known",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (42536048, 37203875, 37312686)"
        },
        {
          "atomicId": "2b_1",
          "atomicText": "ALK gene rearrangement status is known",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "EXC_5",
      "originalCriterionId": "5",
      "originalText": "A history of seizure within 12 months prior to study entry.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "gene rearrangement status must be known prior to study entry. \n5. A history of seizure within 12 months prior to study entry.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion consists of a single medical condition ('seizure') modified by a specific time window. This is best represented by an atomic node for the condition, which is then wrapped by a temporal node to apply the time constraint.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "study_entry",
              "value": 12,
              "unit": "months"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "History of seizure",
              "omopTable": "condition_occurrence",
              "strategy": "Identify patients with a condition concept for seizure. The temporal constraint ensures the event is recent, which is often a safety concern in clinical trials."
            }
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "History of seizure",
          "omopTable": "condition_occurrence",
          "strategy": "Identify patients with a condition concept for seizure. The temporal constraint ensures the event is recent, which is often a safety concern in clinical trials."
        }
      ],
      "sqlTemplate": "-- No valid SQL from operands",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "History of seizure",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (377091, 4197485, 4000171, 4216135, 45600782)"
        }
      ]
    },
    {
      "criterionId": "EXC_6",
      "originalCriterionId": "6",
      "originalText": "Subject has received prior cytotoxic chemotherapy or chemoradiotherapy for NSCLC, except adjuvant or neoadjuvant therapy > 12 months prior to C1D-2, or subject has received targeted small molecule monotherapy for EGFR and/or ALK-positive disease \u2264 14 days prior to C1D-2 or biologic therapy \u2264 21 days prior to C1D-2.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "5. A history of seizure within 12 months prior to study entry.\n6. Subject has received prior cytotoxic chemotherapy or chemoradiotherapy for NSCLC, except \nadjuvant or neoadjuvant therapy > 12 months prior to C1D-2 or subject has received targeted small \nmolecule monotherapy for EGFR and/or ALK-positive disease \u2264 14 days prior to C1D-2 or biologic \ntherapy \u2264 21 days prior to C1D-2.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion is a main OR statement with three clauses. The first clause handles prior chemotherapy with an EXCEPT condition for long-ago adjuvant/neoadjuvant therapy. The other two clauses specify washout periods for recent targeted and biologic therapies, modeled using temporal operators.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "EXCEPT",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1a1",
                    "nodeType": "atomic",
                    "atomicText": "Subject has received prior cytotoxic chemotherapy for NSCLC",
                    "omopTable": "drug_exposure",
                    "strategy": "Identifies patients with a history of cytotoxic chemotherapy treatment for Non-Small Cell Lung Cancer."
                  },
                  {
                    "nodeId": "1a2",
                    "nodeType": "atomic",
                    "atomicText": "Subject has received prior chemoradiotherapy for NSCLC",
                    "omopTable": "procedure_occurrence",
                    "strategy": "Identifies patients with a history of chemoradiotherapy treatment for Non-Small Cell Lung Cancer."
                  }
                ]
              },
              {
                "nodeId": "1b",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1b1",
                    "nodeType": "atomic",
                    "atomicText": "Received adjuvant therapy > 12 months prior to C1D-2",
                    "omopTable": "drug_exposure",
                    "timeConstraint": "> 12 months prior to C1D-2",
                    "timeFrameStructured": {
                      "value": 12,
                      "unit": "months",
                      "operator": "before",
                      "relativeEvent": "C1D-2"
                    },
                    "strategy": "Identifies adjuvant therapies that were completed more than 12 months before C1D-2, which are permitted."
                  },
                  {
                    "nodeId": "1b2",
                    "nodeType": "atomic",
                    "atomicText": "Received neoadjuvant therapy > 12 months prior to C1D-2",
                    "omopTable": "drug_exposure",
                    "timeConstraint": "> 12 months prior to C1D-2",
                    "timeFrameStructured": {
                      "value": 12,
                      "unit": "months",
                      "operator": "before",
                      "relativeEvent": "C1D-2"
                    },
                    "strategy": "Identifies neoadjuvant therapies that were completed more than 12 months before C1D-2, which are permitted."
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "C1D-2",
              "value": 14,
              "unit": "days"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "operator",
              "operator": "OR",
              "operands": [
                {
                  "nodeId": "2a1",
                  "nodeType": "atomic",
                  "atomicText": "Received targeted small molecule monotherapy for EGFR-positive disease",
                  "omopTable": "drug_exposure",
                  "strategy": "Identifies recent use of targeted small molecule monotherapy in the context of EGFR-positive NSCLC."
                },
                {
                  "nodeId": "2a2",
                  "nodeType": "atomic",
                  "atomicText": "Received targeted small molecule monotherapy for ALK-positive disease",
                  "omopTable": "drug_exposure",
                  "strategy": "Identifies recent use of targeted small molecule monotherapy in the context of ALK-positive NSCLC."
                }
              ]
            }
          },
          {
            "nodeId": "3",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "C1D-2",
              "value": 21,
              "unit": "days"
            },
            "operand": {
              "nodeId": "3a",
              "nodeType": "atomic",
              "atomicText": "Received biologic therapy",
              "omopTable": "drug_exposure",
              "strategy": "Identifies use of any biologic therapies within the 21-day washout period."
            }
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a1",
          "atomicText": "Subject has received prior cytotoxic chemotherapy for NSCLC",
          "omopTable": "drug_exposure",
          "strategy": "Identifies patients with a history of cytotoxic chemotherapy treatment for Non-Small Cell Lung Cancer."
        },
        {
          "atomicId": "1a2",
          "atomicText": "Subject has received prior chemoradiotherapy for NSCLC",
          "omopTable": "procedure_occurrence",
          "strategy": "Identifies patients with a history of chemoradiotherapy treatment for Non-Small Cell Lung Cancer."
        },
        {
          "atomicId": "1b1",
          "atomicText": "Received adjuvant therapy > 12 months prior to C1D-2",
          "omopTable": "drug_exposure",
          "strategy": "Identifies adjuvant therapies that were completed more than 12 months before C1D-2, which are permitted.",
          "timeConstraint": "> 12 months prior to C1D-2",
          "timeFrameStructured": {
            "value": 12,
            "unit": "months",
            "operator": "before",
            "relativeEvent": "C1D-2"
          }
        },
        {
          "atomicId": "1b2",
          "atomicText": "Received neoadjuvant therapy > 12 months prior to C1D-2",
          "omopTable": "drug_exposure",
          "strategy": "Identifies neoadjuvant therapies that were completed more than 12 months before C1D-2, which are permitted.",
          "timeConstraint": "> 12 months prior to C1D-2",
          "timeFrameStructured": {
            "value": 12,
            "unit": "months",
            "operator": "before",
            "relativeEvent": "C1D-2"
          }
        },
        {
          "atomicId": "2a1",
          "atomicText": "Received targeted small molecule monotherapy for EGFR-positive disease",
          "omopTable": "drug_exposure",
          "strategy": "Identifies recent use of targeted small molecule monotherapy in the context of EGFR-positive NSCLC."
        },
        {
          "atomicId": "2a2",
          "atomicText": "Received targeted small molecule monotherapy for ALK-positive disease",
          "omopTable": "drug_exposure",
          "strategy": "Identifies recent use of targeted small molecule monotherapy in the context of ALK-positive NSCLC."
        },
        {
          "atomicId": "3a",
          "atomicText": "Received biologic therapy",
          "omopTable": "drug_exposure",
          "strategy": "Identifies use of any biologic therapies within the 21-day washout period."
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (45766298, 40218367)))\nEXCEPT\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '12 months')\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (44808409)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '12 months'))\n)",
      "sqlComponents": [
        {
          "atomicId": "1a1",
          "atomicText": "Subject has received prior cytotoxic chemotherapy for NSCLC",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Subject has received prior chemoradiotherapy for NSCLC",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (45766298, 40218367)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Received adjuvant therapy > 12 months prior to C1D-2",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '12 months'"
        },
        {
          "atomicId": "1b2",
          "atomicText": "Received neoadjuvant therapy > 12 months prior to C1D-2",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (44808409)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '12 months'"
        },
        {
          "atomicId": "2a1",
          "atomicText": "Received targeted small molecule monotherapy for EGFR-positive disease",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a2",
          "atomicText": "Received targeted small molecule monotherapy for ALK-positive disease",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3a",
          "atomicText": "Received biologic therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_7",
      "originalCriterionId": "7",
      "originalText": "Subject has received anti-cancer Chinese medicine or anti-cancer herbal remedies within 14 days prior to C1D-2.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "molecule monotherapy for EGFR and/or ALK-positive disease \u2264 14 days prior to C1D-2 or biologic \ntherapy \u2264 21 days prior to C1D-2.\n7. Subject has received anti-cancer Chinese medicine or anti-cancer herbal remedies within 14 days \nprior to C1D-2.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "The criterion specifies two types of treatments connected by 'or', both constrained by the same temporal condition. This is modeled by a temporal node that wraps an OR operator, which in turn contains two atomic nodes representing each treatment type.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "C1D-2",
          "value": 14,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Subject has received anti-cancer Chinese medicine",
              "omopTable": "drug_exposure",
              "strategy": "Identifies use of traditional Chinese medicine with anti-cancer properties. These are often excluded from trials to avoid confounding effects on efficacy or safety."
            },
            {
              "nodeId": "1b",
              "nodeType": "atomic",
              "atomicText": "Subject has received anti-cancer herbal remedies",
              "omopTable": "drug_exposure",
              "strategy": "Identifies use of herbal remedies with anti-cancer properties. Similar to Chinese medicine, these are excluded to prevent interference with the study drug."
            }
          ]
        }
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "Subject has received anti-cancer Chinese medicine",
          "omopTable": "drug_exposure",
          "strategy": "Identifies use of traditional Chinese medicine with anti-cancer properties. These are often excluded from trials to avoid confounding effects on efficacy or safety."
        },
        {
          "atomicId": "1b",
          "atomicText": "Subject has received anti-cancer herbal remedies",
          "omopTable": "drug_exposure",
          "strategy": "Identifies use of herbal remedies with anti-cancer properties. Similar to Chinese medicine, these are excluded to prevent interference with the study drug."
        }
      ],
      "sqlTemplate": "-- Temporal constraint: WITHIN 14 days of C1D-2\n-- Note: For complex nested operands, temporal filter applied at outer level\nWITH temporal_base AS (\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)\nSELECT DISTINCT person_id\nFROM temporal_base\nWHERE EXISTS (\n    -- Verify temporal constraint is met\n    -- This requires joining back to source table with date filtering\n    SELECT 1 WHERE @C1D-2 BETWEEN @C1D-2 - INTERVAL '14 days' AND @C1D-2 + INTERVAL '14 days'\n)",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "Subject has received anti-cancer Chinese medicine",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Subject has received anti-cancer herbal remedies",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_8",
      "originalCriterionId": "8",
      "originalText": "Subject has undergone focal External Beam Radiation Therapy (EBRT) to bone \u2264 2 weeks prior to C1D-2; or subject has undergone EBRT to larger fields (i.e., 100 cm\u00b2 to thorax) \u2264 4 weeks prior to C1D-2.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "7. Subject has received anti-cancer Chinese medicine or anti-cancer herbal remedies within 14 days \nprior to C1D-2.\n8. Subject has undergone focal External Beam Radiation Therapy (EBRT) to bone \u2264 2 weeks prior to \nC1D-2; or subject has undergone EBRT to larger fields (i.e., 100 cm2 to thorax) \u2264 4 weeks prior to \nC1D-2.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion presents two distinct scenarios linked by an 'OR' operator. The first scenario is focal radiation to bone within a 2-week window, and the second is large-field radiation within a 4-week window, both relative to the C1D-2 event.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "C1D-2",
              "value": 2,
              "unit": "weeks"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Focal External Beam Radiation Therapy (EBRT) to bone",
              "omopTable": "procedure_occurrence",
              "timeConstraint": "\u2264 2 weeks prior to C1D-2",
              "strategy": "Identifies subjects who have received recent, localized radiation therapy to bone which may have less systemic impact."
            }
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "C1D-2",
              "value": 4,
              "unit": "weeks"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "EBRT to larger fields (e.g., thorax with field size >= 100 cm\u00b2)",
              "omopTable": "procedure_occurrence",
              "timeConstraint": "\u2264 4 weeks prior to C1D-2",
              "numericConstraintStructured": {
                "value": 100,
                "operator": ">=",
                "unit": "cm\u00b2",
                "parameter": "EBRT field size"
              },
              "strategy": "Identifies subjects who have received recent radiation to a large area, which has a longer washout period due to greater potential for systemic effects."
            }
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "Focal External Beam Radiation Therapy (EBRT) to bone",
          "omopTable": "procedure_occurrence",
          "strategy": "Identifies subjects who have received recent, localized radiation therapy to bone which may have less systemic impact.",
          "timeConstraint": "\u2264 2 weeks prior to C1D-2"
        },
        {
          "atomicId": "2a",
          "atomicText": "EBRT to larger fields (e.g., thorax with field size >= 100 cm\u00b2)",
          "omopTable": "procedure_occurrence",
          "strategy": "Identifies subjects who have received recent radiation to a large area, which has a longer washout period due to greater potential for systemic effects.",
          "timeConstraint": "\u2264 4 weeks prior to C1D-2",
          "numericConstraintStructured": {
            "value": 100,
            "operator": ">=",
            "unit": "cm\u00b2",
            "parameter": "EBRT field size"
          }
        }
      ],
      "sqlTemplate": "-- No valid SQL from operands",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "Focal External Beam Radiation Therapy (EBRT) to bone",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (4024005, 37159583, 4141601, 4213601, 4141448)"
        },
        {
          "atomicId": "2a",
          "atomicText": "EBRT to larger fields (e.g., thorax with field size >= 100 cm\u00b2)",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (4024005, 37159583, 4141601, 4213601, 4141448)"
        }
      ]
    },
    {
      "criterionId": "EXC_9",
      "originalCriterionId": "9",
      "originalText": "Any medical condition, which in the opinion of the Investigator, places the subject at an unacceptably high risk for toxicities, or any subject circumstance which prohibits trial participation according to local law.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "C1D-2.\n9. Any medical condition, which in the opinion of the Investigator, places the subject at an \nunacceptably high risk for toxicities, or any subject circumstance which prohibits trial participation \naccording to local law.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion is a disjunction (OR) of two distinct, general clauses. The first clause is a medical judgment by the Investigator, and the second is a legal/regulatory constraint, resulting in an OR operator with two atomic operands.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Medical condition deemed by Investigator to pose an unacceptably high risk for toxicities",
            "omopTable": "observation",
            "strategy": "This is a general safety exclusion based on the clinical judgment of the Investigator, covering any condition not explicitly listed that could compromise patient safety."
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Subject circumstance prohibits trial participation according to local law",
            "omopTable": "observation",
            "strategy": "This is a general regulatory exclusion to ensure compliance with local laws and regulations that might prevent a subject's participation (e.g., legal status, ability to consent)."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Medical condition deemed by Investigator to pose an unacceptably high risk for toxicities",
          "omopTable": "observation",
          "strategy": "This is a general safety exclusion based on the clinical judgment of the Investigator, covering any condition not explicitly listed that could compromise patient safety."
        },
        {
          "atomicId": "2",
          "atomicText": "Subject circumstance prohibits trial participation according to local law",
          "omopTable": "observation",
          "strategy": "This is a general regulatory exclusion to ensure compliance with local laws and regulations that might prevent a subject's participation (e.g., legal status, ability to consent)."
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Medical condition deemed by Investigator to pose an unacceptably high risk for toxicities",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Subject circumstance prohibits trial participation according to local law",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_10",
      "originalCriterionId": "10",
      "originalText": "Subject is pregnant or lactating.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "unacceptably high risk for toxicities, or any subject circumstance which prohibits trial participation \naccording to local law.\n10. Subject is pregnant or lactating.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "OR",
      "decompositionStrategy": "The criterion consists of two distinct conditions, 'pregnant' and 'lactating', linked by a simple 'OR' operator. A subject meets the criterion if either one of these conditions is true.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Subject is pregnant",
            "omopTable": "observation",
            "strategy": "Identifies patients with a recorded state of pregnancy, which could be from a diagnosis, lab test, or patient-reported status."
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Subject is lactating",
            "omopTable": "observation",
            "strategy": "Identifies patients with a recorded state of lactation."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Subject is pregnant",
          "omopTable": "observation",
          "strategy": "Identifies patients with a recorded state of pregnancy, which could be from a diagnosis, lab test, or patient-reported status."
        },
        {
          "atomicId": "2",
          "atomicText": "Subject is lactating",
          "omopTable": "observation",
          "strategy": "Identifies patients with a recorded state of lactation."
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4299535, 441919, 4336958, 199076, 1571741))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4218738, 4082452, 4237588, 4289543, 79098))\n)",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Subject is pregnant",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4299535, 441919, 4336958, 199076, 1571741)"
        },
        {
          "atomicId": "2",
          "atomicText": "Subject is lactating",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (4218738, 4082452, 4237588, 4289543, 79098)"
        }
      ]
    },
    {
      "criterionId": "EXC_11",
      "originalCriterionId": "11",
      "originalText": "Subject has previously been treated with a PARP inhibitor.",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "10. Subject is pregnant or lactating.\n11. Subject has previously been treated with a PARP inhibitor.",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "AND",
      "decompositionStrategy": "This criterion is a single, atomic condition that checks for a patient's prior exposure to a specific class of drugs. It is represented as a single leaf node within a root AND operator to maintain a consistent tree structure.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Subject has previously been treated with a PARP inhibitor",
            "omopTable": "drug_exposure",
            "strategy": "Query the drug exposure table for any records of drugs classified as PARP inhibitors, such as olaparib, rucaparib, niraparib, or talazoparib."
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1",
          "atomicText": "Subject has previously been treated with a PARP inhibitor",
          "omopTable": "drug_exposure",
          "strategy": "Query the drug exposure table for any records of drugs classified as PARP inhibitors, such as olaparib, rucaparib, niraparib, or talazoparib."
        }
      ],
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "sqlComponents": [
        {
          "atomicId": "1",
          "atomicText": "Subject has previously been treated with a PARP inhibitor",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_12",
      "originalCriterionId": "12",
      "originalText": "The subject has a history of another cancer within the past 3 years except cervical cancer in situ, in situ carcinoma of the bladder, squamous or basal cell carcinoma of the skin or another in situ cancer that is considered cured by the Investigator (e.g., in situ prostate cancer).",
      "type": "Exclusion",
      "instanceType": "EligibilityCriterion",
      "hasSubCriteria": false,
      "subCriteria": [],
      "crossReferences": [],
      "provenance": {
        "pageNumber": 8,
        "textSnippet": "11. Subject has previously been treated with a PARP inhibitor.\n12. The subject has a history of another cancer within the past 3 years except cervical cancer in situ, \nin situ carcinoma of the bladder, squamous or basal cell carcinoma of the skin or another in situ \ncancer that is considered cured by the Investigator (e.g., in situ prostate cancer). ",
        "confidence": 1.0
      },
      "resolvedReferences": null,
      "logicOperator": "EXCEPT",
      "decompositionStrategy": "The criterion is an exclusion with a list of allowed exceptions, which maps directly to an EXCEPT operator. The primary condition is temporal (cancer within 3 years), and the exceptions are a series of specific cancer types or statuses joined by an OR operator.",
      "useExpressionTree": true,
      "hasNestedLogic": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "reference_date",
              "value": 3,
              "unit": "years"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "History of another cancer",
              "omopTable": "condition_occurrence",
              "strategy": "Identifies any cancer diagnosis other than the primary cancer under investigation. The temporal constraint of 3 years is applied by the parent node."
            }
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Cervical cancer in situ",
                "omopTable": "condition_occurrence",
                "strategy": "Finds records for cervical carcinoma in situ."
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "In situ carcinoma of the bladder",
                "omopTable": "condition_occurrence",
                "strategy": "Finds records for in situ bladder cancer."
              },
              {
                "nodeId": "2c",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "2c_1",
                    "nodeType": "atomic",
                    "atomicText": "Squamous cell carcinoma of the skin",
                    "omopTable": "condition_occurrence",
                    "strategy": "Finds records for cutaneous squamous cell carcinoma."
                  },
                  {
                    "nodeId": "2c_2",
                    "nodeType": "atomic",
                    "atomicText": "Basal cell carcinoma of the skin",
                    "omopTable": "condition_occurrence",
                    "strategy": "Finds records for cutaneous basal cell carcinoma."
                  }
                ]
              },
              {
                "nodeId": "2d",
                "nodeType": "atomic",
                "atomicText": "Other in situ cancer considered cured by Investigator",
                "omopTable": "condition_occurrence",
                "strategy": "This is a composite condition. It requires identifying an in situ cancer diagnosis and a corresponding attestation of 'cured' status, often found in an observation or source document. The example of in situ prostate cancer is illustrative."
              }
            ]
          }
        ]
      },
      "atomicCriteria": [
        {
          "atomicId": "1a",
          "atomicText": "History of another cancer",
          "omopTable": "condition_occurrence",
          "strategy": "Identifies any cancer diagnosis other than the primary cancer under investigation. The temporal constraint of 3 years is applied by the parent node."
        },
        {
          "atomicId": "2a",
          "atomicText": "Cervical cancer in situ",
          "omopTable": "condition_occurrence",
          "strategy": "Finds records for cervical carcinoma in situ."
        },
        {
          "atomicId": "2b",
          "atomicText": "In situ carcinoma of the bladder",
          "omopTable": "condition_occurrence",
          "strategy": "Finds records for in situ bladder cancer."
        },
        {
          "atomicId": "2c_1",
          "atomicText": "Squamous cell carcinoma of the skin",
          "omopTable": "condition_occurrence",
          "strategy": "Finds records for cutaneous squamous cell carcinoma."
        },
        {
          "atomicId": "2c_2",
          "atomicText": "Basal cell carcinoma of the skin",
          "omopTable": "condition_occurrence",
          "strategy": "Finds records for cutaneous basal cell carcinoma."
        },
        {
          "atomicId": "2d",
          "atomicText": "Other in situ cancer considered cured by Investigator",
          "omopTable": "condition_occurrence",
          "strategy": "This is a composite condition. It requires identifying an in situ cancer diagnosis and a corresponding attestation of 'cured' status, often found in an observation or source document. The example of in situ prostate cancer is illustrative."
        }
      ],
      "sqlTemplate": "-- EXCEPT operator requires exactly 2 operands",
      "sqlComponents": [
        {
          "atomicId": "1a",
          "atomicText": "History of another cancer",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (609278)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Cervical cancer in situ",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4112875, 1567740, 35206488)"
        },
        {
          "atomicId": "2b",
          "atomicText": "In situ carcinoma of the bladder",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (35206494, 192855)"
        },
        {
          "atomicId": "2c_1",
          "atomicText": "Squamous cell carcinoma of the skin",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4111921, 4295624, 4298026, 4308621, 45547492)"
        },
        {
          "atomicId": "2c_2",
          "atomicText": "Basal cell carcinoma of the skin",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (4112752, 4298740, 37396458, 37399589, 45552253)"
        },
        {
          "atomicId": "2d",
          "atomicText": "Other in situ cancer considered cured by Investigator",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (433435, 1244876, 373732, 4116351, 1567746)"
        }
      ]
    }
  ],
  "summary": {
    "totalCriteria": 25,
    "inclusionCount": 13,
    "exclusionCount": 12,
    "atomicCount": 89
  }
}