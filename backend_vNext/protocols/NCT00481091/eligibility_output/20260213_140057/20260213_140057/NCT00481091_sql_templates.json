{
  "templates": [
    {
      "criterionId": "INC_5.2.1.1",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "atomic",
        "atomicText": "Age >= 18 years",
        "omopTable": "observation",
        "numericConstraintStructured": {
          "value": 18,
          "operator": ">=",
          "unit": "years",
          "parameter": "age"
        },
        "strategy": "This is a standard requirement to ensure subjects are legal adults for consent and regulatory purposes.",
        "clinicalCategory": "demographics",
        "queryableStatus": "fully_queryable"
      },
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Age >= 18 years",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.1.2",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Relapsed Chronic Lymphocytic Leukemia (CLL)",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with a diagnosis of CLL that has progressed after a prior response to therapy.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "cll_relapsed_refractory_status"
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Refractory Chronic Lymphocytic Leukemia (CLL)",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with a diagnosis of CLL that did not respond to or progressed during the most recent therapy.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "cll_relapsed_refractory_status"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Requires treatment in the opinion of the investigator",
            "omopTable": "observation",
            "strategy": "This is a clinical judgment call by the investigator to confirm that the patient's disease state warrants therapeutic intervention. It is not queryable from structured data.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Relapsed Chronic Lymphocytic Leukemia (CLL)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Refractory Chronic Lymphocytic Leukemia (CLL)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Requires treatment in the opinion of the investigator",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.1.3",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "atomic",
        "atomicText": "Eastern Cooperative Oncology Group performance score of <= 1",
        "omopTable": "observation",
        "numericRangeStructured": {
          "min": 0,
          "max": 1,
          "unit": null,
          "parameter": "Eastern Cooperative Oncology Group performance score"
        },
        "strategy": "This is a standard measure of a patient's functional status. A score of 0 or 1 indicates that the patient is ambulatory and capable of carrying out at least light work, which is a common requirement for trial participation.",
        "clinicalCategory": "performance_status",
        "queryableStatus": "fully_queryable"
      },
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Eastern Cooperative Oncology Group performance score of <= 1",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.1.4",
      "type": "Inclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "1a_condition",
          "nodeType": "atomic",
          "atomicText": "Receiving Selective Serotonin Reuptake Inhibitor (SSRI) anti-depressants",
          "omopTable": "drug_exposure",
          "strategy": "Identifies the cohort of patients on SSRIs to whom the stability requirement applies.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "fully_queryable"
        },
        "requirement": {
          "nodeId": "1b_requirement",
          "nodeType": "atomic",
          "atomicText": "Receiving a stable dose of SSRI anti-depressant",
          "omopTable": "drug_exposure",
          "timeConstraint": "for at least 21 days prior to the first dose of study drug",
          "timeFrameStructured": {
            "value": 21,
            "unit": "days",
            "operator": "before",
            "relativeEvent": "first_dose"
          },
          "strategy": "Ensures that the effect of the SSRI is not a confounding variable by requiring a consistent baseline state. This requires checking drug exposure records in the 21 days preceding the first dose to confirm a constant dosage.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "requires_manual"
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "1a_condition",
          "atomicText": "Receiving Selective Serotonin Reuptake Inhibitor (SSRI) anti-depressants",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b_requirement",
          "atomicText": "Receiving a stable dose of SSRI anti-depressant",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '21 days'"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.1.5",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "1a1",
                    "nodeType": "atomic",
                    "atomicText": "Absolute Neutrophil count (ANC) >= 1000/\u03bcL",
                    "omopTable": "measurement",
                    "numericConstraintStructured": {
                      "value": 1000,
                      "operator": ">=",
                      "unit": "/\u03bcL",
                      "parameter": "Absolute Neutrophil Count"
                    },
                    "strategy": "Assesses hematopoietic function (neutrophils).",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "1a2a",
                    "nodeType": "atomic",
                    "atomicText": "Platelets >= 75,000/mm3",
                    "omopTable": "measurement",
                    "numericConstraintStructured": {
                      "value": 75000,
                      "operator": ">=",
                      "unit": "/mm3",
                      "parameter": "Platelet Count"
                    },
                    "strategy": "Assesses hematopoietic function (platelets).",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "1a2b",
                    "nodeType": "operator",
                    "operator": "NOT",
                    "operands": [
                      {
                        "nodeId": "1a2b1",
                        "nodeType": "temporal",
                        "temporalConstraint": {
                          "operator": "WITHIN",
                          "anchor": "Screening",
                          "value": 14,
                          "unit": "days"
                        },
                        "operand": {
                          "nodeId": "1a2b1a",
                          "nodeType": "atomic",
                          "atomicText": "Received platelet transfusion",
                          "omopTable": "procedure_occurrence",
                          "strategy": "Ensures platelet count is not artificially inflated by recent transfusion.",
                          "clinicalCategory": "organ_function",
                          "queryableStatus": "fully_queryable"
                        }
                      }
                    ]
                  },
                  {
                    "nodeId": "1a3",
                    "nodeType": "atomic",
                    "atomicText": "Hemoglobin >= 9.0 g/dL",
                    "omopTable": "measurement",
                    "numericConstraintStructured": {
                      "value": 9.0,
                      "operator": ">=",
                      "unit": "g/dL",
                      "parameter": "Hemoglobin"
                    },
                    "strategy": "Assesses hematopoietic function (red blood cells).",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "1a4",
                    "nodeType": "operator",
                    "operator": "NOT",
                    "operands": [
                      {
                        "nodeId": "1a4a",
                        "nodeType": "atomic",
                        "atomicText": "Received growth factor support",
                        "omopTable": "drug_exposure",
                        "strategy": "Ensures bone marrow function is adequate without stimulation from drugs like G-CSF.",
                        "clinicalCategory": "organ_function",
                        "queryableStatus": "fully_queryable"
                      }
                    ]
                  }
                ]
              },
              {
                "nodeId": "1b",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "1b1",
                    "nodeType": "atomic",
                    "atomicText": "Absolute Neutrophil count (ANC) < 1000/\u03bcL",
                    "omopTable": "measurement",
                    "numericConstraintStructured": {
                      "value": 1000,
                      "operator": "<",
                      "unit": "/\u03bcL",
                      "parameter": "Absolute Neutrophil Count"
                    },
                    "strategy": "Part of the exception criteria for patients with low ANC due to disease.",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "1b2",
                    "nodeType": "atomic",
                    "atomicText": "Bone marrow heavily infiltrated with underlying disease (80% or more)",
                    "omopTable": "observation",
                    "numericConstraintStructured": {
                      "value": 80,
                      "operator": ">=",
                      "unit": "%",
                      "parameter": "Bone marrow infiltration"
                    },
                    "strategy": "Part of the exception criteria where low blood counts are attributable to disease burden.",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "requires_manual"
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Serum creatinine <= 2.0 mg/dL",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 2.0,
                  "operator": "<=",
                  "unit": "mg/dL",
                  "parameter": "Serum creatinine"
                },
                "strategy": "Assesses renal function via serum creatinine.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "fully_queryable"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Calculated creatinine clearance >= 50 mL/min",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 50,
                  "operator": ">=",
                  "unit": "mL/min",
                  "parameter": "Creatinine clearance"
                },
                "strategy": "Assesses renal function via calculated clearance, often using Cockcroft-Gault.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "partially_queryable"
              }
            ]
          },
          {
            "nodeId": "3a",
            "nodeType": "atomic",
            "atomicText": "AST <= 3.0 x the upper normal limit (ULN)",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 3.0,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "Aspartate aminotransferase (AST)"
            },
            "strategy": "Assesses hepatic function.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "3b",
            "nodeType": "atomic",
            "atomicText": "ALT <= 3.0 x the upper normal limit (ULN)",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 3.0,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "Alanine aminotransferase (ALT)"
            },
            "strategy": "Assesses hepatic function.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "3c",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "3c1",
                "nodeType": "atomic",
                "atomicText": "Total Bilirubin <= 1.5 x ULN",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 1.5,
                  "operator": "<=",
                  "unit": "x ULN",
                  "parameter": "Total Bilirubin"
                },
                "strategy": "Standard requirement for bilirubin as a measure of hepatic function.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "3c2",
                "nodeType": "atomic",
                "atomicText": "Subject has Gilbert's Syndrome",
                "omopTable": "condition_occurrence",
                "strategy": "Allows for elevated bilirubin if caused by the benign condition Gilbert's Syndrome.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "fully_queryable"
              }
            ]
          },
          {
            "nodeId": "4a",
            "nodeType": "atomic",
            "atomicText": "aPTT not to exceed 1.2 x ULN",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 1.2,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "Activated partial thromboplastin time (aPTT)"
            },
            "strategy": "Assesses coagulation function.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "4b",
            "nodeType": "atomic",
            "atomicText": "PT not to exceed 1.2 x ULN",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 1.2,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "Prothrombin time (PT)"
            },
            "strategy": "Assesses coagulation function.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          }
        ]
      },
      "sqlTemplate": "(((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 1000)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 75000)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 9.0)\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nUNION\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number < 1000)\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nINTERSECT\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2.0)\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 50))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0)\nINTERSECT\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.5)\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Absolute Neutrophil count (ANC) >= 1000/\u03bcL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 1000"
        },
        {
          "atomicId": "1a2a",
          "atomicText": "Platelets >= 75,000/mm3",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 75000"
        },
        {
          "atomicId": "1a2b1a",
          "atomicText": "Received platelet transfusion",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a3",
          "atomicText": "Hemoglobin >= 9.0 g/dL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 9.0"
        },
        {
          "atomicId": "1a4a",
          "atomicText": "Received growth factor support",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Absolute Neutrophil count (ANC) < 1000/\u03bcL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number < 1000"
        },
        {
          "atomicId": "1b2",
          "atomicText": "Bone marrow heavily infiltrated with underlying disease (80% or more)",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Serum creatinine <= 2.0 mg/dL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2.0"
        },
        {
          "atomicId": "2b",
          "atomicText": "Calculated creatinine clearance >= 50 mL/min",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 50"
        },
        {
          "atomicId": "3a",
          "atomicText": "AST <= 3.0 x the upper normal limit (ULN)",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0"
        },
        {
          "atomicId": "3b",
          "atomicText": "ALT <= 3.0 x the upper normal limit (ULN)",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0"
        },
        {
          "atomicId": "3c1",
          "atomicText": "Total Bilirubin <= 1.5 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.5"
        },
        {
          "atomicId": "3c2",
          "atomicText": "Subject has Gilbert's Syndrome",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "4a",
          "atomicText": "aPTT not to exceed 1.2 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2"
        },
        {
          "atomicId": "4b",
          "atomicText": "PT not to exceed 1.2 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.1.6",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Subject is female",
            "omopTable": "person",
            "strategy": "Filter for patients with gender recorded as female.",
            "clinicalCategory": "demographics",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Surgically sterile",
                "omopTable": "procedure_occurrence",
                "strategy": "Identify subjects with a history of hysterectomy, bilateral oophorectomy, or bilateral salpingectomy.",
                "clinicalCategory": "demographics",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Postmenopausal for at least 1 year",
                "omopTable": "observation",
                "timeConstraint": "for at least 1 year",
                "strategy": "Identify postmenopausal status based on diagnosis codes or documented amenorrhea for at least 12 months.",
                "clinicalCategory": "demographics",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "2c",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "2c1",
                    "nodeType": "operator",
                    "operator": "NOT",
                    "operands": [
                      {
                        "nodeId": "2c1a",
                        "nodeType": "temporal",
                        "temporalConstraint": {
                          "operator": "WITHIN",
                          "anchor": "first_dose",
                          "value": 14,
                          "unit": "days"
                        },
                        "operand": {
                          "nodeId": "2c1a1",
                          "nodeType": "atomic",
                          "atomicText": "Positive serum pregnancy test result at Screening",
                          "omopTable": "measurement",
                          "valueConstraint": "Positive result for serum hCG test.",
                          "timeConstraint": "At Screening",
                          "strategy": "Query for serum pregnancy test results with a positive outcome during the screening period.",
                          "clinicalCategory": "demographics",
                          "queryableStatus": "screening_only"
                        }
                      }
                    ]
                  },
                  {
                    "nodeId": "2c2",
                    "nodeType": "operator",
                    "operator": "IMPLICATION",
                    "condition": {
                      "nodeId": "2c2_cond",
                      "nodeType": "atomic",
                      "atomicText": "More than 7 days between obtaining serum pregnancy test and initial study drug administration",
                      "omopTable": "measurement",
                      "timeConstraint": "> 7 days",
                      "strategy": "Calculate the time difference between the serum pregnancy test date and the first dose date.",
                      "clinicalCategory": "demographics",
                      "queryableStatus": "screening_only"
                    },
                    "requirement": {
                      "nodeId": "2c2_req",
                      "nodeType": "operator",
                      "operator": "NOT",
                      "operands": [
                        {
                          "nodeId": "2c2_req_a",
                          "nodeType": "temporal",
                          "temporalConstraint": {
                            "operator": "BEFORE",
                            "anchor": "first_dose"
                          },
                          "operand": {
                            "nodeId": "2c2_req_a1",
                            "nodeType": "atomic",
                            "atomicText": "Positive urine pregnancy test on Cycle 1 Day 1 or Lead-in Day 1",
                            "omopTable": "measurement",
                            "valueConstraint": "Positive result for urine hCG test.",
                            "timeConstraint": "On Cycle 1 Day 1 or Lead-in Day 1",
                            "strategy": "Query for urine pregnancy test results with a positive outcome on the day of initial dosing.",
                            "clinicalCategory": "demographics",
                            "queryableStatus": "screening_only"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Subject is female",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Subject is female\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "2a",
          "atomicText": "Surgically sterile",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Postmenopausal for at least 1 year",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "2c1a1",
          "atomicText": "Positive serum pregnancy test result at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c2_cond",
          "atomicText": "More than 7 days between obtaining serum pregnancy test and initial study drug administration",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c2_req_a1",
          "atomicText": "Positive urine pregnancy test on Cycle 1 Day 1 or Lead-in Day 1",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.1.7",
      "type": "Inclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "c1",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "c1a",
              "nodeType": "operator",
              "operator": "AND",
              "operands": [
                {
                  "nodeId": "c1a1",
                  "nodeType": "atomic",
                  "atomicText": "Gender is Female",
                  "omopTable": "person",
                  "strategy": "Identifies female subjects.",
                  "clinicalCategory": "demographics",
                  "queryableStatus": "fully_queryable"
                },
                {
                  "nodeId": "c1a2",
                  "nodeType": "operator",
                  "operator": "NOT",
                  "operands": [
                    {
                      "nodeId": "c1a2_op",
                      "nodeType": "operator",
                      "operator": "OR",
                      "operands": [
                        {
                          "nodeId": "c1a2a",
                          "nodeType": "atomic",
                          "atomicText": "Surgically sterile",
                          "omopTable": "procedure_occurrence",
                          "strategy": "Identifies conditions like hysterectomy, bilateral oophorectomy, or tubal ligation.",
                          "clinicalCategory": "demographics",
                          "queryableStatus": "partially_queryable",
                          "clinicalConceptGroup": "female_sterility"
                        },
                        {
                          "nodeId": "c1a2b",
                          "nodeType": "atomic",
                          "atomicText": "Postmenopausal for at least 1 year",
                          "omopTable": "observation",
                          "timeConstraint": "for at least 1 year",
                          "timeFrameStructured": {
                            "value": 1,
                            "unit": "year",
                            "operator": "at_least",
                            "relativeEvent": "current_date"
                          },
                          "strategy": "Identifies postmenopausal status, defined as 12 months of amenorrhea.",
                          "clinicalCategory": "demographics",
                          "queryableStatus": "partially_queryable",
                          "clinicalConceptGroup": "female_sterility"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "nodeId": "c1b",
              "nodeType": "operator",
              "operator": "AND",
              "operands": [
                {
                  "nodeId": "c1b1",
                  "nodeType": "atomic",
                  "atomicText": "Gender is Male",
                  "omopTable": "person",
                  "strategy": "Identifies male subjects.",
                  "clinicalCategory": "demographics",
                  "queryableStatus": "fully_queryable"
                },
                {
                  "nodeId": "c1b2",
                  "nodeType": "operator",
                  "operator": "NOT",
                  "operands": [
                    {
                      "nodeId": "c1b2a",
                      "nodeType": "atomic",
                      "atomicText": "Subject has had a vasectomy",
                      "omopTable": "procedure_occurrence",
                      "strategy": "Identifies males who are surgically sterile.",
                      "clinicalCategory": "demographics",
                      "queryableStatus": "fully_queryable"
                    }
                  ]
                }
              ]
            }
          ]
        },
        "requirement": {
          "nodeId": "r1",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "r1a",
              "nodeType": "atomic",
              "atomicText": "Total abstinence from sexual intercourse for at least one complete menstrual cycle",
              "omopTable": "observation",
              "timeConstraint": "minimum one complete menstrual cycle",
              "strategy": "Patient-reported abstinence. One of the acceptable birth control methods.",
              "clinicalCategory": "demographics",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "birth_control_method"
            },
            {
              "nodeId": "r1b",
              "nodeType": "atomic",
              "atomicText": "Partner is vasectomized",
              "omopTable": "observation",
              "strategy": "Patient-reported partner status. One of the acceptable birth control methods.",
              "clinicalCategory": "demographics",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "birth_control_method"
            },
            {
              "nodeId": "r1c",
              "nodeType": "atomic",
              "atomicText": "Use of hormonal contraceptives (oral, parenteral or transdermal) for at least 3 months prior to study drug administration",
              "omopTable": "drug_exposure",
              "timeConstraint": "for at least 3 months prior to study drug administration",
              "timeFrameStructured": {
                "value": 3,
                "unit": "months",
                "operator": "before",
                "relativeEvent": "study drug administration"
              },
              "strategy": "Verifies use of hormonal contraception for a sufficient duration before the study. One of the acceptable birth control methods.",
              "clinicalCategory": "demographics",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "birth_control_method"
            },
            {
              "nodeId": "r1d",
              "nodeType": "atomic",
              "atomicText": "Use of double-barrier method",
              "omopTable": "observation",
              "strategy": "Includes condoms, contraceptive sponge, diaphragm or vaginal ring with spermicidal jellies or cream. One of the acceptable birth control methods.",
              "clinicalCategory": "demographics",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "birth_control_method"
            }
          ]
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "c1a1",
          "atomicText": "Gender is Female",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Gender is Female\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "c1a2a",
          "atomicText": "Surgically sterile",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "c1a2b",
          "atomicText": "Postmenopausal for at least 1 year",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "c1b1",
          "atomicText": "Gender is Male",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Gender is Male\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "c1b2a",
          "atomicText": "Subject has had a vasectomy",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "r1a",
          "atomicText": "Total abstinence from sexual intercourse for at least one complete menstrual cycle",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "r1b",
          "atomicText": "Partner is vasectomized",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "r1c",
          "atomicText": "Use of hormonal contraceptives (oral, parenteral or transdermal) for at least 3 months prior to study drug administration",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '3 months'"
        },
        {
          "atomicId": "r1d",
          "atomicText": "Use of double-barrier method",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.1.8",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Informed consent was given voluntarily",
            "omopTable": "observation",
            "strategy": "Ensures the patient's participation is willing and not coerced. This is assessed and documented by site staff.",
            "clinicalCategory": "diagnostic_confirmation",
            "queryableStatus": "screening_only"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Informed consent form is approved by an Independent Ethics Committee (IEC)/Institutional Review Board (IRB)",
            "omopTable": "observation",
            "strategy": "Confirms that the study protocol and consent documentation meet required ethical standards. This is a study-level requirement verified at the site.",
            "clinicalCategory": "diagnostic_confirmation",
            "queryableStatus": "screening_only"
          },
          {
            "nodeId": "3",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "BEFORE",
              "anchor": "initiation of any screening or study-specific procedures"
            },
            "operand": {
              "nodeId": "3a",
              "nodeType": "operator",
              "operator": "AND",
              "operands": [
                {
                  "nodeId": "3a1",
                  "nodeType": "atomic",
                  "atomicText": "Subject has signed an informed consent form",
                  "omopTable": "observation",
                  "strategy": "Documents the patient's formal agreement to participate in the trial. Verified via source document review.",
                  "clinicalCategory": "diagnostic_confirmation",
                  "queryableStatus": "screening_only",
                  "clinicalConceptGroup": "informed_consent_documentation"
                },
                {
                  "nodeId": "3a2",
                  "nodeType": "atomic",
                  "atomicText": "The signed informed consent form is dated",
                  "omopTable": "observation",
                  "strategy": "Establishes the specific date on which the patient provided consent. Verified via source document review.",
                  "clinicalCategory": "diagnostic_confirmation",
                  "queryableStatus": "screening_only",
                  "clinicalConceptGroup": "informed_consent_documentation"
                }
              ]
            }
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Informed consent was given voluntarily",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Informed consent form is approved by an Independent Ethics Committee (IEC)/Institutional Review Board (IRB)",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3a1",
          "atomicText": "Subject has signed an informed consent form",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3a2",
          "atomicText": "The signed informed consent form is dated",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.1",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "History of cancer-related Central Nervous System (CNS) disease",
            "omopTable": "condition_occurrence",
            "strategy": "Checks for a formal diagnosis of CNS disease related to cancer, such as brain metastases or primary CNS tumors, in the patient's medical history.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "cancer_related_cns_disease"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Clinically suspicious for cancer-related Central Nervous System (CNS) disease",
            "omopTable": "observation",
            "strategy": "Captures clinical judgment where CNS disease is suspected based on symptoms or signs, even without a confirmed diagnosis. This typically requires manual chart review.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "cancer_related_cns_disease"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "History of cancer-related Central Nervous System (CNS) disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Clinically suspicious for cancer-related Central Nervous System (CNS) disease",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.2",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Undergone an allogeneic stem cell transplant",
            "omopTable": "procedure_occurrence",
            "strategy": "Identifies patients who have received a stem cell transplant from a donor. This is a significant prior medical procedure.",
            "clinicalCategory": "prior_therapy",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "stem_cell_transplant"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Undergone an autologous stem cell transplant",
            "omopTable": "procedure_occurrence",
            "strategy": "Identifies patients who have received a stem cell transplant using their own cells. This is a significant prior medical procedure.",
            "clinicalCategory": "prior_therapy",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "stem_cell_transplant"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Undergone an allogeneic stem cell transplant",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Undergone an autologous stem cell transplant",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.3",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose",
              "value": 1,
              "unit": "year"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Underlying, predisposing condition of bleeding",
              "omopTable": "condition_occurrence",
              "timeConstraint": "within 1 year prior to first dose of study drug",
              "timeFrameStructured": {
                "value": 1,
                "unit": "year",
                "operator": "within",
                "relativeEvent": "first_dose"
              },
              "strategy": "Identifies subjects with a known medical history that increases bleeding risk, such as coagulopathies, severe thrombocytopenia, or recent major surgery.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable"
            }
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Currently exhibits signs of bleeding",
            "omopTable": "observation",
            "timeConstraint": "current",
            "strategy": "Identifies subjects with active bleeding at the time of study entry, which is a direct safety contraindication. This is typically assessed at screening or baseline.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Underlying, predisposing condition of bleeding",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Currently exhibits signs of bleeding",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.4",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Active peptic ulcer disease",
            "omopTable": "condition_occurrence",
            "strategy": "Identify patients with a current or recent diagnosis of peptic ulcer disease, which poses a significant bleeding risk.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "gi_bleeding_risk"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Potentially hemorrhagic esophagitis",
            "omopTable": "condition_occurrence",
            "strategy": "Identify patients with esophagitis that has a hemorrhagic component or potential, excluding them due to bleeding risk. This may require identifying specific subtypes or co-occurring bleeding diagnoses.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "partially_queryable",
            "clinicalConceptGroup": "gi_bleeding_risk"
          },
          {
            "nodeId": "3",
            "nodeType": "atomic",
            "atomicText": "Potentially hemorrhagic gastritis",
            "omopTable": "condition_occurrence",
            "strategy": "Identify patients with gastritis that has a hemorrhagic component or potential, excluding them due to bleeding risk. This may require identifying specific subtypes or co-occurring bleeding diagnoses.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "partially_queryable",
            "clinicalConceptGroup": "gi_bleeding_risk"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Active peptic ulcer disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Potentially hemorrhagic esophagitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3",
          "atomicText": "Potentially hemorrhagic gastritis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.5",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Active immune thrombocytopenic purpura",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies subjects with the primary diagnosis of active ITP.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose",
              "value": 1,
              "unit": "year"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "History of being refractory to platelet transfusions",
              "omopTable": "observation",
              "timeConstraint": "within 1 year prior to the first dose of study drug",
              "strategy": "Identifies subjects with a documented history of failing to respond to platelet transfusions. This is often a clinical assessment based on post-transfusion platelet counts.",
              "clinicalCategory": "disease_indication",
              "queryableStatus": "partially_queryable"
            }
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Active immune thrombocytopenic purpura",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "History of being refractory to platelet transfusions",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.6",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "first_dose",
          "value": 7,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Received aspirin",
          "omopTable": "drug_exposure",
          "timeConstraint": "within 7 days prior to the first dose of study drug",
          "timeFrameStructured": {
            "value": 7,
            "unit": "days",
            "operator": "within",
            "relativeEvent": "first_dose"
          },
          "strategy": "Query drug exposure records for aspirin within the 7-day window before the study drug's first dose. This is often checked to manage bleeding risk or drug interactions.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "fully_queryable"
        }
      },
      "sqlTemplate": "-- Temporal: WITHIN 7 days of first_dose\nSELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date BETWEEN @first_dose - INTERVAL '7 days' AND @first_dose + INTERVAL '7 days'",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Received aspirin",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '7 days'"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.7",
      "type": "Exclusion",
      "logicOperator": "EXCEPT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Currently receiving or requires anticoagulation therapy",
                "omopTable": "drug_exposure",
                "timeConstraint": "currently",
                "strategy": "Identifies patients taking anticoagulant medications, which could pose a bleeding risk. The 'requires' clause may necessitate manual review of conditions or clinical notes.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "bleeding_risk_medication"
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Currently receiving or requires any drugs or herbal supplements that affect platelet function",
                "omopTable": "drug_exposure",
                "timeConstraint": "currently",
                "strategy": "Identifies patients taking antiplatelet agents (e.g., aspirin, clopidogrel) or certain supplements (e.g., ginkgo, garlic), which pose a bleeding risk. Requires a comprehensive value set.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "bleeding_risk_medication"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Low-dose anticoagulation medications used to maintain the patency of a central intravenous catheter",
            "omopTable": "drug_exposure",
            "valueConstraint": "low-dose and for catheter patency",
            "strategy": "This is an exception for a common, low-risk use of anticoagulants like heparin flushes for IV lines. Identifying the specific indication and confirming the low dose typically requires manual chart review.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nEXCEPT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Currently receiving or requires anticoagulation therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Currently receiving or requires any drugs or herbal supplements that affect platelet function",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Low-dose anticoagulation medications used to maintain the patency of a central intravenous catheter",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.8",
      "type": "Exclusion",
      "logicOperator": "EXCEPT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose",
              "value": 7,
              "unit": "days"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Received steroid therapy for anti-neoplastic intent",
              "omopTable": "drug_exposure",
              "strategy": "Identifies patients receiving high-dose or systemic steroids for cancer treatment, which could interfere with the study drug's mechanism or safety profile. This is a common exclusion to avoid confounding effects.",
              "clinicalCategory": "prior_therapy",
              "queryableStatus": "partially_queryable"
            }
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Received inhaled steroids for asthma",
                "omopTable": "drug_exposure",
                "strategy": "This is a permitted exception because inhaled steroids have minimal systemic absorption and are unlikely to interfere with the study drug.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "permitted_steroids"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Received topical steroids",
                "omopTable": "drug_exposure",
                "strategy": "This is a permitted exception because topical steroids have minimal systemic absorption and are unlikely to interfere with the study drug.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "permitted_steroids"
              },
              {
                "nodeId": "2c",
                "nodeType": "atomic",
                "atomicText": "Received replacement or stress corticosteroids",
                "omopTable": "drug_exposure",
                "strategy": "This is a permitted exception because these are physiological doses, not pharmacological, and are not for anti-neoplastic intent. They are necessary for patients with adrenal insufficiency.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "permitted_steroids"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCEPT operator requires exactly 2 operands",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Received steroid therapy for anti-neoplastic intent",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Received inhaled steroids for asthma",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Received topical steroids",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c",
          "atomicText": "Received replacement or stress corticosteroids",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.9",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose",
              "value": 14,
              "unit": "days"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "operator",
              "operator": "OR",
              "operands": [
                {
                  "nodeId": "1a1",
                  "nodeType": "atomic",
                  "atomicText": "Received chemotherapy",
                  "omopTable": "drug_exposure",
                  "strategy": "Check for exposure to chemotherapy agents.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "anti_cancer_therapy"
                },
                {
                  "nodeId": "1a2",
                  "nodeType": "atomic",
                  "atomicText": "Received immunotherapy",
                  "omopTable": "drug_exposure",
                  "strategy": "Check for exposure to immunotherapy agents.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "anti_cancer_therapy"
                },
                {
                  "nodeId": "1a3",
                  "nodeType": "atomic",
                  "atomicText": "Received radiotherapy",
                  "omopTable": "procedure_occurrence",
                  "strategy": "Check for radiotherapy procedures.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "anti_cancer_therapy"
                },
                {
                  "nodeId": "1a4",
                  "nodeType": "operator",
                  "operator": "EXCEPT",
                  "operands": [
                    {
                      "nodeId": "1a4a",
                      "nodeType": "atomic",
                      "atomicText": "Received hormonal anti-cancer therapy",
                      "omopTable": "drug_exposure",
                      "strategy": "Check for exposure to hormonal therapies used for cancer treatment.",
                      "clinicalCategory": "prior_therapy",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "anti_cancer_therapy"
                    },
                    {
                      "nodeId": "1a4b",
                      "nodeType": "operator",
                      "operator": "OR",
                      "operands": [
                        {
                          "nodeId": "1a4b1",
                          "nodeType": "atomic",
                          "atomicText": "Received hormones for thyroid conditions",
                          "omopTable": "drug_exposure",
                          "strategy": "Identify hormone therapies specifically for thyroid conditions, which are allowed.",
                          "clinicalCategory": "prior_therapy",
                          "queryableStatus": "fully_queryable"
                        },
                        {
                          "nodeId": "1a4b2",
                          "nodeType": "atomic",
                          "atomicText": "Received estrogen replacement therapy (ERT)",
                          "omopTable": "drug_exposure",
                          "strategy": "Identify estrogen replacement therapies, which are allowed.",
                          "clinicalCategory": "prior_therapy",
                          "queryableStatus": "fully_queryable"
                        }
                      ]
                    }
                  ]
                },
                {
                  "nodeId": "1a5",
                  "nodeType": "atomic",
                  "atomicText": "Received any investigational therapy",
                  "omopTable": "drug_exposure",
                  "strategy": "Check for participation in other clinical trials or receipt of investigational agents.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "partially_queryable"
                }
              ]
            }
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Recovered to less than grade 2 from clinically significant adverse effects of previous therapy",
                "omopTable": "observation",
                "numericConstraintStructured": {
                  "value": 2,
                  "operator": "<",
                  "unit": "grade",
                  "parameter": "CTCAE grade for adverse effect from prior therapy"
                },
                "strategy": "Verify that all significant toxicities from prior treatments have resolved to Grade 1 or 0. This requires chart review to link AEs to prior therapy and assess clinical significance.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Received chemotherapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Received immunotherapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a3",
          "atomicText": "Received radiotherapy",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a4a",
          "atomicText": "Received hormonal anti-cancer therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a4b1",
          "atomicText": "Received hormones for thyroid conditions",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a4b2",
          "atomicText": "Received estrogen replacement therapy (ERT)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a5",
          "atomicText": "Received any investigational therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Recovered to less than grade 2 from clinically significant adverse effects of previous therapy",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.10",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "first_dose",
          "value": 30,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Received a biologic",
          "omopTable": "drug_exposure",
          "strategy": "Query for drug exposures to any medication classified as a biologic. The temporal constraint ensures this exposure is recent relative to the start of the study drug.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "fully_queryable"
        }
      },
      "sqlTemplate": "-- Temporal: WITHIN 30 days of first_dose\nSELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date BETWEEN @first_dose - INTERVAL '30 days' AND @first_dose + INTERVAL '30 days'",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Received a biologic",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.11",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "first_dose",
          "value": 3,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a1",
              "nodeType": "atomic",
              "atomicText": "Consumed grapefruit",
              "omopTable": "observation",
              "timeConstraint": "within 3 days prior to the first dose of study drug",
              "strategy": "This is a common safety exclusion to prevent drug-food interaction. Grapefruit and its products can inhibit CYP3A4 enzymes, significantly altering the metabolism and bioavailability of many study drugs.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "grapefruit_consumption"
            },
            {
              "nodeId": "1a2",
              "nodeType": "atomic",
              "atomicText": "Consumed grapefruit products",
              "omopTable": "observation",
              "timeConstraint": "within 3 days prior to the first dose of study drug",
              "strategy": "This is a common safety exclusion to prevent drug-food interaction. Grapefruit and its products can inhibit CYP3A4 enzymes, significantly altering the metabolism and bioavailability of many study drugs.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "grapefruit_consumption"
            }
          ]
        }
      },
      "sqlTemplate": "-- Temporal constraint: WITHIN 3 days of first_dose\n-- Note: For complex nested operands, temporal filter applied at outer level\nWITH temporal_base AS (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)\nSELECT DISTINCT person_id\nFROM temporal_base\nWHERE EXISTS (\n    -- Verify temporal constraint is met\n    -- This requires joining back to source table with date filtering\n    SELECT 1 WHERE @first_dose BETWEEN @first_dose - INTERVAL '3 days' AND @first_dose + INTERVAL '3 days'\n)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Consumed grapefruit",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Consumed grapefruit products",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.12",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Significant history of cardiovascular disease",
                "omopTable": "condition_occurrence",
                "strategy": "Captures any significant cardiovascular history not covered by the specific examples, requiring investigator assessment of 'significant'.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1b",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "WITHIN",
                  "anchor": "screening",
                  "value": 6,
                  "unit": "months"
                },
                "operand": {
                  "nodeId": "1b_op",
                  "nodeType": "operator",
                  "operator": "OR",
                  "operands": [
                    {
                      "nodeId": "1b1",
                      "nodeType": "atomic",
                      "atomicText": "Myocardial infarction",
                      "omopTable": "condition_occurrence",
                      "timeConstraint": "in the last 6 months",
                      "timeFrameStructured": {
                        "value": 6,
                        "unit": "months",
                        "operator": "within",
                        "relativeEvent": "screening"
                      },
                      "strategy": "Identify subjects with a recent MI.",
                      "clinicalCategory": "safety_exclusion",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "recent_thromboembolic_events"
                    },
                    {
                      "nodeId": "1b2",
                      "nodeType": "atomic",
                      "atomicText": "Thrombotic event",
                      "omopTable": "condition_occurrence",
                      "timeConstraint": "in the last 6 months",
                      "timeFrameStructured": {
                        "value": 6,
                        "unit": "months",
                        "operator": "within",
                        "relativeEvent": "screening"
                      },
                      "strategy": "Identify subjects with a recent thrombotic event.",
                      "clinicalCategory": "safety_exclusion",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "recent_thromboembolic_events"
                    },
                    {
                      "nodeId": "1b3",
                      "nodeType": "atomic",
                      "atomicText": "Thromboembolic event",
                      "omopTable": "condition_occurrence",
                      "timeConstraint": "in the last 6 months",
                      "timeFrameStructured": {
                        "value": 6,
                        "unit": "months",
                        "operator": "within",
                        "relativeEvent": "screening"
                      },
                      "strategy": "Identify subjects with a recent thromboembolic event.",
                      "clinicalCategory": "safety_exclusion",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "recent_thromboembolic_events"
                    }
                  ]
                }
              },
              {
                "nodeId": "1c",
                "nodeType": "atomic",
                "atomicText": "Significant history of renal disease",
                "omopTable": "condition_occurrence",
                "strategy": "Identify subjects with significant renal comorbidities.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1d",
                "nodeType": "atomic",
                "atomicText": "Significant history of neurologic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Identify subjects with significant neurologic comorbidities.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1e",
                "nodeType": "atomic",
                "atomicText": "Significant history of psychiatric disease",
                "omopTable": "condition_occurrence",
                "strategy": "Identify subjects with significant psychiatric comorbidities.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1f",
                "nodeType": "atomic",
                "atomicText": "Significant history of endocrinologic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Identify subjects with significant endocrinologic comorbidities.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1g",
                "nodeType": "atomic",
                "atomicText": "Significant history of metabolic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Identify subjects with significant metabolic comorbidities.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1h",
                "nodeType": "atomic",
                "atomicText": "Significant history of immunologic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Identify subjects with significant immunologic comorbidities.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1i",
                "nodeType": "atomic",
                "atomicText": "Significant history of hepatic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Identify subjects with significant hepatic comorbidities.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Condition would adversely affect study participation in the opinion of the investigator",
            "omopTable": "observation",
            "strategy": "This is a mandatory safety assessment by the investigator, confirming that any identified comorbidity poses a relevant risk to study participation.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Significant history of cardiovascular disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Myocardial infarction",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND co.condition_start_date >= @reference_date - INTERVAL '6 months'"
        },
        {
          "atomicId": "1b2",
          "atomicText": "Thrombotic event",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND co.condition_start_date >= @reference_date - INTERVAL '6 months'"
        },
        {
          "atomicId": "1b3",
          "atomicText": "Thromboembolic event",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND co.condition_start_date >= @reference_date - INTERVAL '6 months'"
        },
        {
          "atomicId": "1c",
          "atomicText": "Significant history of renal disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1d",
          "atomicText": "Significant history of neurologic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1e",
          "atomicText": "Significant history of psychiatric disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1f",
          "atomicText": "Significant history of endocrinologic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1g",
          "atomicText": "Significant history of metabolic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1h",
          "atomicText": "Significant history of immunologic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1i",
          "atomicText": "Significant history of hepatic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Condition would adversely affect study participation in the opinion of the investigator",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.2.13",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "EXC_5.2.2.13_S_and_2",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1a",
            "nodeType": "atomic",
            "atomicText": "Female",
            "omopTable": "person",
            "strategy": "Identifies subjects recorded as female sex.",
            "clinicalCategory": "demographics",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "EXC_5.2.2.13_S_or_1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Pregnant",
                "omopTable": "observation",
                "strategy": "Identifies subjects with a current status of pregnant.",
                "clinicalCategory": "demographics",
                "queryableStatus": "fully_queryable"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Breast-feeding",
                "omopTable": "observation",
                "strategy": "Identifies subjects with a current status of breast-feeding.",
                "clinicalCategory": "demographics",
                "queryableStatus": "fully_queryable"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Female",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Female\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "1b",
          "atomicText": "Pregnant",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Breast-feeding",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.1",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "atomic",
        "atomicText": "Age >= 18 years",
        "omopTable": "observation",
        "numericConstraintStructured": {
          "value": 18,
          "operator": ">=",
          "unit": "years",
          "parameter": "age"
        },
        "strategy": "Standard requirement for adult clinical trials to ensure subjects are legally able to provide informed consent.",
        "clinicalCategory": "demographics",
        "queryableStatus": "fully_queryable"
      },
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Age >= 18 years",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.2",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Has Chronic Lymphocytic Leukemia (CLL)",
            "omopTable": "condition_occurrence",
            "strategy": "Identify patients with a diagnosis code for Chronic Lymphocytic Leukemia.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Requires treatment in the opinion of the investigator",
            "omopTable": "observation",
            "strategy": "This is a subjective assessment by the clinical investigator and would typically be captured on a case report form (CRF) or through chart review. It confirms the clinical need for intervention beyond just the diagnosis.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Has Chronic Lymphocytic Leukemia (CLL)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Requires treatment in the opinion of the investigator",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.3",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Relapsed disease",
            "omopTable": "condition_occurrence",
            "strategy": "This identifies the subject's disease status, which is a primary requirement for the indication being studied.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Received 5 or fewer prior myelosuppressive/chemotherapy regimens",
            "omopTable": "drug_exposure",
            "numericConstraintStructured": {
              "value": 5,
              "operator": "<=",
              "unit": "regimens",
              "parameter": "count of prior myelosuppressive/chemotherapy regimens"
            },
            "strategy": "This limits eligibility to subjects who have not been heavily pre-treated. Counting 'regimens' typically requires manual review of treatment history to group individual drug administrations into distinct lines of therapy.",
            "clinicalCategory": "prior_therapy",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Relapsed disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Received 5 or fewer prior myelosuppressive/chemotherapy regimens",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.4",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "atomic",
        "atomicText": "Eastern Cooperative Oncology Group (ECOG) performance score <= 1",
        "omopTable": "observation",
        "numericRangeStructured": {
          "min": 0,
          "max": 1,
          "unit": null,
          "parameter": "Eastern Cooperative Oncology Group performance score"
        },
        "strategy": "Assesses the patient's functional capacity. A score of 0 or 1 indicates the patient is ambulatory and capable of at least light work, a common requirement for trial participation to ensure they can tolerate potential treatment toxicities.",
        "clinicalCategory": "performance_status",
        "queryableStatus": "fully_queryable"
      },
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Eastern Cooperative Oncology Group (ECOG) performance score <= 1",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.5",
      "type": "Inclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Receiving Selective Serotonin Reuptake Inhibitor (SSRI) anti-depressants",
          "omopTable": "drug_exposure",
          "strategy": "Identifies the cohort of patients to whom the stable dose requirement applies.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "fully_queryable",
          "clinicalConceptGroup": "ssri_therapy"
        },
        "requirement": {
          "nodeId": "1b",
          "nodeType": "temporal",
          "temporalConstraint": {
            "operator": "WITHIN",
            "anchor": "first_dose_of_study_drug",
            "value": 21,
            "unit": "days"
          },
          "operand": {
            "nodeId": "1b1",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "1b1a",
                "nodeType": "atomic",
                "atomicText": "Dose of SSRI changed",
                "omopTable": "drug_exposure",
                "strategy": "A change in dose for the SSRI medication would violate the stability requirement.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "ssri_therapy"
              }
            ]
          }
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Receiving Selective Serotonin Reuptake Inhibitor (SSRI) anti-depressants",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1a",
          "atomicText": "Dose of SSRI changed",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.6",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1a",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "1a1",
                "nodeType": "atomic",
                "atomicText": "Received growth factor support to maintain bone marrow function",
                "omopTable": "drug_exposure",
                "strategy": "Ensures bone marrow counts are not artificially inflated by support medications like G-CSF. Timeframe for this is often within 2-4 weeks of screening.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "partially_queryable"
              }
            ]
          },
          {
            "nodeId": "1b",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1b1",
                "nodeType": "atomic",
                "atomicText": "Absolute Neutrophil count (ANC) >= 1000/\u03bcL at Screening",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 1000,
                  "operator": ">=",
                  "unit": "/\u03bcL",
                  "parameter": "ANC"
                },
                "strategy": "Standard requirement for adequate neutrophil count.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "fully_queryable"
              },
              {
                "nodeId": "1b2",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "1b2a",
                    "nodeType": "atomic",
                    "atomicText": "Absolute Neutrophil count (ANC) < 1000/\u03bcL at Screening",
                    "omopTable": "measurement",
                    "numericConstraintStructured": {
                      "value": 1000,
                      "operator": "<",
                      "unit": "/\u03bcL",
                      "parameter": "ANC"
                    },
                    "strategy": "Condition for the exception: low neutrophil count.",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "1b2b",
                    "nodeType": "atomic",
                    "atomicText": "Bone marrow heavily infiltrated with underlying disease >= 80% at Screening",
                    "omopTable": "observation",
                    "numericConstraintStructured": {
                      "value": 80,
                      "operator": ">=",
                      "unit": "%",
                      "parameter": "Bone marrow infiltration"
                    },
                    "strategy": "Allows patients with low ANC due to heavy disease burden in the marrow to be eligible.",
                    "clinicalCategory": "disease_indication",
                    "queryableStatus": "requires_manual"
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "1c1",
            "nodeType": "atomic",
            "atomicText": "Platelets >= 75,000/mm3 at Screening",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 75000,
              "operator": ">=",
              "unit": "/mm3",
              "parameter": "Platelets"
            },
            "strategy": "Standard requirement for adequate platelet count.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "1c2",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "1c2a",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "WITHIN",
                  "anchor": "Screening",
                  "value": 14,
                  "unit": "days"
                },
                "operand": {
                  "nodeId": "1c2a1",
                  "nodeType": "atomic",
                  "atomicText": "Received platelet transfusion",
                  "omopTable": "procedure_occurrence",
                  "strategy": "Ensures the platelet count is not artificially supported by a recent transfusion.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "fully_queryable"
                }
              }
            ]
          },
          {
            "nodeId": "1d",
            "nodeType": "atomic",
            "atomicText": "Hemoglobin >= 9.0 g/dL at Screening",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 9.0,
              "operator": ">=",
              "unit": "g/dL",
              "parameter": "Hemoglobin"
            },
            "strategy": "Standard requirement for adequate hemoglobin level.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Serum creatinine <= 2.0 mg/dL at Screening",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 2.0,
                  "operator": "<=",
                  "unit": "mg/dL",
                  "parameter": "Serum creatinine"
                },
                "strategy": "Measures renal function via creatinine level.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "fully_queryable"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Calculated creatinine clearance >= 50 mL/min at Screening",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 50,
                  "operator": ">=",
                  "unit": "mL/min",
                  "parameter": "Creatinine clearance"
                },
                "strategy": "Measures renal function via creatinine clearance, often calculated.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "fully_queryable"
              }
            ]
          },
          {
            "nodeId": "3a",
            "nodeType": "atomic",
            "atomicText": "AST <= 3.0 x ULN at Screening",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 3.0,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "AST"
            },
            "strategy": "Measures hepatic function via AST enzyme level relative to the institution's upper limit of normal.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "3b",
            "nodeType": "atomic",
            "atomicText": "ALT <= 3.0 x ULN at Screening",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 3.0,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "ALT"
            },
            "strategy": "Measures hepatic function via ALT enzyme level relative to the institution's upper limit of normal.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "3c",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "3c1",
                "nodeType": "atomic",
                "atomicText": "Bilirubin <= 1.5 x ULN at Screening",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 1.5,
                  "operator": "<=",
                  "unit": "x ULN",
                  "parameter": "Bilirubin"
                },
                "strategy": "Measures hepatic function via Bilirubin level.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "3c2",
                "nodeType": "atomic",
                "atomicText": "Subject has diagnosis of Gilbert's Syndrome",
                "omopTable": "condition_occurrence",
                "strategy": "Allows subjects with Gilbert's Syndrome, who have benignly elevated bilirubin, to be eligible.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "fully_queryable"
              }
            ]
          },
          {
            "nodeId": "4a",
            "nodeType": "atomic",
            "atomicText": "aPTT must not exceed 1.2 x ULN at Screening",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 1.2,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "aPTT"
            },
            "strategy": "Measures coagulation status relative to institution's upper limit of normal.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "4b",
            "nodeType": "atomic",
            "atomicText": "PT must not exceed 1.2 x ULN at Screening",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 1.2,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "PT"
            },
            "strategy": "Measures coagulation status relative to institution's upper limit of normal.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          }
        ]
      },
      "sqlTemplate": "(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 1000)\nUNION\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number < 1000)\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 75000)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 9.0)\nINTERSECT\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2.0)\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 50))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0)\nINTERSECT\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.5)\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Received growth factor support to maintain bone marrow function",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Absolute Neutrophil count (ANC) >= 1000/\u03bcL at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 1000"
        },
        {
          "atomicId": "1b2a",
          "atomicText": "Absolute Neutrophil count (ANC) < 1000/\u03bcL at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number < 1000"
        },
        {
          "atomicId": "1b2b",
          "atomicText": "Bone marrow heavily infiltrated with underlying disease >= 80% at Screening",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1c1",
          "atomicText": "Platelets >= 75,000/mm3 at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 75000"
        },
        {
          "atomicId": "1c2a1",
          "atomicText": "Received platelet transfusion",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1d",
          "atomicText": "Hemoglobin >= 9.0 g/dL at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 9.0"
        },
        {
          "atomicId": "2a",
          "atomicText": "Serum creatinine <= 2.0 mg/dL at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2.0"
        },
        {
          "atomicId": "2b",
          "atomicText": "Calculated creatinine clearance >= 50 mL/min at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 50"
        },
        {
          "atomicId": "3a",
          "atomicText": "AST <= 3.0 x ULN at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0"
        },
        {
          "atomicId": "3b",
          "atomicText": "ALT <= 3.0 x ULN at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0"
        },
        {
          "atomicId": "3c1",
          "atomicText": "Bilirubin <= 1.5 x ULN at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.5"
        },
        {
          "atomicId": "3c2",
          "atomicText": "Subject has diagnosis of Gilbert's Syndrome",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "4a",
          "atomicText": "aPTT must not exceed 1.2 x ULN at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2"
        },
        {
          "atomicId": "4b",
          "atomicText": "PT must not exceed 1.2 x ULN at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 1.2"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.7",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "0",
            "nodeType": "atomic",
            "atomicText": "Female sex",
            "omopTable": "person",
            "valueConstraint": "Female",
            "strategy": "The criterion is specific to female subjects.",
            "clinicalCategory": "demographics",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "main_or",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1",
                "nodeType": "atomic",
                "atomicText": "Surgically sterile",
                "omopTable": "procedure_occurrence",
                "strategy": "Identifies subjects who are sterile due to procedures like hysterectomy or bilateral oophorectomy.",
                "clinicalCategory": "demographics",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "2",
                "nodeType": "atomic",
                "atomicText": "Postmenopausal for at least 1 year",
                "omopTable": "observation",
                "timeConstraint": "for at least 1 year",
                "numericConstraintStructured": {
                  "value": 1,
                  "operator": ">=",
                  "unit": "year",
                  "parameter": "duration of postmenopausal state"
                },
                "strategy": "Identifies subjects who are naturally non-childbearing due to menopause.",
                "clinicalCategory": "demographics",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "3",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "3a",
                    "nodeType": "operator",
                    "operator": "NOT",
                    "operands": [
                      {
                        "nodeId": "3a1",
                        "nodeType": "temporal",
                        "temporalConstraint": {
                          "operator": "WITHIN",
                          "anchor": "initial study drug administration",
                          "value": 14,
                          "unit": "days"
                        },
                        "operand": {
                          "nodeId": "3a1a",
                          "nodeType": "atomic",
                          "atomicText": "Positive serum pregnancy test at Screening",
                          "omopTable": "measurement",
                          "valueConstraint": "Positive",
                          "strategy": "A positive serum pregnancy test within 14 days of the first dose is exclusionary.",
                          "clinicalCategory": "demographics",
                          "queryableStatus": "screening_only",
                          "clinicalConceptGroup": "pregnancy_test"
                        }
                      }
                    ]
                  },
                  {
                    "nodeId": "3b",
                    "nodeType": "operator",
                    "operator": "IMPLICATION",
                    "condition": {
                      "nodeId": "3b_cond",
                      "nodeType": "atomic",
                      "atomicText": "Time since serum pregnancy test results > 7 days on Lead-in Day 1",
                      "omopTable": "observation",
                      "numericConstraintStructured": {
                        "value": 7,
                        "operator": ">",
                        "unit": "days",
                        "parameter": "time between serum pregnancy test and Lead-in Day 1"
                      },
                      "strategy": "This condition triggers the requirement for a second pregnancy test if the initial one is too old.",
                      "clinicalCategory": "demographics",
                      "queryableStatus": "screening_only"
                    },
                    "requirement": {
                      "nodeId": "3b_req",
                      "nodeType": "operator",
                      "operator": "NOT",
                      "operands": [
                        {
                          "nodeId": "3b_req1",
                          "nodeType": "atomic",
                          "atomicText": "Positive urine pregnancy test prior to dosing on Lead-in Day 1",
                          "omopTable": "measurement",
                          "valueConstraint": "Positive",
                          "timeConstraint": "prior to dosing on Lead-in Day 1",
                          "strategy": "A positive urine pregnancy test just before dosing is exclusionary.",
                          "clinicalCategory": "demographics",
                          "queryableStatus": "screening_only",
                          "clinicalConceptGroup": "pregnancy_test"
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)",
      "components": [
        {
          "atomicId": "0",
          "atomicText": "Female sex",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Female sex\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "1",
          "atomicText": "Surgically sterile",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Postmenopausal for at least 1 year",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "3a1a",
          "atomicText": "Positive serum pregnancy test at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3b_cond",
          "atomicText": "Time since serum pregnancy test results > 7 days on Lead-in Day 1",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3b_req1",
          "atomicText": "Positive urine pregnancy test prior to dosing on Lead-in Day 1",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.8",
      "type": "Inclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "c",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "c1",
              "nodeType": "operator",
              "operator": "AND",
              "operands": [
                {
                  "nodeId": "c1a",
                  "nodeType": "atomic",
                  "atomicText": "Female",
                  "omopTable": "person",
                  "strategy": "Identify female subjects.",
                  "clinicalCategory": "demographics",
                  "queryableStatus": "fully_queryable"
                },
                {
                  "nodeId": "c1b",
                  "nodeType": "operator",
                  "operator": "NOT",
                  "operands": [
                    {
                      "nodeId": "c1b_or",
                      "nodeType": "operator",
                      "operator": "OR",
                      "operands": [
                        {
                          "nodeId": "c1b1",
                          "nodeType": "atomic",
                          "atomicText": "Surgically sterile",
                          "omopTable": "procedure_occurrence",
                          "strategy": "Identify females who are surgically sterile (e.g., hysterectomy, bilateral salpingo-oophorectomy).",
                          "clinicalCategory": "demographics",
                          "queryableStatus": "partially_queryable",
                          "clinicalConceptGroup": "female_not_childbearing_potential"
                        },
                        {
                          "nodeId": "c1b2",
                          "nodeType": "atomic",
                          "atomicText": "Postmenopausal for at least 1 year",
                          "omopTable": "observation",
                          "timeConstraint": "for at least 1 year",
                          "strategy": "Identify females who are postmenopausal, defined as amenorrhea for at least 1 year.",
                          "clinicalCategory": "demographics",
                          "queryableStatus": "requires_manual",
                          "clinicalConceptGroup": "female_not_childbearing_potential"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "nodeId": "c2",
              "nodeType": "operator",
              "operator": "AND",
              "operands": [
                {
                  "nodeId": "c2a",
                  "nodeType": "atomic",
                  "atomicText": "Male",
                  "omopTable": "person",
                  "strategy": "Identify male subjects.",
                  "clinicalCategory": "demographics",
                  "queryableStatus": "fully_queryable"
                },
                {
                  "nodeId": "c2b",
                  "nodeType": "operator",
                  "operator": "NOT",
                  "operands": [
                    {
                      "nodeId": "c2b1",
                      "nodeType": "atomic",
                      "atomicText": "History of vasectomy",
                      "omopTable": "procedure_occurrence",
                      "strategy": "Identify males who have had a vasectomy.",
                      "clinicalCategory": "demographics",
                      "queryableStatus": "partially_queyrable"
                    }
                  ]
                }
              ]
            }
          ]
        },
        "requirement": {
          "nodeId": "r",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "r1",
              "nodeType": "atomic",
              "atomicText": "Practices total abstinence from sexual intercourse for a minimum of one complete menstrual cycle",
              "omopTable": "observation",
              "strategy": "Confirm subject attestation of total abstinence.",
              "clinicalCategory": "demographics",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "contraception_method"
            },
            {
              "nodeId": "r2",
              "nodeType": "atomic",
              "atomicText": "Partner is vasectomized",
              "omopTable": "observation",
              "strategy": "Confirm subject attestation of partner's vasectomy.",
              "clinicalCategory": "demographics",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "contraception_method"
            },
            {
              "nodeId": "r3",
              "nodeType": "atomic",
              "atomicText": "Use of hormonal contraceptives (oral, parenteral or transdermal) for at least 3 months prior to study drug administration",
              "omopTable": "drug_exposure",
              "timeConstraint": "for at least 3 months prior to study drug administration",
              "strategy": "Confirm use of hormonal contraceptives for a sufficient duration before the study.",
              "clinicalCategory": "demographics",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "contraception_method"
            },
            {
              "nodeId": "r4",
              "nodeType": "atomic",
              "atomicText": "Practices double-barrier method of birth control",
              "omopTable": "observation",
              "strategy": "Confirm subject attestation of using double-barrier contraception (e.g., condom with spermicide).",
              "clinicalCategory": "demographics",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "contraception_method"
            }
          ]
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "c1a",
          "atomicText": "Female",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Female\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "c1b1",
          "atomicText": "Surgically sterile",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "c1b2",
          "atomicText": "Postmenopausal for at least 1 year",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "c2a",
          "atomicText": "Male",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Male\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "c2b1",
          "atomicText": "History of vasectomy",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "r1",
          "atomicText": "Practices total abstinence from sexual intercourse for a minimum of one complete menstrual cycle",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "r2",
          "atomicText": "Partner is vasectomized",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "r3",
          "atomicText": "Use of hormonal contraceptives (oral, parenteral or transdermal) for at least 3 months prior to study drug administration",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "r4",
          "atomicText": "Practices double-barrier method of birth control",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.3.9",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "BEFORE",
          "anchor": "initiation of any screening or study-specific procedures"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Subject has voluntarily signed and dated an informed consent, approved by an Independent Ethics Committee (IEC)/Institutional Review Board (IRB)",
          "omopTable": "observation",
          "strategy": "This is a core ethical and procedural requirement. Verification is done by manually reviewing the signed and dated Informed Consent Form (ICF) in the subject's source documents to confirm the signature date precedes the date of any study-related procedure. The ICF version must match the one approved by the IEC/IRB.",
          "clinicalCategory": "diagnostic_confirmation",
          "queryableStatus": "requires_manual"
        }
      },
      "sqlTemplate": "-- Temporal: BEFORE  days of initiation of any screening or study-specific procedures\nSELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND o.observation_date < @initiation of any screening or study-specific procedures",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Subject has voluntarily signed and dated an informed consent, approved by an Independent Ethics Committee (IEC)/Institutional Review Board (IRB)",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.1",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "History of cancer-related Central Nervous System (CNS) disease",
            "omopTable": "condition_occurrence",
            "strategy": "Query for condition codes related to CNS metastases, leptomeningeal disease, or primary CNS tumors in the context of another cancer.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "cns_disease_presence"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Clinically suspicious for cancer-related Central Nervous System (CNS) disease",
            "omopTable": "observation",
            "strategy": "This requires manual review of recent clinical notes, imaging reports (e.g., MRI, CT of the brain), or documented neurological symptoms that raise suspicion for CNS involvement.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "cns_disease_presence"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "History of cancer-related Central Nervous System (CNS) disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Clinically suspicious for cancer-related Central Nervous System (CNS) disease",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.2",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose_of_study_drug",
              "value": 1,
              "unit": "year"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "History of an underlying, predisposing condition of bleeding",
              "omopTable": "condition_occurrence",
              "timeConstraint": "within 1 year prior to first dose of study drug",
              "timeFrameStructured": {
                "value": 1,
                "unit": "year",
                "operator": "within",
                "relativeEvent": "first_dose_of_study_drug"
              },
              "strategy": "Identifies patients with a known condition that increases bleeding risk, such as hemophilia or other coagulopathies, within the year before starting the study drug.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "bleeding_risk"
            }
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Currently exhibits signs of bleeding",
            "omopTable": "observation",
            "timeConstraint": "current",
            "strategy": "Identifies patients with active signs of bleeding (e.g., petechiae, hematuria, gastrointestinal bleeding) at the time of screening or baseline assessment.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "bleeding_risk"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "History of an underlying, predisposing condition of bleeding",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Currently exhibits signs of bleeding",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.3",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Undergone an allogeneic stem cell transplant",
            "omopTable": "procedure_occurrence",
            "strategy": "Identify patients with a history of allogeneic stem cell transplantation, which is a significant prior medical procedure.",
            "clinicalCategory": "prior_therapy",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "stem_cell_transplant"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Undergone an autologous stem cell transplant",
            "omopTable": "procedure_occurrence",
            "strategy": "Identify patients with a history of autologous stem cell transplantation, a significant prior medical procedure.",
            "clinicalCategory": "prior_therapy",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "stem_cell_transplant"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Undergone an allogeneic stem cell transplant",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Undergone an autologous stem cell transplant",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.4",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Active peptic ulcer disease",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies subjects with active peptic ulcers, which are a contraindication due to bleeding risk. 'Active' would be inferred from recent diagnosis codes or problem list status.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "gi_hemorrhagic_risk"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Potentially hemorrhagic esophagitis",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies subjects with inflammation of the esophagus that has a risk of bleeding. The 'potentially hemorrhagic' aspect may require specific diagnosis codes (e.g., esophagitis with bleeding) or chart review.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "partially_queryable",
            "clinicalConceptGroup": "gi_hemorrhagic_risk"
          },
          {
            "nodeId": "3",
            "nodeType": "atomic",
            "atomicText": "Potentially hemorrhagic gastritis",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies subjects with inflammation of the stomach lining that has a risk of bleeding. The 'potentially hemorrhagic' aspect may require specific diagnosis codes (e.g., gastritis with bleeding) or chart review.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "partially_queryable",
            "clinicalConceptGroup": "gi_hemorrhagic_risk"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Active peptic ulcer disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Potentially hemorrhagic esophagitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3",
          "atomicText": "Potentially hemorrhagic gastritis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.5",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Active immune thrombocytopenic purpura",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies patients with an active diagnosis of the primary disease indication.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose_of_study_drug",
              "value": 1,
              "unit": "year"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "History of being refractory to platelet transfusions",
              "omopTable": "observation",
              "strategy": "Identifies patients with a clinical history of poor response to platelet transfusions, which is a key indicator of disease severity or type. This often requires manual chart review to confirm.",
              "clinicalCategory": "disease_indication",
              "queryableStatus": "requires_manual"
            }
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Active immune thrombocytopenic purpura",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "History of being refractory to platelet transfusions",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.6",
      "type": "Exclusion",
      "logicOperator": "EXCEPT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Currently receiving or requires anticoagulation therapy",
                "omopTable": "drug_exposure",
                "timeConstraint": "currently",
                "strategy": "Identifies patients on systemic anticoagulation therapy which poses a potential bleeding risk.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "anticoagulation_or_antiplatelet_therapy"
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Receiving drugs or herbal supplements that affect platelet function",
                "omopTable": "drug_exposure",
                "timeConstraint": "currently",
                "strategy": "Identifies patients on antiplatelet agents (drugs or supplements) which pose a potential bleeding risk.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "anticoagulation_or_antiplatelet_therapy"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Receiving low-dose anticoagulation for central intravenous catheter patency",
            "omopTable": "drug_exposure",
            "valueConstraint": "low-dose AND for catheter patency",
            "timeConstraint": "currently",
            "strategy": "Defines a specific, allowed use of anticoagulants (e.g., heparin flushes) that does not pose a systemic risk and is therefore not an exclusion.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nEXCEPT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Currently receiving or requires anticoagulation therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Receiving drugs or herbal supplements that affect platelet function",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Receiving low-dose anticoagulation for central intravenous catheter patency",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.7",
      "type": "Exclusion",
      "logicOperator": "EXCEPT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose",
              "value": 7,
              "unit": "days"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Received steroid therapy for anti-neoplastic intent",
              "omopTable": "drug_exposure",
              "timeFrameStructured": {
                "value": 7,
                "unit": "days",
                "operator": "within",
                "relativeEvent": "first_dose"
              },
              "strategy": "Identify patients receiving steroids for cancer treatment, often high-dose systemic steroids like dexamethasone, within the specified timeframe. Intent is key.",
              "clinicalCategory": "prior_therapy",
              "queryableStatus": "partially_queryable"
            }
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Received inhaled steroids for asthma",
                "omopTable": "drug_exposure",
                "strategy": "Identify use of inhaled corticosteroids (e.g., fluticasone, budesonide) specifically for an asthma indication. This requires linking the drug to the diagnosis.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Received topical steroids",
                "omopTable": "drug_exposure",
                "strategy": "Identify use of corticosteroids administered via a topical route (e.g., creams, ointments).",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "fully_queryable"
              },
              {
                "nodeId": "2c",
                "nodeType": "atomic",
                "atomicText": "Received replacement/stress corticosteroids",
                "omopTable": "drug_exposure",
                "strategy": "Identify use of corticosteroids for physiological replacement (e.g., Addison's disease) or for stress dosing, which is distinct from anti-neoplastic dosing. This often requires chart review for intent.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "requires_manual"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCEPT operator requires exactly 2 operands",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Received steroid therapy for anti-neoplastic intent",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '7 days'"
        },
        {
          "atomicId": "2a",
          "atomicText": "Received inhaled steroids for asthma",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Received topical steroids",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c",
          "atomicText": "Received replacement/stress corticosteroids",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.8",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "first_dose",
          "value": 7,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Received aspirin",
          "omopTable": "drug_exposure",
          "timeConstraint": "within 7 days prior to the first dose of study drug",
          "timeFrameStructured": {
            "value": 7,
            "unit": "days",
            "operator": "within",
            "relativeEvent": "first_dose"
          },
          "strategy": "Query for drug exposure records for aspirin within the 7-day window preceding the first dose of the study drug.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "fully_queryable"
        }
      },
      "sqlTemplate": "-- Temporal: WITHIN 7 days of first_dose\nSELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date BETWEEN @first_dose - INTERVAL '7 days' AND @first_dose + INTERVAL '7 days'",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Received aspirin",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '7 days'"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.9",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "first_dose",
              "value": 14,
              "unit": "days"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "operator",
              "operator": "OR",
              "operands": [
                {
                  "nodeId": "1a1",
                  "nodeType": "atomic",
                  "atomicText": "Received chemotherapy",
                  "omopTable": "drug_exposure",
                  "strategy": "Check for exposure to chemotherapy drugs within the defined time frame.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "anti_cancer_therapy"
                },
                {
                  "nodeId": "1a2",
                  "nodeType": "atomic",
                  "atomicText": "Received immunotherapy",
                  "omopTable": "drug_exposure",
                  "strategy": "Check for exposure to immunotherapy agents within the defined time frame.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "anti_cancer_therapy"
                },
                {
                  "nodeId": "1a3",
                  "nodeType": "atomic",
                  "atomicText": "Received radiotherapy",
                  "omopTable": "procedure_occurrence",
                  "strategy": "Check for radiotherapy procedures within the defined time frame.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "anti_cancer_therapy"
                },
                {
                  "nodeId": "1a4",
                  "nodeType": "operator",
                  "operator": "EXCEPT",
                  "operands": [
                    {
                      "nodeId": "1a4a",
                      "nodeType": "atomic",
                      "atomicText": "Received hormonal anti-cancer therapy",
                      "omopTable": "drug_exposure",
                      "strategy": "Identify all hormonal therapies used for cancer treatment.",
                      "clinicalCategory": "prior_therapy",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "anti_cancer_therapy"
                    },
                    {
                      "nodeId": "1a4b",
                      "nodeType": "operator",
                      "operator": "OR",
                      "operands": [
                        {
                          "nodeId": "1a4b1",
                          "nodeType": "atomic",
                          "atomicText": "Received hormones for thyroid conditions",
                          "omopTable": "drug_exposure",
                          "strategy": "Identify hormone therapies for thyroid conditions, which are explicitly allowed.",
                          "clinicalCategory": "prior_therapy",
                          "queryableStatus": "fully_queryable"
                        },
                        {
                          "nodeId": "1a4b2",
                          "nodeType": "atomic",
                          "atomicText": "Received estrogen replacement therapy (ERT)",
                          "omopTable": "drug_exposure",
                          "strategy": "Identify estrogen replacement therapies, which are explicitly allowed.",
                          "clinicalCategory": "prior_therapy",
                          "queryableStatus": "fully_queryable"
                        }
                      ]
                    }
                  ]
                },
                {
                  "nodeId": "1a5",
                  "nodeType": "atomic",
                  "atomicText": "Received any investigational therapy",
                  "omopTable": "drug_exposure",
                  "strategy": "Check for exposure to drugs known to be investigational or part of other clinical trials. This may require a specific value set.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "partially_queryable"
                }
              ]
            }
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Recovered to less than grade 2 from clinically significant adverse effects of previous therapy",
                "omopTable": "observation",
                "numericConstraintStructured": {
                  "value": 2,
                  "operator": "<",
                  "unit": "grade",
                  "parameter": "CTCAE grade of residual toxicity from prior therapy"
                },
                "strategy": "Check for unresolved, clinically significant toxicities from any prior therapy. This requires manual review to confirm the grade, significance, and attribution of the toxicity.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Received chemotherapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Received immunotherapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a3",
          "atomicText": "Received radiotherapy",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a4a",
          "atomicText": "Received hormonal anti-cancer therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a4b1",
          "atomicText": "Received hormones for thyroid conditions",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a4b2",
          "atomicText": "Received estrogen replacement therapy (ERT)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a5",
          "atomicText": "Received any investigational therapy",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Recovered to less than grade 2 from clinically significant adverse effects of previous therapy",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.10",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "first_dose",
          "value": 30,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Received a biologic agent",
          "omopTable": "drug_exposure",
          "strategy": "This is a standard washout period requirement for prior biologic therapies to prevent interference with the study drug's efficacy or safety assessment.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "fully_queryable"
        }
      },
      "sqlTemplate": "-- Temporal: WITHIN 30 days of first_dose\nSELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date BETWEEN @first_dose - INTERVAL '30 days' AND @first_dose + INTERVAL '30 days'",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Received a biologic agent",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.11",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "first_dose",
          "value": 3,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a1",
              "nodeType": "atomic",
              "atomicText": "Consumed grapefruit",
              "omopTable": "observation",
              "timeConstraint": "within 3 days prior to the first dose of study drug",
              "strategy": "Grapefruit and its products can interfere with the metabolism of certain drugs (e.g., via CYP3A4 inhibition). This is a common safety exclusion to ensure predictable drug exposure.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "grapefruit_consumption"
            },
            {
              "nodeId": "1a2",
              "nodeType": "atomic",
              "atomicText": "Consumed grapefruit products",
              "omopTable": "observation",
              "timeConstraint": "within 3 days prior to the first dose of study drug",
              "strategy": "Grapefruit and its products can interfere with the metabolism of certain drugs (e.g., via CYP3A4 inhibition). This is a common safety exclusion to ensure predictable drug exposure.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "grapefruit_consumption"
            }
          ]
        }
      },
      "sqlTemplate": "-- Temporal constraint: WITHIN 3 days of first_dose\n-- Note: For complex nested operands, temporal filter applied at outer level\nWITH temporal_base AS (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)\nSELECT DISTINCT person_id\nFROM temporal_base\nWHERE EXISTS (\n    -- Verify temporal constraint is met\n    -- This requires joining back to source table with date filtering\n    SELECT 1 WHERE @first_dose BETWEEN @first_dose - INTERVAL '3 days' AND @first_dose + INTERVAL '3 days'\n)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Consumed grapefruit",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Consumed grapefruit products",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.12",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "WITHIN",
                  "anchor": "study_participation",
                  "value": 6,
                  "unit": "months"
                },
                "operand": {
                  "nodeId": "1a_op",
                  "nodeType": "operator",
                  "operator": "OR",
                  "operands": [
                    {
                      "nodeId": "1a_op_1",
                      "nodeType": "atomic",
                      "atomicText": "Myocardial infarction",
                      "omopTable": "condition_occurrence",
                      "strategy": "Identifies a specific recent cardiovascular event.",
                      "clinicalCategory": "safety_exclusion",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "significant_cardiovascular_disease"
                    },
                    {
                      "nodeId": "1a_op_2",
                      "nodeType": "atomic",
                      "atomicText": "Thrombotic event",
                      "omopTable": "condition_occurrence",
                      "strategy": "Identifies a specific recent cardiovascular event.",
                      "clinicalCategory": "safety_exclusion",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "significant_cardiovascular_disease"
                    },
                    {
                      "nodeId": "1a_op_3",
                      "nodeType": "atomic",
                      "atomicText": "Thromboembolic event",
                      "omopTable": "condition_occurrence",
                      "strategy": "Identifies a specific recent cardiovascular event.",
                      "clinicalCategory": "safety_exclusion",
                      "queryableStatus": "fully_queryable",
                      "clinicalConceptGroup": "significant_cardiovascular_disease"
                    }
                  ]
                }
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Significant history of cardiovascular disease",
                "omopTable": "condition_occurrence",
                "strategy": "Captures general history of cardiovascular disease not covered by the specific recent events. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "significant_cardiovascular_disease"
              },
              {
                "nodeId": "1c",
                "nodeType": "atomic",
                "atomicText": "Significant history of renal disease",
                "omopTable": "condition_occurrence",
                "strategy": "Checks for history of clinically significant kidney disease. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "1d",
                "nodeType": "atomic",
                "atomicText": "Significant history of neurologic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Checks for history of clinically significant neurological conditions. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "1e",
                "nodeType": "atomic",
                "atomicText": "Significant history of psychiatric disease",
                "omopTable": "condition_occurrence",
                "strategy": "Checks for history of clinically significant psychiatric conditions. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "1f",
                "nodeType": "atomic",
                "atomicText": "Significant history of endocrinologic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Checks for history of clinically significant endocrine disorders. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "1g",
                "nodeType": "atomic",
                "atomicText": "Significant history of metabolic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Checks for history of clinically significant metabolic disorders. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "1h",
                "nodeType": "atomic",
                "atomicText": "Significant history of immunologic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Checks for history of clinically significant immunological conditions. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "1i",
                "nodeType": "atomic",
                "atomicText": "Significant history of hepatic disease",
                "omopTable": "condition_occurrence",
                "strategy": "Checks for history of clinically significant liver disease. The term 'significant' requires clinical judgment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Disease history would adversely affect participation in the study in the opinion of the investigator",
            "omopTable": "observation",
            "strategy": "This is a subjective assessment by the investigator that a subject's medical history makes them unsuitable for the study. It applies to any of the identified conditions.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a_op_1",
          "atomicText": "Myocardial infarction",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a_op_2",
          "atomicText": "Thrombotic event",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a_op_3",
          "atomicText": "Thromboembolic event",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Significant history of cardiovascular disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1c",
          "atomicText": "Significant history of renal disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1d",
          "atomicText": "Significant history of neurologic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1e",
          "atomicText": "Significant history of psychiatric disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1f",
          "atomicText": "Significant history of endocrinologic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1g",
          "atomicText": "Significant history of metabolic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1h",
          "atomicText": "Significant history of immunologic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1i",
          "atomicText": "Significant history of hepatic disease",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Disease history would adversely affect participation in the study in the opinion of the investigator",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.13",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Subject is female",
            "omopTable": "person",
            "strategy": "Identifies the gender of the subject as female.",
            "clinicalCategory": "demographics",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Subject is pregnant",
                "omopTable": "observation",
                "strategy": "Identifies if the subject has a current pregnancy status, typically found through observation codes or specific condition codes.",
                "clinicalCategory": "demographics",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "pregnancy_lactation_status"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Subject is breast-feeding",
                "omopTable": "observation",
                "strategy": "Identifies if the subject is currently breast-feeding (lactating), typically found through observation codes.",
                "clinicalCategory": "demographics",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "pregnancy_lactation_status"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Subject is female",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Subject is female\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "2a",
          "atomicText": "Subject is pregnant",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Subject is breast-feeding",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.14",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "atomic",
        "atomicText": "Tested positive for HIV",
        "omopTable": "measurement",
        "valueConstraint": "Positive",
        "strategy": "The criterion excludes subjects with HIV due to potential drug-drug interactions between anti-retroviral medications and ABT-263, and the risk of lymphopenia increasing susceptibility to opportunistic infections.",
        "clinicalCategory": "safety_exclusion",
        "queryableStatus": "fully_queryable"
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Tested positive for HIV",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.15",
      "type": "Exclusion",
      "logicOperator": "EXCEPT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "study_entry",
              "value": 3,
              "unit": "years"
            },
            "operand": {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "History of other active malignancy",
              "omopTable": "condition_occurrence",
              "timeConstraint": "within the past 3 years prior to study entry",
              "timeFrameStructured": {
                "value": 3,
                "unit": "years",
                "operator": "within",
                "relativeEvent": "study_entry"
              },
              "strategy": "Identifies subjects with a recent history of other active cancers, which is the primary exclusionary condition.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable"
            }
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Adequately treated in situ carcinoma of the cervix uteri",
                "omopTable": "condition_occurrence",
                "strategy": "Exception for a non-invasive, treated cervical cancer.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable"
              },
              {
                "nodeId": "2b1",
                "nodeType": "atomic",
                "atomicText": "Basal cell carcinoma of the skin",
                "omopTable": "condition_occurrence",
                "strategy": "Exception for a common, low-risk non-melanoma skin cancer.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "non_melanoma_skin_cancer"
              },
              {
                "nodeId": "2b2",
                "nodeType": "atomic",
                "atomicText": "Squamous cell carcinoma of the skin",
                "omopTable": "condition_occurrence",
                "strategy": "Exception for a common, low-risk non-melanoma skin cancer.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "non_melanoma_skin_cancer"
              },
              {
                "nodeId": "2c",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "2c1",
                    "nodeType": "atomic",
                    "atomicText": "Previous malignancy confined",
                    "omopTable": "observation",
                    "strategy": "Part of a composite exception for prior cancers that are considered cured. 'Confined' refers to staging information.",
                    "clinicalCategory": "safety_exclusion",
                    "queryableStatus": "requires_manual"
                  },
                  {
                    "nodeId": "2c2",
                    "nodeType": "atomic",
                    "atomicText": "Previous malignancy surgically resected",
                    "omopTable": "procedure_occurrence",
                    "strategy": "Part of a composite exception for prior cancers that are considered cured.",
                    "clinicalCategory": "safety_exclusion",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "2c3",
                    "nodeType": "atomic",
                    "atomicText": "Surgical resection was with curative intent",
                    "omopTable": "observation",
                    "strategy": "Part of a composite exception for prior cancers that are considered cured. 'Curative intent' is a clinical judgment.",
                    "clinicalCategory": "safety_exclusion",
                    "queryableStatus": "requires_manual"
                  }
                ]
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCEPT operator requires exactly 2 operands",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "History of other active malignancy",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND co.condition_start_date >= @reference_date - INTERVAL '3 years'"
        },
        {
          "atomicId": "2a",
          "atomicText": "Adequately treated in situ carcinoma of the cervix uteri",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b1",
          "atomicText": "Basal cell carcinoma of the skin",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b2",
          "atomicText": "Squamous cell carcinoma of the skin",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c1",
          "atomicText": "Previous malignancy confined",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c2",
          "atomicText": "Previous malignancy surgically resected",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c3",
          "atomicText": "Surgical resection was with curative intent",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.16",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Uncontrolled systemic infection (viral, bacterial, or fungal)",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies subjects with active, unmanaged systemic infections which pose a safety risk.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "partially_queryable",
            "clinicalConceptGroup": "uncontrolled_conditions"
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "study drug administration",
              "value": 1,
              "unit": "weeks"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "operator",
              "operator": "AND",
              "operands": [
                {
                  "nodeId": "2a1",
                  "nodeType": "atomic",
                  "atomicText": "Diagnosis of fever",
                  "omopTable": "condition_occurrence",
                  "timeConstraint": "within one week prior to study drug administration",
                  "timeFrameStructured": {
                    "value": 1,
                    "unit": "weeks",
                    "operator": "within",
                    "relativeEvent": "study drug administration"
                  },
                  "strategy": "Identifies the fever component of febrile neutropenia, a serious condition.",
                  "clinicalCategory": "safety_exclusion",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "febrile_neutropenia"
                },
                {
                  "nodeId": "2a2",
                  "nodeType": "atomic",
                  "atomicText": "Diagnosis of neutropenia",
                  "omopTable": "condition_occurrence",
                  "timeConstraint": "within one week prior to study drug administration",
                  "timeFrameStructured": {
                    "value": 1,
                    "unit": "weeks",
                    "operator": "within",
                    "relativeEvent": "study drug administration"
                  },
                  "strategy": "Identifies the neutropenia component of febrile neutropenia, indicating a compromised immune state.",
                  "clinicalCategory": "safety_exclusion",
                  "queryableStatus": "fully_queryable",
                  "clinicalConceptGroup": "febrile_neutropenia"
                }
              ]
            }
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Uncontrolled systemic infection (viral, bacterial, or fungal)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a1",
          "atomicText": "Diagnosis of fever",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a2",
          "atomicText": "Diagnosis of neutropenia",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_5.2.4.17",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "first_dose",
          "value": 7,
          "unit": "days"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Received known CYP3A inhibitors",
          "omopTable": "drug_exposure",
          "valueConstraint": "e.g., ketoconazole",
          "timeConstraint": "within 7 days prior to first dose of study drug",
          "strategy": "This is a safety exclusion to prevent potential drug-drug interactions. CYP3A inhibitors can increase the concentration and toxicity of study drugs that are metabolized by the CYP3A enzyme.",
          "clinicalCategory": "safety_exclusion",
          "queryableStatus": "fully_queryable",
          "clinicalConceptGroup": "cyp3a_inhibitors"
        }
      },
      "sqlTemplate": "-- Temporal: WITHIN 7 days of first_dose\nSELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date BETWEEN @first_dose - INTERVAL '7 days' AND @first_dose + INTERVAL '7 days'",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Received known CYP3A inhibitors",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.5.1",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "operator",
                "operator": "EXCEPT",
                "operands": [
                  {
                    "nodeId": "1a1",
                    "nodeType": "atomic",
                    "atomicText": "Meets all Inclusion and Exclusion criteria from Phase 1",
                    "omopTable": "observation",
                    "strategy": "This is a high-level reference to the complete set of I/E criteria from the Phase 1 study. In a full implementation, this node would be replaced by the entire expression tree for the Phase 1 criteria.",
                    "clinicalCategory": "diagnostic_confirmation",
                    "queryableStatus": "requires_manual"
                  },
                  {
                    "nodeId": "1a2",
                    "nodeType": "atomic",
                    "atomicText": "Laboratory parameters from Phase 1",
                    "omopTable": "measurement",
                    "strategy": "This represents the subset of Phase 1 criteria that are based on laboratory values. These are explicitly excluded from the re-evaluation for the Extension Study.",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "requires_manual"
                  }
                ]
              },
              {
                "nodeId": "1b",
                "nodeType": "operator",
                "operator": "EXCEPT",
                "operands": [
                  {
                    "nodeId": "1b1",
                    "nodeType": "atomic",
                    "atomicText": "Meets all Inclusion and Exclusion criteria from Phase 2a",
                    "omopTable": "observation",
                    "strategy": "This is a high-level reference to the complete set of I/E criteria from the Phase 2a study. In a full implementation, this node would be replaced by the entire expression tree for the Phase 2a criteria.",
                    "clinicalCategory": "diagnostic_confirmation",
                    "queryableStatus": "requires_manual"
                  },
                  {
                    "nodeId": "1b2",
                    "nodeType": "atomic",
                    "atomicText": "Laboratory parameters from Phase 2a",
                    "omopTable": "measurement",
                    "strategy": "This represents the subset of Phase 2a criteria that are based on laboratory values. These are explicitly excluded from the re-evaluation for the Extension Study.",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "requires_manual"
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Stable lab values per applicable laboratory reference ranges",
            "omopTable": "measurement",
            "strategy": "This condition requires a clinical assessment to determine if a subject's laboratory values are 'stable', meaning they are not changing in a clinically significant way.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "(((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nEXCEPT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nUNION\n((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nEXCEPT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */))",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Meets all Inclusion and Exclusion criteria from Phase 1",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Laboratory parameters from Phase 1",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Meets all Inclusion and Exclusion criteria from Phase 2a",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b2",
          "atomicText": "Laboratory parameters from Phase 2a",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Stable lab values per applicable laboratory reference ranges",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.5.2",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1a",
            "nodeType": "atomic",
            "atomicText": "Platelet count >= 25,000/mm3 (untransfused)",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 25000,
              "operator": ">=",
              "unit": "/mm3",
              "parameter": "Platelets"
            },
            "strategy": "The '(untransfused)' qualifier requires checking that the lab result was not influenced by a recent platelet transfusion, making it partially queryable.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "1b",
            "nodeType": "operator",
            "operator": "IMPLICATION",
            "condition": {
              "nodeId": "1b_cond",
              "nodeType": "atomic",
              "atomicText": "Platelet count <= 50,000/mm3",
              "omopTable": "measurement",
              "numericConstraintStructured": {
                "value": 50000,
                "operator": "<=",
                "unit": "/mm3",
                "parameter": "Platelets"
              },
              "strategy": "This is the condition that triggers the requirement for stability and increased monitoring.",
              "clinicalCategory": "organ_function",
              "queryableStatus": "fully_queryable"
            },
            "requirement": {
              "nodeId": "1b_req",
              "nodeType": "operator",
              "operator": "AND",
              "operands": [
                {
                  "nodeId": "1b_req1",
                  "nodeType": "atomic",
                  "atomicText": "Platelet count is stable",
                  "omopTable": "observation",
                  "strategy": "Assessment of stability requires clinical judgment and review of multiple data points over time.",
                  "clinicalCategory": "organ_function",
                  "queryableStatus": "requires_manual"
                },
                {
                  "nodeId": "1b_req2",
                  "nodeType": "atomic",
                  "atomicText": "Platelet count is monitored at an increased frequency at the discretion of the investigator",
                  "omopTable": "observation",
                  "strategy": "This requirement is procedural and depends on investigator discretion, requiring manual confirmation.",
                  "clinicalCategory": "organ_function",
                  "queryableStatus": "requires_manual"
                }
              ]
            }
          },
          {
            "nodeId": "2a",
            "nodeType": "atomic",
            "atomicText": "Absolute Neutrophil count (ANC) >= 500/uL",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 500,
              "operator": ">=",
              "unit": "/\u03bcL",
              "parameter": "Absolute Neutrophil Count"
            },
            "strategy": "Standard lab value requirement for neutrophil count.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2b",
            "nodeType": "operator",
            "operator": "IMPLICATION",
            "condition": {
              "nodeId": "2b_cond",
              "nodeType": "atomic",
              "atomicText": "Absolute Neutrophil count (ANC) is between 500/uL and 1000/uL",
              "omopTable": "measurement",
              "numericRangeStructured": {
                "min": 500,
                "max": 999.99,
                "unit": "/\u03bcL",
                "parameter": "Absolute Neutrophil Count"
              },
              "strategy": "This is the condition (ANC >= 500 and < 1000) that triggers the increased monitoring requirement.",
              "clinicalCategory": "organ_function",
              "queryableStatus": "fully_queryable"
            },
            "requirement": {
              "nodeId": "2b_req",
              "nodeType": "atomic",
              "atomicText": "ANC is monitored at an increased frequency at the discretion of the investigator",
              "omopTable": "observation",
              "strategy": "This requirement is procedural and depends on investigator discretion, requiring manual confirmation.",
              "clinicalCategory": "organ_function",
              "queryableStatus": "requires_manual"
            }
          },
          {
            "nodeId": "3",
            "nodeType": "atomic",
            "atomicText": "Hemoglobin >= 8.0 g/dL",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 8.0,
              "operator": ">=",
              "unit": "g/dL",
              "parameter": "Hemoglobin"
            },
            "strategy": "Standard lab value requirement for hemoglobin.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "4a",
            "nodeType": "atomic",
            "atomicText": "aPTT not to exceed 1.2 x ULN",
            "omopTable": "measurement",
            "valueConstraint": "value <= 1.2 * Upper Limit of Normal",
            "strategy": "Coagulation parameter relative to the institution's upper limit of normal (ULN), which varies by lab.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "4b",
            "nodeType": "atomic",
            "atomicText": "PT not to exceed 1.2 x ULN",
            "omopTable": "measurement",
            "valueConstraint": "value <= 1.2 * Upper Limit of Normal",
            "strategy": "Coagulation parameter relative to the institution's upper limit of normal (ULN), which varies by lab.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 25000)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 500)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 8.0)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */))",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Platelet count >= 25,000/mm3 (untransfused)",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 25000"
        },
        {
          "atomicId": "1b_cond",
          "atomicText": "Platelet count <= 50,000/mm3",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 50000"
        },
        {
          "atomicId": "1b_req1",
          "atomicText": "Platelet count is stable",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b_req2",
          "atomicText": "Platelet count is monitored at an increased frequency at the discretion of the investigator",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Absolute Neutrophil count (ANC) >= 500/uL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 500"
        },
        {
          "atomicId": "2b_cond",
          "atomicText": "Absolute Neutrophil count (ANC) is between 500/uL and 1000/uL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number BETWEEN 500 AND 999.99"
        },
        {
          "atomicId": "2b_req",
          "atomicText": "ANC is monitored at an increased frequency at the discretion of the investigator",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3",
          "atomicText": "Hemoglobin >= 8.0 g/dL",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number >= 8.0"
        },
        {
          "atomicId": "4a",
          "atomicText": "aPTT not to exceed 1.2 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "4b",
          "atomicText": "PT not to exceed 1.2 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_5.2.5.3",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Chemistry values do not exceed Grade 2",
            "omopTable": "measurement",
            "valueConstraint": "values must be <= Grade 2 per CTCAE",
            "strategy": "General safety requirement for all chemistry labs, unless a more specific limit is provided.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Serum creatinine <= 3.0 x ULN",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 3.0,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "Serum creatinine"
            },
            "strategy": "Ensures adequate renal function.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "3a",
            "nodeType": "atomic",
            "atomicText": "AST <= 5.0 x ULN",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 5.0,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "AST"
            },
            "strategy": "Ensures adequate liver function.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "liver_function_tests"
          },
          {
            "nodeId": "3b",
            "nodeType": "atomic",
            "atomicText": "ALT <= 5.0 x ULN",
            "omopTable": "measurement",
            "numericConstraintStructured": {
              "value": 5.0,
              "operator": "<=",
              "unit": "x ULN",
              "parameter": "ALT"
            },
            "strategy": "Ensures adequate liver function.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "liver_function_tests"
          },
          {
            "nodeId": "4",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "4a",
                "nodeType": "atomic",
                "atomicText": "Bilirubin <= 3.0 x ULN",
                "omopTable": "measurement",
                "numericConstraintStructured": {
                  "value": 3.0,
                  "operator": "<=",
                  "unit": "x ULN",
                  "parameter": "Bilirubin"
                },
                "strategy": "Primary requirement for bilirubin level to ensure adequate liver function.",
                "clinicalCategory": "organ_function",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "bilirubin_level"
              },
              {
                "nodeId": "4b",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "4b1",
                    "nodeType": "atomic",
                    "atomicText": "Subject has Gilbert's Syndrome",
                    "omopTable": "condition_occurrence",
                    "strategy": "Identifies subjects eligible for the bilirubin exception.",
                    "clinicalCategory": "disease_indication",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "4b2",
                    "nodeType": "atomic",
                    "atomicText": "Bilirubin > 3.0 x ULN approved by investigator and medical monitor",
                    "omopTable": "observation",
                    "strategy": "Requires manual override for subjects with Gilbert's Syndrome and elevated bilirubin.",
                    "clinicalCategory": "organ_function",
                    "queryableStatus": "requires_manual",
                    "clinicalConceptGroup": "bilirubin_level"
                  }
                ]
              }
            ]
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 5.0)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 5.0)\nINTERSECT\n((SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0)\nUNION\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))))",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Chemistry values do not exceed Grade 2",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Serum creatinine <= 3.0 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0"
        },
        {
          "atomicId": "3a",
          "atomicText": "AST <= 5.0 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 5.0"
        },
        {
          "atomicId": "3b",
          "atomicText": "ALT <= 5.0 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 5.0"
        },
        {
          "atomicId": "4a",
          "atomicText": "Bilirubin <= 3.0 x ULN",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 3.0"
        },
        {
          "atomicId": "4b1",
          "atomicText": "Subject has Gilbert's Syndrome",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "4b2",
          "atomicText": "Bilirubin > 3.0 x ULN approved by investigator and medical monitor",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    }
  ],
  "statistics": {
    "totalCriteria": 50,
    "conceptsCovered": 0
  }
}