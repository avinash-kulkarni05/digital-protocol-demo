{
  "templates": [
    {
      "criterionId": "INC_I1",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "atomic",
        "atomicText": "Age >= 18 years",
        "omopTable": "observation",
        "numericConstraintStructured": {
          "value": 18,
          "operator": ">=",
          "unit": "years",
          "parameter": "age"
        },
        "strategy": "This is a standard demographic requirement to ensure the participant is legally an adult for consent and safety reasons.",
        "clinicalCategory": "demographics",
        "queryableStatus": "fully_queryable"
      },
      "sqlTemplate": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Age >= 18 years",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE EXTRACT(YEAR FROM AGE(@reference_date, p.birth_datetime)) >= 18"
        }
      ]
    },
    {
      "criterionId": "INC_I2",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "BEFORE",
          "anchor": "any study procedures"
        },
        "operand": {
          "nodeId": "1",
          "nodeType": "operator",
          "operator": "AND",
          "operands": [
            {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Written informed consent obtained in accordance with relevant country and local privacy requirements",
              "omopTable": "observation",
              "strategy": "Confirms patient has formally agreed to participate in the study according to regulatory standards. This is a procedural check.",
              "clinicalCategory": "diagnostic_confirmation",
              "queryableStatus": "screening_only"
            },
            {
              "nodeId": "1b",
              "nodeType": "atomic",
              "atomicText": "Written documentation obtained in accordance with relevant country and local privacy requirements",
              "omopTable": "observation",
              "strategy": "Confirms all necessary privacy and study-related documentation is complete as per local regulations. This is a procedural check.",
              "clinicalCategory": "diagnostic_confirmation",
              "queryableStatus": "screening_only"
            }
          ]
        }
      },
      "sqlTemplate": "-- Temporal constraint: BEFORE  days of any study procedures\n-- Note: For complex nested operands, temporal filter applied at outer level\nWITH temporal_base AS (\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)\nINTERSECT\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)\n)\nSELECT DISTINCT person_id\nFROM temporal_base\nWHERE EXISTS (\n    -- Verify temporal constraint is met\n    -- This requires joining back to source table with date filtering\n    SELECT 1 WHERE @any study procedures < @any study procedures\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Written informed consent obtained in accordance with relevant country and local privacy requirements",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "1b",
          "atomicText": "Written documentation obtained in accordance with relevant country and local privacy requirements",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "INC_I3",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "current_date",
          "value": 1,
          "unit": "year"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "atomic",
          "atomicText": "Used artificial tears for dry eyes",
          "omopTable": "drug_exposure",
          "timeConstraint": "within the past year",
          "timeFrameStructured": {
            "value": 1,
            "unit": "year",
            "operator": "within",
            "relativeEvent": "current_date"
          },
          "strategy": "Query for drug exposure records for 'artificial tears' and link them to a 'dry eyes' condition to confirm the indication.",
          "clinicalCategory": "prior_therapy",
          "queryableStatus": "fully_queryable"
        }
      },
      "sqlTemplate": "-- Temporal: WITHIN 1 year of current_date\nSELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date BETWEEN @current_date - INTERVAL '1 year' AND @current_date + INTERVAL '1 year'",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Used artificial tears for dry eyes",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_I4",
      "type": "Inclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "1",
          "nodeType": "atomic",
          "atomicText": "Female of childbearing potential",
          "omopTable": "observation",
          "strategy": "Identifies the specific sub-population to which the pregnancy and contraception requirements apply.",
          "clinicalCategory": "demographics",
          "queryableStatus": "requires_manual"
        },
        "requirement": {
          "nodeId": "2",
          "nodeType": "operator",
          "operator": "AND",
          "operands": [
            {
              "nodeId": "2a",
              "nodeType": "operator",
              "operator": "NOT",
              "operands": [
                {
                  "nodeId": "2a1",
                  "nodeType": "atomic",
                  "atomicText": "Positive pregnancy test result at Screening",
                  "omopTable": "measurement",
                  "timeConstraint": "at Screening",
                  "timeFrameStructured": {
                    "value": 0,
                    "unit": "",
                    "operator": "during",
                    "relativeEvent": "Screening"
                  },
                  "strategy": "A negative test result is required. This is modeled as the absence of a positive test result.",
                  "clinicalCategory": "safety_exclusion",
                  "queryableStatus": "fully_queryable"
                }
              ]
            },
            {
              "nodeId": "2b",
              "nodeType": "atomic",
              "atomicText": "Currently using a reliable form of birth control",
              "omopTable": "observation",
              "strategy": "Confirms the patient is using an acceptable contraceptive method at the time of screening.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "requires_manual"
            },
            {
              "nodeId": "2c",
              "nodeType": "atomic",
              "atomicText": "Agreed to use a reliable form of birth control for the duration of the study",
              "omopTable": "observation",
              "strategy": "Documents the patient's commitment to maintain contraception throughout the study, typically captured in the informed consent form.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "screening_only"
            }
          ]
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Female of childbearing potential",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8532  -- FEMALE"
        },
        {
          "atomicId": "2a1",
          "atomicText": "Positive pregnancy test result at Screening",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Currently using a reliable form of birth control",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c",
          "atomicText": "Agreed to use a reliable form of birth control for the duration of the study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_I5",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "OSDI score of \u2265 18 and \u2264 65 at Screening Visit",
            "omopTable": "measurement",
            "timeConstraint": "at Screening Visit",
            "numericRangeStructured": {
              "min": 18,
              "max": 65,
              "unit": "score",
              "parameter": "OSDI score"
            },
            "strategy": "Measures the Ocular Surface Disease Index (OSDI) score at the Screening visit to confirm patient has moderate to severe disease symptoms.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "OSDI score of \u2265 18 and \u2264 65 at Baseline Visit",
            "omopTable": "measurement",
            "timeConstraint": "at Baseline Visit",
            "numericRangeStructured": {
              "min": 18,
              "max": 65,
              "unit": "score",
              "parameter": "OSDI score"
            },
            "strategy": "Confirms the Ocular Surface Disease Index (OSDI) score remains within the eligible range at the Baseline visit prior to randomization or treatment.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "fully_queryable"
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number BETWEEN 18 AND 65)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number BETWEEN 18 AND 65)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "OSDI score of \u2265 18 and \u2264 65 at Screening Visit",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number BETWEEN 18 AND 65"
        },
        {
          "atomicId": "2",
          "atomicText": "OSDI score of \u2265 18 and \u2264 65 at Baseline Visit",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number BETWEEN 18 AND 65"
        }
      ]
    },
    {
      "criterionId": "INC_I6",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "1",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "DURING",
          "anchor": "Screening Visit"
        },
        "operand": {
          "nodeId": "1a",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a1",
              "nodeType": "atomic",
              "atomicText": "Three consecutive tear break-up time (TBUT) tests \u2264 10 seconds in the left eye",
              "omopTable": "measurement",
              "numericConstraintStructured": {
                "value": 10,
                "operator": "<=",
                "unit": "seconds",
                "parameter": "Tear break-up time (TBUT)"
              },
              "strategy": "Requires identifying a series of three consecutive TBUT measurements for the left eye, where each measurement value is less than or equal to 10 seconds. This may require manual review or a complex query with window functions.",
              "clinicalCategory": "diagnostic_confirmation",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "tbut_dry_eye_confirmation"
            },
            {
              "nodeId": "1a2",
              "nodeType": "atomic",
              "atomicText": "Three consecutive tear break-up time (TBUT) tests \u2264 10 seconds in the right eye",
              "omopTable": "measurement",
              "numericConstraintStructured": {
                "value": 10,
                "operator": "<=",
                "unit": "seconds",
                "parameter": "Tear break-up time (TBUT)"
              },
              "strategy": "Requires identifying a series of three consecutive TBUT measurements for the right eye, where each measurement value is less than or equal to 10 seconds. This may require manual review or a complex query with window functions.",
              "clinicalCategory": "diagnostic_confirmation",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "tbut_dry_eye_confirmation"
            }
          ]
        }
      },
      "sqlTemplate": "(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 10)\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 10)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Three consecutive tear break-up time (TBUT) tests \u2264 10 seconds in the left eye",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 10"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Three consecutive tear break-up time (TBUT) tests \u2264 10 seconds in the right eye",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 10"
        }
      ]
    },
    {
      "criterionId": "INC_I7",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Grade 1 to 4 corneal staining (modified NEI Grid) related to dry eye in at least 1 eye at Screening Visit",
                "omopTable": "observation",
                "timeConstraint": "at Screening Visit",
                "numericRangeStructured": {
                  "min": 1,
                  "max": 4,
                  "unit": "",
                  "parameter": "Corneal staining score (modified NEI Grid)"
                },
                "strategy": "This is a key inclusion criterion based on a specific ocular surface staining assessment performed at the Screening visit, indicating a sufficient level of dry eye disease in the cornea.",
                "clinicalCategory": "diagnostic_confirmation",
                "queryableStatus": "requires_manual",
                "clinicalConceptGroup": "ocular_surface_staining"
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Grade 1 to 4 conjunctival staining (modified NEI Grid) related to dry eye in at least 1 eye at Screening Visit",
                "omopTable": "observation",
                "timeConstraint": "at Screening Visit",
                "numericRangeStructured": {
                  "min": 1,
                  "max": 4,
                  "unit": "",
                  "parameter": "Conjunctival staining score (modified NEI Grid)"
                },
                "strategy": "This is a key inclusion criterion based on a specific ocular surface staining assessment performed at the Screening visit, indicating a sufficient level of dry eye disease in the conjunctiva.",
                "clinicalCategory": "diagnostic_confirmation",
                "queryableStatus": "requires_manual",
                "clinicalConceptGroup": "ocular_surface_staining"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Grade 1 to 4 corneal staining (modified NEI Grid) related to dry eye in at least 1 eye at Baseline Visit",
                "omopTable": "observation",
                "timeConstraint": "at Baseline Visit",
                "numericRangeStructured": {
                  "min": 1,
                  "max": 4,
                  "unit": "",
                  "parameter": "Corneal staining score (modified NEI Grid)"
                },
                "strategy": "This confirms the persistence of the ocular surface staining from Screening to the Baseline visit, ensuring the condition is stable and present at the start of the study.",
                "clinicalCategory": "diagnostic_confirmation",
                "queryableStatus": "requires_manual",
                "clinicalConceptGroup": "ocular_surface_staining"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Grade 1 to 4 conjunctival staining (modified NEI Grid) related to dry eye in at least 1 eye at Baseline Visit",
                "omopTable": "observation",
                "timeConstraint": "at Baseline Visit",
                "numericRangeStructured": {
                  "min": 1,
                  "max": 4,
                  "unit": "",
                  "parameter": "Conjunctival staining score (modified NEI Grid)"
                },
                "strategy": "This confirms the persistence of the ocular surface staining from Screening to the Baseline visit, ensuring the condition is stable and present at the start of the study.",
                "clinicalCategory": "diagnostic_confirmation",
                "queryableStatus": "requires_manual",
                "clinicalConceptGroup": "ocular_surface_staining"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)))",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Grade 1 to 4 corneal staining (modified NEI Grid) related to dry eye in at least 1 eye at Screening Visit",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Grade 1 to 4 conjunctival staining (modified NEI Grid) related to dry eye in at least 1 eye at Screening Visit",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Grade 1 to 4 corneal staining (modified NEI Grid) related to dry eye in at least 1 eye at Baseline Visit",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Grade 1 to 4 conjunctival staining (modified NEI Grid) related to dry eye in at least 1 eye at Baseline Visit",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_I8",
      "type": "Inclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "1",
          "nodeType": "atomic",
          "atomicText": "Uses current spectacle correction",
          "omopTable": "observation",
          "strategy": "Identifies subjects for whom wearing spectacles is applicable.",
          "clinicalCategory": "safety_exclusion",
          "queryableStatus": "screening_only"
        },
        "requirement": {
          "nodeId": "2",
          "nodeType": "atomic",
          "atomicText": "Able and agreed to continue to wear existing current spectacle correction during the study period",
          "omopTable": "observation",
          "timeConstraint": "during the study period",
          "timeFrameStructured": {
            "value": 0,
            "unit": "",
            "operator": "during",
            "relativeEvent": "study_period"
          },
          "strategy": "Confirms subject compliance with maintaining consistent visual correction for study assessments.",
          "clinicalCategory": "diagnostic_confirmation",
          "queryableStatus": "screening_only"
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Uses current spectacle correction",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Able and agreed to continue to wear existing current spectacle correction during the study period",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_I9",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Corrected distance visual acuity of at least 20/32 Snellen equivalent in the right eye at Screening Visit",
            "omopTable": "measurement",
            "valueConstraint": "LogMAR <= 0.2",
            "timeConstraint": "at Screening Visit",
            "timeFrameStructured": {
              "value": 0,
              "unit": "",
              "operator": "during",
              "relativeEvent": "Screening Visit"
            },
            "numericConstraintStructured": {
              "value": 0.2,
              "operator": "<=",
              "unit": "LogMAR",
              "parameter": "Corrected distance visual acuity, right eye"
            },
            "strategy": "Ensures adequate visual function in the right eye. The test is performed using a 3-meter LogMar chart. A Snellen score of 20/32 is equivalent to a LogMAR score of 0.2, and 'at least' this acuity means a LogMAR score of 0.2 or lower (better vision).",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable",
            "clinicalConceptGroup": "visual_acuity"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Corrected distance visual acuity of at least 20/32 Snellen equivalent in the left eye at Screening Visit",
            "omopTable": "measurement",
            "valueConstraint": "LogMAR <= 0.2",
            "timeConstraint": "at Screening Visit",
            "timeFrameStructured": {
              "value": 0,
              "unit": "",
              "operator": "during",
              "relativeEvent": "Screening Visit"
            },
            "numericConstraintStructured": {
              "value": 0.2,
              "operator": "<=",
              "unit": "LogMAR",
              "parameter": "Corrected distance visual acuity, left eye"
            },
            "strategy": "Ensures adequate visual function in the left eye. The test is performed using a 3-meter LogMar chart. A Snellen score of 20/32 is equivalent to a LogMAR score of 0.2, and 'at least' this acuity means a LogMAR score of 0.2 or lower (better vision).",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable",
            "clinicalConceptGroup": "visual_acuity"
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 0.2)\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 0.2)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Corrected distance visual acuity of at least 20/32 Snellen equivalent in the right eye at Screening Visit",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 0.2"
        },
        {
          "atomicId": "2",
          "atomicText": "Corrected distance visual acuity of at least 20/32 Snellen equivalent in the left eye at Screening Visit",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 0.2"
        }
      ]
    },
    {
      "criterionId": "INC_I10",
      "type": "Inclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "1",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Using topical ophthalmic cyclosporine (e.g., RESTASIS\u00ae)",
              "omopTable": "drug_exposure",
              "strategy": "Identifies patients on a specific topical ophthalmic immunomodulator.",
              "clinicalCategory": "prior_therapy",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "topical_ophthalmic_immunomodulators"
            },
            {
              "nodeId": "1b",
              "nodeType": "atomic",
              "atomicText": "Using lifitegrast 5% ophthalmic solution (e.g., Xiidra\u00ae)",
              "omopTable": "drug_exposure",
              "strategy": "Identifies patients on a specific topical ophthalmic immunomodulator.",
              "clinicalCategory": "prior_therapy",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "topical_ophthalmic_immunomodulators"
            }
          ]
        },
        "requirement": {
          "nodeId": "2",
          "nodeType": "operator",
          "operator": "AND",
          "operands": [
            {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "Using the qualifying ophthalmic drops for at least 90 days prior to the Screening Visit",
              "omopTable": "drug_exposure",
              "timeConstraint": "Duration of use >= 90 days, occurring prior to the Screening Visit",
              "numericConstraintStructured": {
                "value": 90,
                "operator": ">=",
                "unit": "days",
                "parameter": "duration of use"
              },
              "strategy": "Ensures stable, long-term use of the qualifying medication before study entry.",
              "clinicalCategory": "prior_therapy",
              "queryableStatus": "fully_queryable"
            },
            {
              "nodeId": "2b",
              "nodeType": "operator",
              "operator": "NOT",
              "operands": [
                {
                  "nodeId": "2b1",
                  "nodeType": "atomic",
                  "atomicText": "Plan to change use of topical ophthalmic immunomodulators for the duration of the study",
                  "omopTable": "observation",
                  "strategy": "Confirms patient intent to maintain a stable therapeutic regimen during the study. This is determined via patient interview.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "requires_manual"
                }
              ]
            }
          ]
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Using topical ophthalmic cyclosporine (e.g., RESTASIS\u00ae)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Using lifitegrast 5% ophthalmic solution (e.g., Xiidra\u00ae)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Using the qualifying ophthalmic drops for at least 90 days prior to the Screening Visit",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b1",
          "atomicText": "Plan to change use of topical ophthalmic immunomodulators for the duration of the study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_I11",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Primary open-angle glaucoma",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with the primary disease indication.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "fully_queyable",
                "clinicalConceptGroup": "glaucoma_oht"
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Ocular hypertension (OHT)",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with the alternative disease indication.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "glaucoma_oht"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Intraocular pressure (IOP) \u2264 21 mmHg in both eyes at Screening Visit",
            "omopTable": "measurement",
            "timeConstraint": "at Screening Visit",
            "numericConstraintStructured": {
              "value": 21,
              "operator": "<=",
              "unit": "mmHg",
              "parameter": "Intraocular pressure"
            },
            "strategy": "Confirms IOP is controlled at baseline. 'Both eyes' implies two measurements meeting the criteria.",
            "clinicalCategory": "organ_function",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "3a",
            "nodeType": "atomic",
            "atomicText": "Receiving bilateral monotherapy with a topical IOP-lowering medication",
            "omopTable": "drug_exposure",
            "strategy": "Patient must be on a single IOP-lowering medication in both eyes, and not multiple.",
            "clinicalCategory": "prior_therapy",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "3b",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "BEFORE",
              "anchor": "Screening Visit",
              "value": 3,
              "unit": "months"
            },
            "operand": {
              "nodeId": "3b1",
              "nodeType": "atomic",
              "atomicText": "Start date of topical IOP-lowering medication",
              "omopTable": "drug_era",
              "strategy": "Ensures the patient's therapy has been stable for a minimum duration before the study.",
              "clinicalCategory": "prior_therapy",
              "queryableStatus": "fully_queryable"
            }
          },
          {
            "nodeId": "3c",
            "nodeType": "atomic",
            "atomicText": "Dosage of topical IOP-lowering medication is not expected to change during the study",
            "omopTable": "observation",
            "strategy": "Confirms the stability of the current treatment regimen, which is a prospective assessment.",
            "clinicalCategory": "prior_therapy",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 21)\nINTERSECT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Primary open-angle glaucoma",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Ocular hypertension (OHT)",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Intraocular pressure (IOP) \u2264 21 mmHg in both eyes at Screening Visit",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 21"
        },
        {
          "atomicId": "3a",
          "atomicText": "Receiving bilateral monotherapy with a topical IOP-lowering medication",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3b1",
          "atomicText": "Start date of topical IOP-lowering medication",
          "omopTable": "drug_era",
          "sql": "-- Unknown table: drug_era\n-- Atomic text: Start date of topical IOP-lowering medication\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "3c",
          "atomicText": "Dosage of topical IOP-lowering medication is not expected to change during the study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "INC_I12",
      "type": "Inclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Able to follow study instructions",
            "omopTable": "observation",
            "strategy": "This is a subjective assessment by the investigator to ensure the patient can understand and adhere to the study protocol.",
            "clinicalCategory": "performance_status",
            "queryableStatus": "requires_manual"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Likely to complete all required study visits",
            "omopTable": "observation",
            "strategy": "This is a subjective assessment by the investigator regarding the patient's reliability and commitment to completing the entire study.",
            "clinicalCategory": "performance_status",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Able to follow study instructions",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Likely to complete all required study visits",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E1",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Presence of an uncontrolled severe systemic disease",
            "omopTable": "observation",
            "strategy": "This is a high-level assessment by the investigator that a patient's systemic disease is both severe and not adequately managed. Examples of such diseases mentioned in the protocol include hypertension, diabetes, Sj\u00f6gren's syndrome, rheumatoid arthritis, systemic lupus erythematosus, and immunodeficiency disease.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Systemic disease would put the safety of the participant at risk through participation",
                "omopTable": "observation",
                "strategy": "This is the investigator's clinical judgment that the patient's participation in the trial would pose an unacceptable safety risk due to their underlying systemic disease.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Systemic disease would prevent protocol-specified assessments",
                "omopTable": "observation",
                "strategy": "This is the investigator's assessment that the patient's disease or its symptoms would make it impossible to perform required study procedures or assessments.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "2c",
                "nodeType": "atomic",
                "atomicText": "Systemic disease would confound protocol-specified assessments",
                "omopTable": "observation",
                "strategy": "This is the investigator's assessment that the patient's disease or its symptoms would interfere with the interpretation of study data, compromising the scientific integrity of the assessments.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)\nUNION\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Presence of an uncontrolled severe systemic disease",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Systemic disease would put the safety of the participant at risk through participation",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Systemic disease would prevent protocol-specified assessments",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "2c",
          "atomicText": "Systemic disease would confound protocol-specified assessments",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "EXC_E2",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Known allergy or sensitivity to the study products",
            "omopTable": "observation",
            "strategy": "This is a standard safety exclusion to prevent adverse reactions in patients with known hypersensitivity to the investigational drug(s). This requires mapping protocol-specific study products to clinical concepts.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "study_product_hypersensitivity"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Known allergy or sensitivity to the components of the study products",
            "omopTable": "observation",
            "strategy": "This extends the safety exclusion to include excipients or other non-active ingredients in the study product formulation, which can also cause allergic reactions. This is difficult to query as it requires knowledge of the full drug formulation.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "study_product_hypersensitivity"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Known allergy or sensitivity to the study products",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Known allergy or sensitivity to the components of the study products",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E3",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Female",
            "omopTable": "person",
            "strategy": "Filter for patients who are female.",
            "clinicalCategory": "demographics",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Pregnant",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with a condition or observation of pregnancy.",
                "clinicalCategory": "demographics",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "pregnancy_status"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Nursing",
                "omopTable": "observation",
                "strategy": "Identifies patients who are currently nursing/lactating. This may require manual confirmation.",
                "clinicalCategory": "demographics",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "pregnancy_status"
              },
              {
                "nodeId": "2c",
                "nodeType": "atomic",
                "atomicText": "Planning a pregnancy",
                "omopTable": "observation",
                "strategy": "Identifies patients who report planning a pregnancy. This typically requires manual confirmation.",
                "clinicalCategory": "demographics",
                "queryableStatus": "requires_manual",
                "clinicalConceptGroup": "pregnancy_status"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Female",
          "omopTable": "person",
          "sql": "-- Unknown table: person\n-- Atomic text: Female\n-- Requires manual SQL generation"
        },
        {
          "atomicId": "2a",
          "atomicText": "Pregnant",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Nursing",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c",
          "atomicText": "Planning a pregnancy",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E4",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Female of childbearing potential",
            "omopTable": "observation",
            "strategy": "Identifies the specific demographic subgroup of women who are biologically capable of becoming pregnant. This status is typically a clinical assessment.",
            "clinicalCategory": "demographics",
            "queryableStatus": "partially_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "NOT",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Using a reliable method of contraception",
                "omopTable": "observation",
                "strategy": "Checks for the use of effective birth control methods as specified by the protocol. The absence of this condition is required.",
                "clinicalCategory": "demographics",
                "queryableStatus": "requires_manual"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8532  -- FEMALE)\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Female of childbearing potential",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8532  -- FEMALE"
        },
        {
          "atomicId": "2a",
          "atomicText": "Using a reliable method of contraception",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E5",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Current enrollment in an investigational drug or device study",
            "omopTable": "observation",
            "timeConstraint": "at Screening Visit",
            "timeFrameStructured": {
              "value": 0,
              "unit": "",
              "operator": "during",
              "relativeEvent": "Screening Visit"
            },
            "strategy": "Identifies concurrent participation in another clinical trial at the time of screening.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "investigational_study_participation"
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "Screening Visit",
              "value": 30,
              "unit": "days"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "Participation in an investigational drug or device study",
              "omopTable": "observation",
              "strategy": "Identifies recent participation in another clinical trial to avoid carry-over effects from other investigational agents.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "requires_manual",
              "clinicalConceptGroup": "investigational_study_participation"
            }
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Current enrollment in an investigational drug or device study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        },
        {
          "atomicId": "2a",
          "atomicText": "Participation in an investigational drug or device study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E6",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Schirmer Test (with anesthesia) result in one eye is \u2264 2 mm at Screening Visit",
            "omopTable": "measurement",
            "timeConstraint": "at Screening Visit",
            "timeFrameStructured": {
              "value": 0,
              "unit": "",
              "operator": "during",
              "relativeEvent": "Screening Visit"
            },
            "numericConstraintStructured": {
              "value": 2,
              "operator": "<=",
              "unit": "mm",
              "parameter": "Schirmer Test (with anesthesia)"
            },
            "strategy": "Confirms severe aqueous tear deficiency in the left eye as part of diagnostic confirmation for a condition like dry eye disease.",
            "clinicalCategory": "diagnostic_confirmation",
            "queryableStatus": "screening_only",
            "clinicalConceptGroup": "schirmer_test_result"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Schirmer Test (with anesthesia) result in the other eye is \u2264 2 mm at Screening Visit",
            "omopTable": "measurement",
            "timeConstraint": "at Screening Visit",
            "timeFrameStructured": {
              "value": 0,
              "unit": "",
              "operator": "during",
              "relativeEvent": "Screening Visit"
            },
            "numericConstraintStructured": {
              "value": 2,
              "operator": "<=",
              "unit": "mm",
              "parameter": "Schirmer Test (with anesthesia)"
            },
            "strategy": "Confirms severe aqueous tear deficiency in the right eye as part of diagnostic confirmation for a condition like dry eye disease.",
            "clinicalCategory": "diagnostic_confirmation",
            "queryableStatus": "screening_only",
            "clinicalConceptGroup": "schirmer_test_result"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2)\nUNION\n(SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2)\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Schirmer Test (with anesthesia) result in one eye is \u2264 2 mm at Screening Visit",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2"
        },
        {
          "atomicId": "2",
          "atomicText": "Schirmer Test (with anesthesia) result in the other eye is \u2264 2 mm at Screening Visit",
          "omopTable": "measurement",
          "sql": "SELECT DISTINCT m.person_id\nFROM measurement m\nWHERE m.measurement_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND m.value_as_number <= 2"
        }
      ]
    },
    {
      "criterionId": "EXC_E7",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Anticipated contact lens wear during the study",
            "omopTable": "observation",
            "timeConstraint": "during the study",
            "timeFrameStructured": {
              "value": 0,
              "unit": "",
              "operator": "during",
              "relativeEvent": "study"
            },
            "strategy": "This is a forward-looking condition based on patient interview to prevent interference with study procedures or assessments.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "Screening Visit",
              "value": 3,
              "unit": "months"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "Worn contact lenses",
              "omopTable": "device_exposure",
              "timeConstraint": "in the last 3 months prior to Screening Visit",
              "timeFrameStructured": {
                "value": 3,
                "unit": "months",
                "operator": "within",
                "relativeEvent": "Screening Visit"
              },
              "strategy": "This captures recent contact lens use prior to the study, which might affect baseline measurements.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable"
            }
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Anticipated contact lens wear during the study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Worn contact lenses",
          "omopTable": "device_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM device_exposure de\nWHERE de.device_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.device_exposure_start_date >= @reference_date - INTERVAL '3 months'"
        }
      ]
    },
    {
      "criterionId": "EXC_E8",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Scheduled or planned elective ocular surgery or procedure",
                "omopTable": "procedure_occurrence",
                "timeConstraint": "during the study",
                "timeFrameStructured": {
                  "value": 0,
                  "unit": "",
                  "operator": "during",
                  "relativeEvent": "study participation"
                },
                "strategy": "Identifies any planned, non-emergency eye-related surgeries or procedures that would occur during the trial period.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Scheduled or planned elective systemic surgery or procedure",
                "omopTable": "procedure_occurrence",
                "timeConstraint": "during the study",
                "timeFrameStructured": {
                  "value": 0,
                  "unit": "",
                  "operator": "during",
                  "relativeEvent": "study participation"
                },
                "strategy": "Identifies any planned, non-emergency major body system surgeries or procedures that would occur during the trial period.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Investigator's opinion: surgery or procedure may impact study participation",
            "omopTable": "observation",
            "strategy": "Captures the required clinical judgment that a planned procedure would interfere with the patient's ability to participate in the study, making them ineligible.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Scheduled or planned elective ocular surgery or procedure",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Scheduled or planned elective systemic surgery or procedure",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Investigator's opinion: surgery or procedure may impact study participation",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E9",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Corneal staining score of 5 in any of the 5 zones in either eye",
            "omopTable": "observation",
            "valueConstraint": "score = 5 in any of 5 zones",
            "timeConstraint": "At Screening and Baseline visits",
            "numericConstraintStructured": {
              "value": 5,
              "operator": "=",
              "unit": "score",
              "parameter": "Maximum corneal staining score in any zone (modified NEI grading)"
            },
            "strategy": "This atomic identifies patients with severe focal corneal staining in at least one zone of either eye, which is a key indicator of severe dry eye disease.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "requires_manual"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Total corneal staining score > 19 in either eye",
            "omopTable": "observation",
            "valueConstraint": "total score > 19 (out of 25)",
            "timeConstraint": "At Screening and Baseline visits",
            "numericConstraintStructured": {
              "value": 19,
              "operator": ">",
              "unit": "score",
              "parameter": "Total corneal staining score (modified NEI grading)"
            },
            "strategy": "This atomic identifies patients with severe diffuse corneal staining across all zones of either eye, another indicator of severe dry eye disease.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "requires_manual"
          },
          {
            "nodeId": "3",
            "nodeType": "atomic",
            "atomicText": "Conjunctival staining score of 5 in any of the 6 zones in either eye",
            "omopTable": "observation",
            "valueConstraint": "score = 5 in any of 6 zones",
            "timeConstraint": "At Screening and Baseline visits",
            "numericConstraintStructured": {
              "value": 5,
              "operator": "=",
              "unit": "score",
              "parameter": "Maximum conjunctival staining score in any zone (modified NEI grading)"
            },
            "strategy": "This atomic identifies patients with severe focal conjunctival staining, a sign of significant ocular surface disease.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Corneal staining score of 5 in any of the 5 zones in either eye",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Total corneal staining score > 19 in either eye",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3",
          "atomicText": "Conjunctival staining score of 5 in any of the 6 zones in either eye",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E10",
      "type": "Exclusion",
      "logicOperator": "IMPLICATION",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "IMPLICATION",
        "condition": {
          "nodeId": "1",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Use of systemic medications which may affect tear film or vision",
              "omopTable": "drug_exposure",
              "strategy": "This is a general catch-all for any systemic medication that could interfere with the study's primary endpoints related to tear film or vision, requiring clinical review.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "requires_manual"
            },
            {
              "nodeId": "1b",
              "nodeType": "atomic",
              "atomicText": "Use of flax seed oil",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to flax seed oil.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable"
            },
            {
              "nodeId": "1c",
              "nodeType": "atomic",
              "atomicText": "Use of fish oil",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to fish oil.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "omega3_supplements"
            },
            {
              "nodeId": "1d",
              "nodeType": "atomic",
              "atomicText": "Use of omega-3 supplements",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to omega-3 supplements.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "omega3_supplements"
            },
            {
              "nodeId": "1e",
              "nodeType": "atomic",
              "atomicText": "Use of cyclosporine",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to cyclosporine.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable"
            },
            {
              "nodeId": "1f",
              "nodeType": "atomic",
              "atomicText": "Use of antihistamines",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to the antihistamine class.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable"
            },
            {
              "nodeId": "1g",
              "nodeType": "atomic",
              "atomicText": "Use of cholinergic agents",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to the cholinergic agent class.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable"
            },
            {
              "nodeId": "1h",
              "nodeType": "atomic",
              "atomicText": "Use of anticholinergics",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to the anticholinergic class.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "anticholinergic_agents"
            },
            {
              "nodeId": "1i",
              "nodeType": "atomic",
              "atomicText": "Use of antimuscarinics",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to the antimuscarinic class.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "anticholinergic_agents"
            },
            {
              "nodeId": "1j",
              "nodeType": "atomic",
              "atomicText": "Use of beta-blocking agents",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to the beta-blocker class.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable"
            },
            {
              "nodeId": "1k",
              "nodeType": "atomic",
              "atomicText": "Use of tricyclic antidepressants",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to the tricyclic antidepressant class.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable"
            },
            {
              "nodeId": "1l",
              "nodeType": "atomic",
              "atomicText": "Use of phenothiazines",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to the phenothiazine class.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable"
            },
            {
              "nodeId": "1m",
              "nodeType": "atomic",
              "atomicText": "Use of estrogen-progesterone",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to combination estrogen-progesterone therapies.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "estrogen_derivatives"
            },
            {
              "nodeId": "1n",
              "nodeType": "atomic",
              "atomicText": "Use of other estrogen derivatives",
              "omopTable": "drug_exposure",
              "strategy": "Query for drug exposures to other estrogen derivatives.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "estrogen_derivatives"
            }
          ]
        },
        "requirement": {
          "nodeId": "2",
          "nodeType": "operator",
          "operator": "AND",
          "operands": [
            {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "Medication used at a stable dose for at least 3 months prior to screening",
              "omopTable": "drug_exposure",
              "timeConstraint": "for at least 3 months prior to screening",
              "timeFrameStructured": {
                "value": 3,
                "unit": "months",
                "operator": "before",
                "relativeEvent": "screening"
              },
              "strategy": "Requires manual review of medication history to confirm the dose has been stable for the specified duration leading up to the screening visit.",
              "clinicalCategory": "prior_therapy",
              "queryableStatus": "requires_manual"
            },
            {
              "nodeId": "2b",
              "nodeType": "operator",
              "operator": "NOT",
              "operands": [
                {
                  "nodeId": "2b1",
                  "nodeType": "atomic",
                  "atomicText": "Medication dosage was expected to change during the course of the study",
                  "omopTable": "observation",
                  "strategy": "Requires confirmation at screening that there is no plan to alter the dosage of the specified medication during the study period.",
                  "clinicalCategory": "prior_therapy",
                  "queryableStatus": "screening_only"
                }
              ]
            }
          ]
        }
      },
      "sqlTemplate": "-- No operands in operator node",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Use of systemic medications which may affect tear film or vision",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Use of flax seed oil",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1c",
          "atomicText": "Use of fish oil",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1d",
          "atomicText": "Use of omega-3 supplements",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1e",
          "atomicText": "Use of cyclosporine",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1f",
          "atomicText": "Use of antihistamines",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1g",
          "atomicText": "Use of cholinergic agents",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1h",
          "atomicText": "Use of anticholinergics",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1i",
          "atomicText": "Use of antimuscarinics",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1j",
          "atomicText": "Use of beta-blocking agents",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1k",
          "atomicText": "Use of tricyclic antidepressants",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1l",
          "atomicText": "Use of phenothiazines",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1m",
          "atomicText": "Use of estrogen-progesterone",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1n",
          "atomicText": "Use of other estrogen derivatives",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Medication used at a stable dose for at least 3 months prior to screening",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '3 months'"
        },
        {
          "atomicId": "2b1",
          "atomicText": "Medication dosage was expected to change during the course of the study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E11",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Active ocular infection in at least 1 eye",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies patients with an active eye infection.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Active ocular inflammation in at least 1 eye",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with active eye inflammation.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "ocular_inflammation"
              },
              {
                "nodeId": "2b",
                "nodeType": "operator",
                "operator": "NOT",
                "operands": [
                  {
                    "nodeId": "2b1",
                    "nodeType": "atomic",
                    "atomicText": "Keratoconjunctivitis sicca (KCS) in at least 1 eye",
                    "omopTable": "condition_occurrence",
                    "strategy": "Excludes patients whose inflammation is specifically KCS (dry eye syndrome).",
                    "clinicalCategory": "safety_exclusion",
                    "queryableStatus": "fully_queryable",
                    "clinicalConceptGroup": "ocular_inflammation"
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "3",
            "nodeType": "atomic",
            "atomicText": "Active ocular allergy in at least 1 eye",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies patients with an active eye allergy.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Active ocular infection in at least 1 eye",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Active ocular inflammation in at least 1 eye",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b1",
          "atomicText": "Keratoconjunctivitis sicca (KCS) in at least 1 eye",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3",
          "atomicText": "Active ocular allergy in at least 1 eye",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E12",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "History of recurrent herpes keratitis",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies any patient with a diagnosis code for recurrent herpes keratitis at any time in their history.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable",
            "clinicalConceptGroup": "herpes_keratitis"
          },
          {
            "nodeId": "2",
            "nodeType": "temporal",
            "temporalConstraint": {
              "operator": "WITHIN",
              "anchor": "Screening Visit",
              "value": 6,
              "unit": "months"
            },
            "operand": {
              "nodeId": "2a",
              "nodeType": "atomic",
              "atomicText": "Active herpes keratitis",
              "omopTable": "condition_occurrence",
              "timeConstraint": "within 6 months prior to Screening Visit",
              "timeFrameStructured": {
                "value": 6,
                "unit": "months",
                "operator": "within",
                "relativeEvent": "Screening Visit"
              },
              "strategy": "Identifies patients with a recent, active episode of herpes keratitis. The 'active' status may require additional clinical context or specific codes indicating an acute event.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "herpes_keratitis"
            }
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "History of recurrent herpes keratitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Active herpes keratitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND co.condition_start_date >= @reference_date - INTERVAL '6 months'"
        }
      ]
    },
    {
      "criterionId": "EXC_E13",
      "type": "Exclusion",
      "logicOperator": "EXCEPT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Corneal disorder or abnormality",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies any diagnosed disorder or structural abnormality of the cornea.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "fully_queryable"
              },
              {
                "nodeId": "1b",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1b1",
                    "nodeType": "atomic",
                    "atomicText": "Corneal sensitivity affected",
                    "omopTable": "observation",
                    "strategy": "Identifies findings related to abnormal or reduced corneal sensitivity, which may require manual chart review to confirm.",
                    "clinicalCategory": "safety_exclusion",
                    "queryableStatus": "requires_manual"
                  },
                  {
                    "nodeId": "1b2",
                    "nodeType": "atomic",
                    "atomicText": "Normal spreading of the tear film affected",
                    "omopTable": "observation",
                    "strategy": "Identifies conditions like dry eye syndrome or abnormal tear film break-up time, which may require manual chart review to confirm.",
                    "clinicalCategory": "safety_exclusion",
                    "queryableStatus": "requires_manual"
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Superficial punctate keratitis",
            "omopTable": "condition_occurrence",
            "strategy": "This is a specific, often transient, condition that is explicitly exempted from the main exclusion criterion.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "fully_queryable"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n((SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nEXCEPT\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Corneal disorder or abnormality",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Corneal sensitivity affected",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b2",
          "atomicText": "Normal spreading of the tear film affected",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Superficial punctate keratitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E14",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Severe blepharitis",
                "omopTable": "condition_occurrence",
                "strategy": "Identify a diagnosis of blepharitis. The 'severe' modifier requires clinical assessment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "lid_margin_inflammation"
              },
              {
                "nodeId": "1b",
                "nodeType": "atomic",
                "atomicText": "Obvious inflammation of the lid margin",
                "omopTable": "condition_occurrence",
                "strategy": "Identify a diagnosis or clinical finding of inflammation of the eyelid margin. The 'obvious' modifier requires clinical assessment.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "lid_margin_inflammation"
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Condition may have interfered with the interpretation of the study results in the judgment of the investigator",
            "omopTable": "observation",
            "strategy": "This is a subjective assessment made by the clinical investigator at the time of screening and cannot be queried from standard EHR data.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE)\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Severe blepharitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Obvious inflammation of the lid margin",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Condition may have interfered with the interpretation of the study results in the judgment of the investigator",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT p.person_id\nFROM person p\nWHERE p.gender_concept_id = 8507  -- MALE"
        }
      ]
    },
    {
      "criterionId": "EXC_E15",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "AND",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Keratoconjunctivitis sicca",
            "omopTable": "condition_occurrence",
            "strategy": "Identifies patients with the primary diagnosis of interest.",
            "clinicalCategory": "disease_indication",
            "queryableStatus": "fully_queryable"
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Vitamin A deficiency",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies an underlying cause of KCS involving destruction of conjunctival goblet cells.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "kcs_etiology"
              },
              {
                "nodeId": "2b",
                "nodeType": "atomic",
                "atomicText": "Cicatricial pemphigoid",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies an underlying scarring cause of KCS involving destruction of conjunctival goblet cells.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "kcs_etiology"
              },
              {
                "nodeId": "2c",
                "nodeType": "atomic",
                "atomicText": "Alkali burn of the eye",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies an underlying scarring cause of KCS involving destruction of conjunctival goblet cells.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "kcs_etiology"
              },
              {
                "nodeId": "2d",
                "nodeType": "atomic",
                "atomicText": "Stevens-Johnson syndrome",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies an underlying scarring cause of KCS involving destruction of conjunctival goblet cells.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "kcs_etiology"
              },
              {
                "nodeId": "2e",
                "nodeType": "atomic",
                "atomicText": "Trachoma",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies an underlying scarring cause of KCS involving destruction of conjunctival goblet cells.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "fully_queryable",
                "clinicalConceptGroup": "kcs_etiology"
              },
              {
                "nodeId": "2f",
                "nodeType": "atomic",
                "atomicText": "History of therapeutic irradiation to head or neck",
                "omopTable": "procedure_occurrence",
                "strategy": "Identifies an underlying cause of KCS involving destruction of conjunctival goblet cells.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "partially_queryable",
                "clinicalConceptGroup": "kcs_etiology"
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Keratoconjunctivitis sicca",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Vitamin A deficiency",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b",
          "atomicText": "Cicatricial pemphigoid",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c",
          "atomicText": "Alkali burn of the eye",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2d",
          "atomicText": "Stevens-Johnson syndrome",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2e",
          "atomicText": "Trachoma",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2f",
          "atomicText": "History of therapeutic irradiation to head or neck",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E16",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1a",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "1a1",
                "nodeType": "atomic",
                "atomicText": "Substantial non-KCS keratitis",
                "omopTable": "condition_occurrence",
                "strategy": "Identifies patients with significant inflammation of the cornea not caused by dry eye (Keratoconjunctivitis Sicca). The 'substantial' modifier requires clinical assessment.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1a2",
                "nodeType": "atomic",
                "atomicText": "Overlying corneal stain",
                "omopTable": "observation",
                "strategy": "Confirms epithelial damage associated with the keratitis, typically assessed via fluorescein staining.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "requires_manual"
              }
            ]
          },
          {
            "nodeId": "1b",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "1b1",
                "nodeType": "atomic",
                "atomicText": "Other significant corneal findings",
                "omopTable": "condition_occurrence",
                "strategy": "A catch-all for other clinically important corneal issues that are not specified. Requires manual review.",
                "clinicalCategory": "disease_indication",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1b2",
                "nodeType": "operator",
                "operator": "NOT",
                "operands": [
                  {
                    "nodeId": "1b2a",
                    "nodeType": "atomic",
                    "atomicText": "Corneal findings are directly related to dry eye",
                    "omopTable": "condition_occurrence",
                    "strategy": "Excludes findings that are a manifestation of dry eye disease from this specific sub-clause.",
                    "clinicalCategory": "disease_indication",
                    "queryableStatus": "requires_manual"
                  }
                ]
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "2a1",
                    "nodeType": "atomic",
                    "atomicText": "Dry eye signs or symptoms present",
                    "omopTable": "condition_occurrence",
                    "strategy": "Identifies the general population with dry eye disease based on clinical signs or patient-reported symptoms.",
                    "clinicalCategory": "disease_indication",
                    "queryableStatus": "partially_queryable"
                  },
                  {
                    "nodeId": "2a2",
                    "nodeType": "atomic",
                    "atomicText": "Filamentary keratitis",
                    "omopTable": "condition_occurrence",
                    "strategy": "Identifies a specific, severe sign of dry eye disease that has a corresponding diagnosis code.",
                    "clinicalCategory": "disease_indication",
                    "queryableStatus": "fully_queryable"
                  }
                ]
              },
              {
                "nodeId": "2b",
                "nodeType": "operator",
                "operator": "NOT",
                "operands": [
                  {
                    "nodeId": "2b1",
                    "nodeType": "atomic",
                    "atomicText": "Severity of dry eye signs/symptoms is appropriate for topical monotherapy with an artificial tear",
                    "omopTable": "observation",
                    "strategy": "This clause selects for patients with severe dry eye, defined as being beyond the point where simple artificial tears alone would be considered adequate treatment. This is a clinical judgment.",
                    "clinicalCategory": "disease_indication",
                    "queryableStatus": "requires_manual"
                  }
                ]
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nUNION\n((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nUNION\n(((SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\n)",
      "components": [
        {
          "atomicId": "1a1",
          "atomicText": "Substantial non-KCS keratitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1a2",
          "atomicText": "Overlying corneal stain",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Other significant corneal findings",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b2a",
          "atomicText": "Corneal findings are directly related to dry eye",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a1",
          "atomicText": "Dry eye signs or symptoms present",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a2",
          "atomicText": "Filamentary keratitis",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b1",
          "atomicText": "Severity of dry eye signs/symptoms is appropriate for topical monotherapy with an artificial tear",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E17",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "Screening Visit",
          "value": 3,
          "unit": "months"
        },
        "operand": {
          "nodeId": "1",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "Occlusion of the lacrimal puncta with punctal plugs",
              "omopTable": "procedure_occurrence",
              "timeConstraint": "< 3 months prior to Screening Visit",
              "strategy": "Identifies patients who have had a procedure to block the tear duct with a plug.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "lacrimal_puncta_occlusion"
            },
            {
              "nodeId": "1b",
              "nodeType": "atomic",
              "atomicText": "Occlusion of the lacrimal puncta with cauterization",
              "omopTable": "procedure_occurrence",
              "timeConstraint": "< 3 months prior to Screening Visit",
              "strategy": "Identifies patients who have had a procedure to block the tear duct with cauterization.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "lacrimal_puncta_occlusion"
            }
          ]
        }
      },
      "sqlTemplate": "-- Temporal constraint: WITHIN 3 months of Screening Visit\n-- Note: For complex nested operands, temporal filter applied at outer level\nWITH temporal_base AS (\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)\nSELECT DISTINCT person_id\nFROM temporal_base\nWHERE EXISTS (\n    -- Verify temporal constraint is met\n    -- This requires joining back to source table with date filtering\n    SELECT 1 WHERE @Screening Visit BETWEEN @Screening Visit - INTERVAL '3 months' AND @Screening Visit + INTERVAL '3 months'\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Occlusion of the lacrimal puncta with punctal plugs",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Occlusion of the lacrimal puncta with cauterization",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E18",
      "type": "Exclusion",
      "logicOperator": "AND",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "temporal",
        "temporalConstraint": {
          "operator": "WITHIN",
          "anchor": "Screening Visit",
          "value": 6,
          "unit": "months"
        },
        "operand": {
          "nodeId": "1",
          "nodeType": "operator",
          "operator": "OR",
          "operands": [
            {
              "nodeId": "1a",
              "nodeType": "atomic",
              "atomicText": "History of ocular/ophthalmic trauma",
              "omopTable": "condition_occurrence",
              "strategy": "Identifies patients with a history of eye trauma, which could affect study endpoints like corneal sensitivity or tear distribution.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "prior_ocular_procedure_or_trauma"
            },
            {
              "nodeId": "1b",
              "nodeType": "atomic",
              "atomicText": "Cataract surgery",
              "omopTable": "procedure_occurrence",
              "strategy": "Identifies patients with a history of cataract surgery, an example of a procedure that could affect study endpoints.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "prior_ocular_procedure_or_trauma"
            },
            {
              "nodeId": "1c",
              "nodeType": "atomic",
              "atomicText": "Laser-assisted in situ keratomileusis (LASIK)",
              "omopTable": "procedure_occurrence",
              "strategy": "Identifies patients with a history of LASIK, an example of a procedure that could affect study endpoints.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "prior_ocular_procedure_or_trauma"
            },
            {
              "nodeId": "1d",
              "nodeType": "atomic",
              "atomicText": "Photorefractive keratectomy",
              "omopTable": "procedure_occurrence",
              "strategy": "Identifies patients with a history of photorefractive keratectomy, an example of a procedure that could affect study endpoints.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "fully_queryable",
              "clinicalConceptGroup": "prior_ocular_procedure_or_trauma"
            },
            {
              "nodeId": "1e",
              "nodeType": "atomic",
              "atomicText": "Any surgery involving a limbal or corneal incision",
              "omopTable": "procedure_occurrence",
              "strategy": "A broader category to capture other relevant ocular surgeries not explicitly listed that involve incisions that could affect study endpoints.",
              "clinicalCategory": "safety_exclusion",
              "queryableStatus": "partially_queryable",
              "clinicalConceptGroup": "prior_ocular_procedure_or_trauma"
            }
          ]
        }
      },
      "sqlTemplate": "-- Temporal constraint: WITHIN 6 months of Screening Visit\n-- Note: For complex nested operands, temporal filter applied at outer level\nWITH temporal_base AS (\n(SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)\nSELECT DISTINCT person_id\nFROM temporal_base\nWHERE EXISTS (\n    -- Verify temporal constraint is met\n    -- This requires joining back to source table with date filtering\n    SELECT 1 WHERE @Screening Visit BETWEEN @Screening Visit - INTERVAL '6 months' AND @Screening Visit + INTERVAL '6 months'\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "History of ocular/ophthalmic trauma",
          "omopTable": "condition_occurrence",
          "sql": "SELECT DISTINCT co.person_id\nFROM condition_occurrence co\nWHERE co.condition_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b",
          "atomicText": "Cataract surgery",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1c",
          "atomicText": "Laser-assisted in situ keratomileusis (LASIK)",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1d",
          "atomicText": "Photorefractive keratectomy",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1e",
          "atomicText": "Any surgery involving a limbal or corneal incision",
          "omopTable": "procedure_occurrence",
          "sql": "SELECT DISTINCT po.person_id\nFROM procedure_occurrence po\nWHERE po.procedure_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E19",
      "type": "Exclusion",
      "logicOperator": "EXCEPT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "EXCEPT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Currently using topical ocular medication",
                "omopTable": "drug_exposure",
                "timeConstraint": "current use at Screening Visit",
                "strategy": "Identifies patients with ongoing use of any topical ocular medication at the time of screening.",
                "clinicalCategory": "safety_exclusion",
                "queryableStatus": "requires_manual"
              },
              {
                "nodeId": "1b",
                "nodeType": "temporal",
                "temporalConstraint": {
                  "operator": "WITHIN",
                  "anchor": "Screening Visit",
                  "value": 2,
                  "unit": "weeks"
                },
                "operand": {
                  "nodeId": "1b1",
                  "nodeType": "atomic",
                  "atomicText": "Used topical ocular medication",
                  "omopTable": "drug_exposure",
                  "timeFrameStructured": {
                    "value": 2,
                    "unit": "weeks",
                    "operator": "within",
                    "relativeEvent": "Screening Visit"
                  },
                  "strategy": "Identifies patients with recent use of any topical ocular medication leading up to screening.",
                  "clinicalCategory": "safety_exclusion",
                  "queryableStatus": "fully_queryable"
                }
              }
            ]
          },
          {
            "nodeId": "2",
            "nodeType": "operator",
            "operator": "OR",
            "operands": [
              {
                "nodeId": "2a",
                "nodeType": "atomic",
                "atomicText": "Current bilateral use of a marketed artificial tear, to be discontinued at the Screening Visit",
                "omopTable": "drug_exposure",
                "strategy": "Allows patients using artificial tears, with the procedural requirement that they are stopped.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "requires_manual",
                "clinicalConceptGroup": "allowed_meds"
              },
              {
                "nodeId": "2b",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "2b1",
                    "nodeType": "atomic",
                    "atomicText": "Bilateral monotherapy for glaucoma or OHT",
                    "omopTable": "drug_exposure",
                    "strategy": "Identifies patients on a single, stable therapy for glaucoma or OHT.",
                    "clinicalCategory": "prior_therapy",
                    "queryableStatus": "partially_queryable",
                    "clinicalConceptGroup": "allowed_meds"
                  },
                  {
                    "nodeId": "2b2",
                    "nodeType": "operator",
                    "operator": "OR",
                    "operands": [
                      {
                        "nodeId": "2b2a",
                        "nodeType": "atomic",
                        "atomicText": "Use of a prostaglandin analog",
                        "omopTable": "drug_exposure",
                        "strategy": "Specifies an allowed class of glaucoma medication.",
                        "clinicalCategory": "prior_therapy",
                        "queryableStatus": "fully_queryable",
                        "clinicalConceptGroup": "glaucoma_monotherapy_class"
                      },
                      {
                        "nodeId": "2b2b",
                        "nodeType": "atomic",
                        "atomicText": "Use of a beta-blocker",
                        "omopTable": "drug_exposure",
                        "strategy": "Specifies an allowed class of glaucoma medication.",
                        "clinicalCategory": "prior_therapy",
                        "queryableStatus": "fully_queryable",
                        "clinicalConceptGroup": "glaucoma_monotherapy_class"
                      },
                      {
                        "nodeId": "2b2c",
                        "nodeType": "atomic",
                        "atomicText": "Use of an alpha-2 agonist",
                        "omopTable": "drug_exposure",
                        "strategy": "Specifies an allowed class of glaucoma medication.",
                        "clinicalCategory": "prior_therapy",
                        "queryableStatus": "fully_queryable",
                        "clinicalConceptGroup": "glaucoma_monotherapy_class"
                      },
                      {
                        "nodeId": "2b2d",
                        "nodeType": "atomic",
                        "atomicText": "Use of a carbonic anhydrase inhibitor",
                        "omopTable": "drug_exposure",
                        "strategy": "Specifies an allowed class of glaucoma medication.",
                        "clinicalCategory": "prior_therapy",
                        "queryableStatus": "fully_queryable",
                        "clinicalConceptGroup": "glaucoma_monotherapy_class"
                      }
                    ]
                  },
                  {
                    "nodeId": "2b3",
                    "nodeType": "atomic",
                    "atomicText": "Start date of topical IOP-lowering medication is >= 3 months prior to Screening Visit",
                    "omopTable": "drug_exposure",
                    "timeConstraint": "start date >= 3 months prior to Screening Visit",
                    "timeFrameStructured": {
                      "value": 3,
                      "unit": "months",
                      "operator": "before",
                      "relativeEvent": "Screening Visit"
                    },
                    "strategy": "Ensures the allowed glaucoma therapy is stable and long-term.",
                    "clinicalCategory": "prior_therapy",
                    "queryableStatus": "fully_queryable"
                  },
                  {
                    "nodeId": "2b4",
                    "nodeType": "operator",
                    "operator": "NOT",
                    "operands": [
                      {
                        "nodeId": "2b4a",
                        "nodeType": "atomic",
                        "atomicText": "Dosage of topical IOP-lowering medication is expected to change during the study",
                        "omopTable": "observation",
                        "strategy": "Ensures stability of the allowed glaucoma therapy throughout the study.",
                        "clinicalCategory": "prior_therapy",
                        "queryableStatus": "requires_manual"
                      }
                    ]
                  }
                ]
              },
              {
                "nodeId": "2c",
                "nodeType": "operator",
                "operator": "AND",
                "operands": [
                  {
                    "nodeId": "2c1",
                    "nodeType": "operator",
                    "operator": "OR",
                    "operands": [
                      {
                        "nodeId": "2c1a",
                        "nodeType": "atomic",
                        "atomicText": "Use of any form of topical ophthalmic cyclosporine (e.g., RESTASIS\u00ae)",
                        "omopTable": "drug_exposure",
                        "strategy": "Identifies use of a specific allowed immunomodulatory agent.",
                        "clinicalCategory": "prior_therapy",
                        "queryableStatus": "fully_queryable",
                        "clinicalConceptGroup": "allowed_meds_short_term"
                      },
                      {
                        "nodeId": "2c1b",
                        "nodeType": "atomic",
                        "atomicText": "Use of lifitegrast 5% ophthalmic solution (Xiidra\u00ae)",
                        "omopTable": "drug_exposure",
                        "strategy": "Identifies use of a specific allowed immunomodulatory agent.",
                        "clinicalCategory": "prior_therapy",
                        "queryableStatus": "fully_queryable",
                        "clinicalConceptGroup": "allowed_meds_short_term"
                      }
                    ]
                  },
                  {
                    "nodeId": "2c2",
                    "nodeType": "atomic",
                    "atomicText": "Duration of use is less than 90 days prior to Screening Visit",
                    "omopTable": "drug_exposure",
                    "timeConstraint": "duration of therapy < 90 days prior to Screening Visit",
                    "timeFrameStructured": {
                      "value": 90,
                      "unit": "days",
                      "operator": "<",
                      "relativeEvent": "Screening Visit"
                    },
                    "strategy": "Restricts the exception to patients who have been on the therapy for a relatively short duration.",
                    "clinicalCategory": "prior_therapy",
                    "queryableStatus": "fully_queryable"
                  }
                ]
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nEXCEPT\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '3 months')\nINTERSECT\n(SELECT person_id FROM person\nEXCEPT\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\nUNION\n(((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)))\nINTERSECT\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '90 days')))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Currently using topical ocular medication",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Used topical ocular medication",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2a",
          "atomicText": "Current bilateral use of a marketed artificial tear, to be discontinued at the Screening Visit",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b1",
          "atomicText": "Bilateral monotherapy for glaucoma or OHT",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b2a",
          "atomicText": "Use of a prostaglandin analog",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b2b",
          "atomicText": "Use of a beta-blocker",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b2c",
          "atomicText": "Use of an alpha-2 agonist",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b2d",
          "atomicText": "Use of a carbonic anhydrase inhibitor",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2b3",
          "atomicText": "Start date of topical IOP-lowering medication is >= 3 months prior to Screening Visit",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '3 months'"
        },
        {
          "atomicId": "2b4a",
          "atomicText": "Dosage of topical IOP-lowering medication is expected to change during the study",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c1a",
          "atomicText": "Use of any form of topical ophthalmic cyclosporine (e.g., RESTASIS\u00ae)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c1b",
          "atomicText": "Use of lifitegrast 5% ophthalmic solution (Xiidra\u00ae)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2c2",
          "atomicText": "Duration of use is less than 90 days prior to Screening Visit",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)\n  AND de.drug_exposure_start_date >= @reference_date - INTERVAL '90 days'"
        }
      ]
    },
    {
      "criterionId": "EXC_E20",
      "type": "Exclusion",
      "logicOperator": "NOT",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "NOT",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "operator",
            "operator": "AND",
            "operands": [
              {
                "nodeId": "1a",
                "nodeType": "atomic",
                "atomicText": "Currently being treated with IOP-lowering medication",
                "omopTable": "drug_exposure",
                "timeConstraint": "currently being treated",
                "strategy": "Identify patients on any medication intended to lower intraocular pressure.",
                "clinicalCategory": "prior_therapy",
                "queryableStatus": "fully_queryable"
              },
              {
                "nodeId": "1b",
                "nodeType": "operator",
                "operator": "OR",
                "operands": [
                  {
                    "nodeId": "1b1",
                    "nodeType": "atomic",
                    "atomicText": "Currently being treated with any form of topical ophthalmic cyclosporine (including RESTASIS\u00ae and generics)",
                    "omopTable": "drug_exposure",
                    "timeConstraint": "currently being treated",
                    "strategy": "Identify use of cyclosporine ophthalmic solutions, covering both brand and generic formulations.",
                    "clinicalCategory": "prior_therapy",
                    "queryableStatus": "fully_queryable",
                    "clinicalConceptGroup": "prohibited_dry_eye_meds"
                  },
                  {
                    "nodeId": "1b2",
                    "nodeType": "atomic",
                    "atomicText": "Currently being treated with lifitegrast 5% ophthalmic solution (including Xiidra\u00ae and generics)",
                    "omopTable": "drug_exposure",
                    "timeConstraint": "currently being treated",
                    "strategy": "Identify use of lifitegrast ophthalmic solutions, covering both brand and generic formulations.",
                    "clinicalCategory": "prior_therapy",
                    "queryableStatus": "fully_queryable",
                    "clinicalConceptGroup": "prohibited_dry_eye_meds"
                  }
                ]
              }
            ]
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\nSELECT person_id FROM person\nEXCEPT\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nINTERSECT\n((SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */))))\n)",
      "components": [
        {
          "atomicId": "1a",
          "atomicText": "Currently being treated with IOP-lowering medication",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b1",
          "atomicText": "Currently being treated with any form of topical ophthalmic cyclosporine (including RESTASIS\u00ae and generics)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "1b2",
          "atomicText": "Currently being treated with lifitegrast 5% ophthalmic solution (including Xiidra\u00ae and generics)",
          "omopTable": "drug_exposure",
          "sql": "SELECT DISTINCT de.person_id\nFROM drug_exposure de\nWHERE de.drug_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    },
    {
      "criterionId": "EXC_E21",
      "type": "Exclusion",
      "logicOperator": "OR",
      "useExpressionTree": true,
      "expression": {
        "nodeId": "root",
        "nodeType": "operator",
        "operator": "OR",
        "operands": [
          {
            "nodeId": "1",
            "nodeType": "atomic",
            "atomicText": "Investigator opinion: patient has a condition or situation that may put them at significant risk",
            "omopTable": "observation",
            "strategy": "This is a general safety exclusion based on the investigator's clinical judgment to protect the patient's well-being.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "investigator_discretion_exclusion"
          },
          {
            "nodeId": "2",
            "nodeType": "atomic",
            "atomicText": "Investigator opinion: patient has a condition or situation that may confound the study results",
            "omopTable": "observation",
            "strategy": "This clause ensures data integrity by excluding patients whose underlying conditions could interfere with the interpretation of the study's findings.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "investigator_discretion_exclusion"
          },
          {
            "nodeId": "3",
            "nodeType": "atomic",
            "atomicText": "Investigator opinion: patient has a condition or situation that may interfere significantly with study participation",
            "omopTable": "observation",
            "strategy": "This clause ensures protocol compliance and feasibility by excluding patients who may not be able to complete all study procedures.",
            "clinicalCategory": "safety_exclusion",
            "queryableStatus": "requires_manual",
            "clinicalConceptGroup": "investigator_discretion_exclusion"
          }
        ]
      },
      "sqlTemplate": "-- EXCLUSION: Exclude patients matching this criterion\nSELECT person_id FROM person\nWHERE person_id NOT IN (\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\nUNION\n(SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */))\n)",
      "components": [
        {
          "atomicId": "1",
          "atomicText": "Investigator opinion: patient has a condition or situation that may put them at significant risk",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "2",
          "atomicText": "Investigator opinion: patient has a condition or situation that may confound the study results",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        },
        {
          "atomicId": "3",
          "atomicText": "Investigator opinion: patient has a condition or situation that may interfere significantly with study participation",
          "omopTable": "observation",
          "sql": "SELECT DISTINCT o.person_id\nFROM observation o\nWHERE o.observation_concept_id IN (/* UNMAPPED - requires manual concept selection */)"
        }
      ]
    }
  ],
  "statistics": {
    "totalCriteria": 33,
    "conceptsCovered": 0
  }
}