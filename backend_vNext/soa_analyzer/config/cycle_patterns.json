{
  "_metadata": {
    "description": "Cycle expansion validation patterns for Stage 8",
    "purpose": "Cross-check LLM decisions - NOT for primary routing (LLM-first strategy)",
    "version": "1.0.0",
    "created": "2025-12-06",
    "pattern_count": 45
  },
  "recurrence_type_handlers": {
    "PER_CYCLE": "expand",
    "FIXED_INTERVAL": "expand",
    "AT_EVENT": "review",
    "CONDITIONAL": "conditional_expand",
    "NONE": "skip"
  },
  "non_expandable_patterns": [
    "Cycle 1 only",
    "First cycle only",
    "C1 only",
    "Screening",
    "Baseline",
    "End of Treatment",
    "EOT",
    "End of Study",
    "EOS",
    "Follow-up",
    "Early Termination",
    "Unscheduled",
    "Safety follow-up"
  ],
  "known_cycle_expansions": {
    "Cycles 1-2": [1, 2],
    "Cycles 1-3": [1, 2, 3],
    "Cycles 1-4": [1, 2, 3, 4],
    "Cycles 1-5": [1, 2, 3, 4, 5],
    "Cycles 1-6": [1, 2, 3, 4, 5, 6],
    "Cycles 1-7": [1, 2, 3, 4, 5, 6, 7],
    "Cycles 1-8": [1, 2, 3, 4, 5, 6, 7, 8],
    "Cycles 1-10": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
    "Cycles 1-12": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
    "Cycles 2-6": [2, 3, 4, 5, 6],
    "Cycles 2-8": [2, 3, 4, 5, 6, 7, 8],
    "Cycles 3-6": [3, 4, 5, 6],
    "Cycle 1, 2": [1, 2],
    "Cycle 1, 2, 3": [1, 2, 3],
    "Cycles 1, 2, 3": [1, 2, 3],
    "Cycles 1, 3, 5": [1, 3, 5],
    "Cycles 1, 4": [1, 4],
    "Cycle 1 and 2": [1, 2],
    "Cycles 1 and 2": [1, 2],
    "Cycles 1 and 4": [1, 4],
    "Each cycle": "use_max_cycles",
    "All cycles": "use_max_cycles",
    "Every cycle": "use_max_cycles",
    "Every other cycle": "odd_cycles",
    "Odd cycles": "odd_cycles",
    "Even cycles": "even_cycles"
  },
  "known_interval_expansions": {
    "Weekly for 4 weeks": [1, 2, 3, 4],
    "Weekly for 6 weeks": [1, 2, 3, 4, 5, 6],
    "Weekly for 8 weeks": [1, 2, 3, 4, 5, 6, 7, 8],
    "Weekly for 12 weeks": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
    "Every 2 weeks for 6 weeks": [1, 3, 5],
    "Every 2 weeks for 8 weeks": [1, 3, 5, 7],
    "Every 2 weeks for 12 weeks": [1, 3, 5, 7, 9, 11],
    "Every 3 weeks x 4": [1, 2, 3, 4],
    "Every 3 weeks x 6": [1, 2, 3, 4, 5, 6],
    "Every 3 weeks x 8": [1, 2, 3, 4, 5, 6, 7, 8],
    "Every 4 weeks x 6": [1, 2, 3, 4, 5, 6],
    "Monthly for 3 months": [1, 2, 3],
    "Monthly for 6 months": [1, 2, 3, 4, 5, 6],
    "Monthly for 12 months": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
    "Q3W for 6 cycles": [1, 2, 3, 4, 5, 6],
    "Q4W for 6 cycles": [1, 2, 3, 4, 5, 6]
  },
  "known_week_expansions": {
    "Week 1, 2, 3, 4": [1, 2, 3, 4],
    "Week 1, 4, 8, 12": [1, 4, 8, 12],
    "Weeks 1-4": [1, 2, 3, 4],
    "Weeks 1-8": [1, 2, 3, 4, 5, 6, 7, 8],
    "Weeks 1-12": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
    "Weeks 1, 4": [1, 4],
    "Weeks 1, 4, 8": [1, 4, 8],
    "Weeks 1, 4, 8, 12": [1, 4, 8, 12],
    "Weeks 1 and 4": [1, 4],
    "Weeks 1, 2, and 4": [1, 2, 4]
  },
  "event_driven_patterns": [
    "until progression",
    "until disease progression",
    "until PD",
    "until unacceptable toxicity",
    "until discontinuation",
    "until death",
    "until withdrawal",
    "as long as benefit",
    "as clinically indicated",
    "until complete response"
  ],
  "steady_state_patterns": [
    "Cycle 4+",
    "Cycle 4 onwards",
    "Cycles 4+",
    "C4+",
    "Cycle 5+",
    "Cycles 5+",
    "Cycle 6+",
    "Cycles 6+",
    "From Cycle 4",
    "From Cycle 5",
    "After Cycle 3",
    "After Cycle 4",
    "Maintenance cycles"
  ],
  "patterns": {
    "explicit_range": {
      "id": "explicit_range",
      "pattern_regex": "[Cc]ycles?\\s*(\\d+)\\s*[-–]\\s*(\\d+)",
      "description": "Explicit cycle range notation (e.g., 'Cycles 1-6')"
    },
    "explicit_list": {
      "id": "explicit_list",
      "pattern_regex": "[Cc]ycles?\\s*(\\d+)\\s*[,&]\\s*(and\\s+)?(\\d+)",
      "description": "Explicit cycle list notation (e.g., 'Cycles 1, 2, 3')"
    },
    "steady_state": {
      "id": "steady_state",
      "pattern_regex": "[Cc]ycles?\\s*(\\d+)\\s*\\+|[Cc]ycles?\\s*(\\d+)\\s+onwards",
      "description": "Steady state notation (e.g., 'Cycle 4+', 'Cycle 4 onwards')"
    },
    "week_range": {
      "id": "week_range",
      "pattern_regex": "[Ww]eeks?\\s*(\\d+)\\s*[-–]\\s*(\\d+)",
      "description": "Week range notation (e.g., 'Weeks 1-12')"
    },
    "week_list": {
      "id": "week_list",
      "pattern_regex": "[Ww]eeks?\\s*(\\d+)\\s*[,&]\\s*(and\\s+)?(\\d+)",
      "description": "Week list notation (e.g., 'Weeks 1, 4, 8')"
    },
    "every_n_cycles": {
      "id": "every_n_cycles",
      "pattern_regex": "[Ee]very\\s+(\\d+)\\s+cycles?",
      "description": "Every N cycles notation (e.g., 'Every 3 cycles')"
    },
    "every_n_weeks": {
      "id": "every_n_weeks",
      "pattern_regex": "[Ee]very\\s+(\\d+)\\s+weeks?|[Qq](\\d+)[Ww]",
      "description": "Every N weeks notation (e.g., 'Every 3 weeks', 'Q3W')"
    },
    "first_only": {
      "id": "first_only",
      "pattern_regex": "[Cc]ycle\\s*1\\s+only|[Ff]irst\\s+cycle\\s+only|C1\\s+only",
      "description": "First cycle only notation - should NOT expand"
    },
    "event_driven": {
      "id": "event_driven",
      "pattern_regex": "[Uu]ntil\\s+(progression|PD|toxicity|discontinuation|death|withdrawal)",
      "description": "Event-driven termination - requires human review"
    }
  },
  "cycle_length_defaults": {
    "default": 21,
    "q3w": 21,
    "q4w": 28,
    "q2w": 14,
    "weekly": 7,
    "monthly": 28,
    "biweekly": 14,
    "q6w": 42
  },
  "steady_state_defaults": {
    "threshold": 4,
    "max_cycles_if_unknown": 12,
    "representative_cycle_label": "Steady State"
  },
  "cycle_abbreviations": {
    "C1": "Cycle 1",
    "C2": "Cycle 2",
    "C3": "Cycle 3",
    "C4": "Cycle 4",
    "C5": "Cycle 5",
    "C6": "Cycle 6",
    "C1D1": "Cycle 1 Day 1",
    "C1D8": "Cycle 1 Day 8",
    "C1D15": "Cycle 1 Day 15",
    "C2D1": "Cycle 2 Day 1",
    "C2D8": "Cycle 2 Day 8",
    "C3D1": "Cycle 3 Day 1",
    "Q3W": "Every 3 weeks",
    "Q4W": "Every 4 weeks",
    "Q2W": "Every 2 weeks",
    "Q6W": "Every 6 weeks"
  },
  "visit_type_cycle_associations": {
    "Treatment": "expandable",
    "Dosing": "expandable",
    "Assessment": "expandable",
    "PK Sampling": "expandable",
    "Safety": "expandable",
    "Screening": "non_expandable",
    "Baseline": "non_expandable",
    "End of Treatment": "non_expandable",
    "EOT": "non_expandable",
    "Follow-up": "non_expandable",
    "Survival": "non_expandable",
    "Early Termination": "non_expandable"
  }
}
