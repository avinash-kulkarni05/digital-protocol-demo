system
You are an expert clinical trial document analyst specializing in locating exact source references in clinical protocol documents.

user
# PK/PD SAMPLING - PASS 2: PROVENANCE EXTRACTION

## OBJECTIVE
Add provenance (source references) to ALL values extracted in Pass 1. For EVERY extracted element, locate the supporting evidence in the protocol and add provenance.

You are provided with:
1. Extracted PK/PD sampling data from Pass 1
2. The original protocol PDF

Your task is to find EXACT source locations (provenance) for each extracted item.

---

## CRITICAL: 100% PROVENANCE COVERAGE REQUIRED

**EVERY extracted field MUST have provenance coverage.** Provenance coverage means either:
1. The field's parent object has a `provenance` object, OR
2. The field has a sibling `{fieldName}Provenance` object

**FAILURE MODE**: If ANY section is missing a `provenance` object, the quality check FAILS.

**MANDATORY ROOT PROVENANCE OBJECTS** - You MUST add `provenance` to ALL these paths:
- `$.provenance` - Root document provenance (REQUIRED)
- `$.pk_sampling.provenance` - PK sampling section (REQUIRED)
- `$.pk_parameters.provenance` - PK parameters section (REQUIRED)
- `$.population_pk.provenance` - Population PK section (REQUIRED if present)
- `$.pd_assessments.provenance` - PD assessments section (REQUIRED)
- `$.immunogenicity.provenance` - Immunogenicity section (REQUIRED)
- `$.sample_handling.provenance` - Sample handling section (REQUIRED)
- `$.special_populations.provenance` - Special populations (REQUIRED if present)

---

## PROVENANCE STRUCTURE

For each provenance object, provide:
```json
{
  "section_number": "10.3",
  "page_number": 85,
  "text_snippet": "Direct quote from protocol (max 500 chars)"
}
```

- **section_number**: SHORT section number ONLY (e.g., "10", "10.3"). MAX 20 characters. Can be null if unknown.
- **page_number**: PDF page number (integer, 1-indexed) - REQUIRED
- **text_snippet**: Direct quote from protocol (STRICT MAX 500 chars) - REQUIRED

---

## PASS 1 EXTRACTION (Data Requiring Provenance)

{{ extracted_values }}

---

## PROVENANCE PATHS TO POPULATE

**Root Level:**
- $.provenance

**PK Sampling:**
- $.pk_sampling.provenance
- $.pk_sampling.analytes[*].provenance
- $.pk_sampling.sampling_schedule[*].provenance

**PK Parameters:**
- $.pk_parameters.provenance

**Population PK:**
- $.population_pk.provenance

**PD Assessments:**
- $.pd_assessments.provenance
- $.pd_assessments.pd_biomarkers[*].provenance

**Immunogenicity:**
- $.immunogenicity.provenance

**Sample Handling:**
- $.sample_handling.provenance

**Special Populations:**
- $.special_populations.provenance

**Biomedical Concepts:**
Note: biomedicalConcept objects do NOT require separate provenance. They inherit provenance from their parent analyte or biomarker object.

---

## SEARCH STRATEGY

| Content Type | Typical Sections |
|--------------|------------------|
| PK Sampling | "Pharmacokinetic Assessments", "PK Samples", "Blood Sampling" |
| Analytes | "Bioanalytical Methods", "Drug Concentration", "Metabolite Analysis" |
| PK Parameters | "PK Analysis", "Pharmacokinetic Parameters", "Non-Compartmental Analysis" |
| Population PK | "Population Pharmacokinetics", "PopPK", "Modeling" |
| PD Biomarkers | "Pharmacodynamic Assessments", "Biomarker Analysis", "Target Engagement" |
| Immunogenicity | "ADA", "Anti-drug Antibody", "Immunogenicity Assessment" |
| Sample Handling | "Sample Collection", "Processing", "Storage", "Bioanalytical" |
| Special Populations | "Hepatic Impairment", "Renal Impairment", "Special Populations" |

---

## CRITICAL: DO NOT MODIFY PRIMITIVE ARRAYS

**Arrays that must remain as PLAIN STRING arrays:**
- `primary_parameters`: ["Cmax", "AUC"] - KEEP AS PLAIN STRINGS
- `secondary_parameters`: ["t1/2", "CL/F"] - KEEP AS PLAIN STRINGS
- `covariates`: ["age", "weight"] - KEEP AS PLAIN STRINGS
- `intensive_pk_visits`: ["Cycle 1 Day 1"] - KEEP AS PLAIN STRINGS
- `sparse_pk_visits`: ["Cycle 2 Day 1"] - KEEP AS PLAIN STRINGS
- `sampling_schedule` (in immunogenicity): ["Baseline", "EOT"] - KEEP AS PLAIN STRINGS

Provenance for these arrays should be at the PARENT object level.

---

## VALIDATION CHECKLIST (MANDATORY)

**Before returning, verify ALL of these provenance objects exist:**

Root Level:
- [ ] `$.provenance` exists with page_number and text_snippet

Section Level (ALL REQUIRED):
- [ ] `$.pk_sampling.provenance` exists
- [ ] `$.pk_parameters.provenance` exists
- [ ] `$.pd_assessments.provenance` exists
- [ ] `$.immunogenicity.provenance` exists
- [ ] `$.sample_handling.provenance` exists

Conditional Sections:
- [ ] `$.population_pk.provenance` exists (if population_pk is present)
- [ ] `$.special_populations.provenance` exists (if special_populations is present)

Array Items:
- [ ] Every item in `analytes[]` has provenance
- [ ] Every item in `sampling_schedule[]` has provenance
- [ ] Every item in `pd_biomarkers[]` has provenance (if present)

Format Requirements:
- [ ] All page_number values are integers (1-indexed)
- [ ] All text_snippets are â‰¤500 characters
- [ ] text_snippets are EXACT quotes from the document
- [ ] Primitive arrays remain as plain strings

**DO NOT RETURN until ALL checkboxes above are satisfied.**

---

## OUTPUT

Return ONLY valid JSON. No markdown fences, no explanations.
Return the complete merged JSON object with all Pass 1 data PLUS provenance for EVERY section.
